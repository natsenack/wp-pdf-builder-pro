"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwp_pdf_builder_pro"] = self["webpackChunkwp_pdf_builder_pro"] || []).push([["src_components_WooCommerceElements_jsx"],{

/***/ "./src/components/WooCommerceElements.jsx":
/*!************************************************!*\
  !*** ./src/components/WooCommerceElements.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useWooCommerceElements: () => (/* binding */ useWooCommerceElements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_useResize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hooks/useResize */ \"./src/hooks/useResize.js\");\n\n\n\n/**\r\n * Fonction utilitaire pour obtenir le label d'un élément WooCommerce\r\n */\nvar getElementLabel = function getElementLabel(type) {\n  var labels = {\n    'woocommerce-invoice-number': 'Numéro Facture',\n    'woocommerce-invoice-date': 'Date Facture',\n    'woocommerce-order-number': 'N° Commande',\n    'woocommerce-order-date': 'Date Commande',\n    'woocommerce-billing-address': 'Adresse Facturation',\n    'woocommerce-shipping-address': 'Adresse Livraison',\n    'woocommerce-customer-name': 'Nom Client',\n    'woocommerce-customer-email': 'Email Client',\n    'woocommerce-payment-method': 'Paiement',\n    'woocommerce-order-status': 'Statut',\n    'woocommerce-products-table': 'Tableau Produits',\n    'woocommerce-products-simple': 'Liste Produits',\n    'woocommerce-subtotal': 'Sous-total',\n    'woocommerce-discount': 'Remise',\n    'woocommerce-shipping': 'Livraison',\n    'woocommerce-taxes': 'Taxes',\n    'woocommerce-total': 'Total',\n    'woocommerce-refund': 'Remboursement',\n    'woocommerce-fees': 'Frais',\n    'woocommerce-quote-number': 'N° Devis',\n    'woocommerce-quote-date': 'Date Devis',\n    'woocommerce-quote-validity': 'Validité',\n    'woocommerce-quote-notes': 'Notes Devis'\n  };\n  return labels[type] || 'Élément WC';\n};\n\n/**\r\n * Hook personnalisé pour gérer les éléments WooCommerce\r\n */\nvar useWooCommerceElements = function useWooCommerceElements() {\n  var getElementDefaults = function getElementDefaults(type) {\n    var defaults = {\n      width: 200,\n      height: 60,\n      fontSize: 14,\n      fontFamily: 'Arial, sans-serif',\n      color: '#333333',\n      backgroundColor: '#ffffff',\n      borderColor: '#dddddd',\n      borderWidth: 1,\n      borderRadius: 4,\n      padding: 8\n    };\n\n    // Ajustements spécifiques selon le type\n    switch (type) {\n      case 'woocommerce-billing-address':\n      case 'woocommerce-shipping-address':\n        defaults.height = 100;\n        break;\n      case 'woocommerce-products-table':\n        defaults.width = 400;\n        defaults.height = 150;\n        defaults.columns = {\n          image: true,\n          name: true,\n          sku: true,\n          quantity: true,\n          price: true,\n          total: true\n        };\n        break;\n      case 'woocommerce-products-simple':\n        defaults.width = 350;\n        defaults.height = 120;\n        break;\n      case 'woocommerce-invoice-number':\n      case 'woocommerce-order-number':\n      case 'woocommerce-quote-number':\n        defaults.width = 150;\n        defaults.height = 40;\n        break;\n      default:\n        break;\n    }\n    return defaults;\n  };\n  var validateElement = function validateElement(element) {\n    // Validation basique des propriétés requises\n    return element && element.type && element.id;\n  };\n  return {\n    getElementDefaults: getElementDefaults,\n    validateElement: validateElement,\n    getElementLabel: getElementLabel\n  };\n};\n\n/**\r\n * Composant pour gérer les éléments WooCommerce dans le canvas\r\n * Ce composant gère l'affichage et le rendu des éléments WooCommerce\r\n */\nvar WooCommerceElement = function WooCommerceElement(_ref) {\n  var element = _ref.element,\n    isSelected = _ref.isSelected,\n    onSelect = _ref.onSelect,\n    onUpdate = _ref.onUpdate,\n    dragAndDrop = _ref.dragAndDrop,\n    _ref$zoom = _ref.zoom,\n    zoom = _ref$zoom === void 0 ? 1 : _ref$zoom,\n    canvasWidth = _ref.canvasWidth,\n    canvasHeight = _ref.canvasHeight;\n  var elementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var resize = (0,_hooks_useResize__WEBPACK_IMPORTED_MODULE_1__.useResize)({\n    onElementResize: function onElementResize(newRect) {\n      onUpdate({\n        x: newRect.x,\n        y: newRect.y,\n        width: newRect.width,\n        height: newRect.height\n      });\n    },\n    snapToGrid: true,\n    gridSize: 10,\n    canvasWidth: canvasWidth,\n    canvasHeight: canvasHeight\n  });\n  var handleMouseDown = function handleMouseDown(e) {\n    e.stopPropagation();\n\n    // Calculer les coordonnées relatives au canvas (en tenant compte du zoom)\n    var canvas = elementRef.current.closest('.canvas-zoom-wrapper');\n    if (!canvas) return;\n    var canvasRect = canvas.getBoundingClientRect();\n    var elementRect = elementRef.current.getBoundingClientRect();\n\n    // Ajuster pour le zoom - les coordonnées doivent être relatives au canvas non-zoomé\n    var clickX = (e.clientX - canvasRect.left) / zoom;\n    var clickY = (e.clientY - canvasRect.top) / zoom;\n    var handleSize = 8 / zoom; // Ajuster la taille des poignées pour le zoom\n\n    // Poignées de redimensionnement (coordonnées relatives au canvas)\n    var handles = [{\n      name: 'nw',\n      x: element.x,\n      y: element.y\n    }, {\n      name: 'ne',\n      x: element.x + element.width,\n      y: element.y\n    }, {\n      name: 'sw',\n      x: element.x,\n      y: element.y + element.height\n    }, {\n      name: 'se',\n      x: element.x + element.width,\n      y: element.y + element.height\n    }, {\n      name: 'n',\n      x: element.x + element.width / 2,\n      y: element.y\n    }, {\n      name: 's',\n      x: element.x + element.width / 2,\n      y: element.y + element.height\n    }, {\n      name: 'w',\n      x: element.x,\n      y: element.y + element.height / 2\n    }, {\n      name: 'e',\n      x: element.x + element.width,\n      y: element.y + element.height / 2\n    }];\n    for (var _i = 0, _handles = handles; _i < _handles.length; _i++) {\n      var handle = _handles[_i];\n      if (clickX >= handle.x - handleSize / 2 && clickX <= handle.x + handleSize / 2 && clickY >= handle.y - handleSize / 2 && clickY <= handle.y + handleSize / 2) {\n        resize.handleResizeStart(e, handle.name, {\n          x: element.x,\n          y: element.y,\n          width: element.width,\n          height: element.height\n        }, canvasRect, zoom);\n        return;\n      }\n    }\n\n    // Si on clique ailleurs sur l'élément, commencer le drag\n    if (dragAndDrop && dragAndDrop.handleMouseDown) {\n      var _canvas = elementRef.current.closest('.canvas-zoom-wrapper');\n      var _canvasRect = _canvas.getBoundingClientRect();\n      dragAndDrop.handleMouseDown(e, element.id, {\n        left: element.x,\n        top: element.y,\n        width: element.width,\n        height: element.height\n      }, _canvasRect, zoom);\n    }\n  };\n  var handleClick = function handleClick(e) {\n    e.stopPropagation();\n    if (!isSelected) {\n      onSelect(element.id);\n    }\n  };\n  var baseStyle = {\n    position: 'absolute',\n    left: element.x * zoom,\n    top: element.y * zoom,\n    width: element.width * zoom,\n    height: element.height * zoom,\n    cursor: isSelected ? 'move' : 'pointer',\n    userSelect: 'none',\n    border: isSelected ? '1px solid #007cba' : '1px solid #ddd',\n    backgroundColor: element.backgroundColor || '#ffffff',\n    color: element.color || '#333333',\n    fontSize: (element.fontSize || 14) * zoom,\n    fontFamily: element.fontFamily || 'Arial, sans-serif',\n    padding: (element.padding || 8) * zoom,\n    borderRadius: (element.borderRadius || 4) * zoom,\n    boxSizing: 'border-box',\n    overflow: 'hidden'\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: elementRef,\n    style: baseStyle,\n    onClick: handleClick,\n    onMouseDown: handleMouseDown\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px'\n    }\n  }, getElementLabel(element.type)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      whiteSpace: 'pre-line',\n      lineHeight: '1.4',\n      color: '#666'\n    }\n  }, \"[Contenu dynamique WooCommerce]\")), isSelected && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle nw\",\n    style: {\n      position: 'absolute',\n      left: element.x * zoom - 4,\n      top: element.y * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'nw-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'nw', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle ne\",\n    style: {\n      position: 'absolute',\n      left: (element.x + element.width) * zoom - 4,\n      top: element.y * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'ne-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'ne', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle sw\",\n    style: {\n      position: 'absolute',\n      left: element.x * zoom - 4,\n      top: (element.y + element.height) * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'sw-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'sw', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle se\",\n    style: {\n      position: 'absolute',\n      left: (element.x + element.width) * zoom - 4,\n      top: (element.y + element.height) * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'se-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'se', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle n\",\n    style: {\n      position: 'absolute',\n      left: (element.x + element.width / 2) * zoom - 4,\n      top: element.y * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'n-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'n', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle s\",\n    style: {\n      position: 'absolute',\n      left: (element.x + element.width / 2) * zoom - 4,\n      top: (element.y + element.height) * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 's-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 's', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle w\",\n    style: {\n      position: 'absolute',\n      left: element.x * zoom - 4,\n      top: (element.y + element.height / 2) * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'w-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'w', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"resize-handle e\",\n    style: {\n      position: 'absolute',\n      left: (element.x + element.width) * zoom - 4,\n      top: (element.y + element.height / 2) * zoom - 4,\n      width: 8,\n      height: 8,\n      backgroundColor: '#007cba',\n      border: '1px solid white',\n      cursor: 'e-resize',\n      pointerEvents: 'auto'\n    },\n    onMouseDown: function onMouseDown(e) {\n      return resize.handleResizeStart(e, 'e', {\n        x: element.x,\n        y: element.y,\n        width: element.width,\n        height: element.height\n      });\n    }\n  })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WooCommerceElement);\n\n//# sourceURL=webpack://wp-pdf-builder-pro/./src/components/WooCommerceElements.jsx?\n}");

/***/ })

}]);