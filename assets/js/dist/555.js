/*! For license information please see 555.js.LICENSE.txt */
"use strict";(self.webpackChunkwp_pdf_builder_pro=self.webpackChunkwp_pdf_builder_pro||[]).push([[555],{2544:(e,t,o)=>{o.r(t),o.d(t,{ImageRenderer:()=>i});var n=o(6540);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a,i,c=[],l=!0,d=!1;try{if(a=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=a.call(o)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){d=!0,r=e}finally{try{if(!l&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(d)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var i=function(e){var t=e.element,o=e.previewData,a=(e.mode,e.canvasScale),i=void 0===a?1:a,c=r((0,n.useState)(!0),2),l=c[0],d=c[1],s=r((0,n.useState)(!1),2),p=s[0],u=s[1],v=t.x,m=void 0===v?0:v,h=t.y,f=void 0===h?0:h,g=t.width,b=void 0===g?150:g,x=t.height,y=void 0===x?80:x,w=t.imageUrl,E=void 0===w?"":w,S=t.alt,C=void 0===S?"Image":S,O=t.objectFit,k=void 0===O?"contain":O,A=t.backgroundColor,j=void 0===A?"transparent":A,W=t.borderWidth,_=void 0===W?0:W,z=t.borderColor,D=void 0===z?"#000000":z,R=t.borderRadius,T=void 0===R?0:R,P=t.opacity,F=void 0===P?1:P,N=t.rotation,H=void 0===N?0:N,I=t.scale,L=void 0===I?1:I,M=t.visible,q=void 0===M||M,X=t.shadow,Y=void 0!==X&&X,G=t.shadowColor,B=void 0===G?"#000000":G,U=t.shadowOffsetX,Q=void 0===U?2:U,V=t.shadowOffsetY,K=void 0===V?2:V,$=t.brightness,J=void 0===$?100:$,Z=t.contrast,ee=void 0===Z?100:Z,te=t.saturate,oe=void 0===te?100:te,ne=(o["".concat(t.type,"_").concat(t.id)]||{}).imageUrl||E,re={position:"absolute",left:"".concat(m*i,"px"),top:"".concat(f*i,"px"),width:"".concat(b*i,"px"),height:"".concat(y*i,"px"),backgroundColor:j,border:_>0?"".concat(_,"px solid ").concat(D):"none",borderRadius:"".concat(T,"px"),opacity:F,display:q?"flex":"none",alignItems:"center",justifyContent:"center",boxSizing:"border-box",overflow:"hidden",transform:"rotate(".concat(H,"deg) scale(").concat(L,")"),transformOrigin:"top left",boxShadow:Y?"".concat(Q,"px ").concat(K,"px 4px ").concat(B):"none"},ae={width:"100%",height:"100%",objectFit:k,borderRadius:_>0?"0":"".concat(T,"px"),filter:"brightness(".concat(J,"%) contrast(").concat(ee,"%) saturate(").concat(oe,"%)"),display:l&&!p?"block":"none"},ie={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"2px dashed #dee2e6",borderRadius:"".concat(T,"px"),color:"#6c757d",fontSize:"12px",textAlign:"center",padding:"8px",boxSizing:"border-box"};return n.createElement("div",{className:"preview-element preview-image-element",style:re,"data-element-id":t.id,"data-element-type":t.type},ne&&!p?n.createElement("img",{src:ne,alt:C,style:ae,onLoad:function(){d(!0),u(!1)},onError:function(){d(!1),u(!0),console.warn("Failed to load image: ".concat(ne))}}):null,!ne||p?n.createElement("div",{style:ie},n.createElement("div",null,n.createElement("div",{style:{fontSize:"16px",marginBottom:"4px"}},"üì∑"),n.createElement("div",null,"company_logo"===t.type?"Logo":"Image"),p&&n.createElement("div",{style:{fontSize:"10px",marginTop:"4px",color:"#dc3545"}},"Erreur de chargement"))):null)}},9555:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var n=o(6540),r=o(38),a=function(e){var t=e.element,o=(e.previewData,e.mode,e.canvasScale),r=void 0===o?1:o,a=t.x,i=void 0===a?0:a,c=t.y,l=void 0===c?0:c,d=t.width,s=void 0===d?200:d,p=t.height,u=void 0===p?50:p,v=t.content,m=void 0===v?"":v,h=t.text,f=void 0===h?m||"Texte d'exemple":h,g=t.fontSize,b=void 0===g?14:g,x=t.fontFamily,y=void 0===x?"Arial":x,w=t.fontWeight,E=void 0===w?"normal":w,S=t.fontStyle,C=void 0===S?"normal":S,O=t.textAlign,k=void 0===O?"left":O,A=t.color,j=void 0===A?"#333333":A,W=t.backgroundColor,_=void 0===W?"transparent":W,z=t.borderWidth,D=void 0===z?0:z,R=t.borderColor,T=void 0===R?"#000000":R,P=t.borderRadius,F=void 0===P?0:P,N=t.opacity,H=void 0===N?1:N,I=t.rotation,L=void 0===I?0:I,M=t.scale,q=void 0===M?1:M,X=t.visible,Y=void 0===X||X,G=t.shadow,B=void 0!==G&&G,U=t.shadowColor,Q=void 0===U?"#000000":U,V=t.shadowOffsetX,K=void 0===V?2:V,$=t.shadowOffsetY,J=void 0===$?2:$,Z=t.textDecoration,ee=void 0===Z?"none":Z,te=t.lineHeight,oe=void 0===te?1.2:te,ne=t.padding,re=void 0===ne?4:ne,ae={position:"absolute",left:"".concat(i*r,"px"),top:"".concat(l*r,"px"),width:"".concat(s*r,"px"),height:"".concat(u*r,"px"),fontSize:"".concat(b*r,"px"),fontFamily:y,fontWeight:E,fontStyle:C,textAlign:k,color:j,backgroundColor:_,border:D>0?"".concat(D,"px solid ").concat(T):"none",borderRadius:"".concat(F,"px"),opacity:H,padding:"".concat(re,"px"),boxSizing:"border-box",overflow:"hidden",display:Y?"block":"none",whiteSpace:"pre-wrap",wordWrap:"break-word",textDecoration:ee,lineHeight:"".concat(oe),transform:"rotate(".concat(L,"deg) scale(").concat(q,")"),transformOrigin:"top left",boxShadow:B?"".concat(K,"px ").concat(J,"px 4px ").concat(Q):"none"};return n.createElement("div",{className:"preview-element preview-text-element",style:ae,"data-element-id":t.id,"data-element-type":"text"},f)},i=function(e){var t=e.element,o=(e.previewData,e.mode,e.canvasScale),r=void 0===o?1:o,a=t.x,i=void 0===a?0:a,c=t.y,l=void 0===c?0:c,d=t.width,s=void 0===d?100:d,p=t.height,u=void 0===p?50:p,v=t.backgroundColor,m=void 0===v?"transparent":v,h=t.borderColor,f=void 0===h?"#000000":h,g=t.borderWidth,b=void 0===g?1:g,x=t.borderRadius,y=void 0===x?0:x,w=t.opacity,E=void 0===w?100:w,S=t.rotation,C=void 0===S?0:S,O=t.scale,k=void 0===O?1:O,A=t.visible,j=void 0===A||A,W=t.shadow,_=void 0!==W&&W,z=t.shadowColor,D=void 0===z?"#000000":z,R=t.shadowOffsetX,T=void 0===R?2:R,P=t.shadowOffsetY,F=void 0===P?2:P,N={position:"absolute",left:"".concat(i*r,"px"),top:"".concat(l*r,"px"),width:"".concat(s*r,"px"),height:"".concat(u*r,"px"),backgroundColor:m,border:b>0?"".concat(b,"px solid ").concat(f):"none",borderRadius:"".concat(y,"px"),opacity:E/100,display:j?"block":"none",transform:"rotate(".concat(C,"deg) scale(").concat(k,")"),transformOrigin:"top left",boxShadow:_?"".concat(T,"px ").concat(F,"px 4px ").concat(D):"none"};return n.createElement("div",{className:"preview-element preview-rectangle-element",style:N,"data-element-id":t.id,"data-element-type":t.type})},c=o(2544);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach(function(t){p(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function p(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u=function(e){return Array.isArray(e)&&3===e.length?"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"):"transparent"},v=function(e){var t,o=e.element,r=e.previewData,a=(e.mode,e.canvasScale),i=void 0===a?1:a,c=o.x,l=void 0===c?0:c,d=o.y,p=void 0===d?0:d,v=o.width,m=void 0===v?500:v,h=o.height,f=void 0===h?200:h,g=o.showHeaders,b=void 0===g||g,x=o.showBorders,y=void 0!==x&&x,w=(o.tableStyle,o.backgroundColor),E=void 0===w?"transparent":w,S=o.borderWidth,C=void 0===S?1:S,O=o.borderColor,k=void 0===O?"#dddddd":O,A=o.borderRadius,j=void 0===A?0:A,W=o.opacity,_=void 0===W?1:W,z=(o.showLabels,o.headers),D=void 0===z?["Produit","Qt√©","Prix"]:z,R=(o.dataSource,o.columns),T=void 0===R?{image:!0,name:!0,sku:!1,quantity:!0,price:!0,total:!0}:R,P=o.showSubtotal,F=void 0!==P&&P,N=o.showShipping,H=void 0===N||N,I=o.showTaxes,L=void 0===I||I,M=o.showDiscount,q=void 0!==M&&M,X=o.showTotal,Y=void 0!==X&&X,G=o.rotation,B=void 0===G?0:G,U=o.scale,Q=void 0===U?1:U,V=o.visible,K=void 0===V||V,$=o.shadow,J=void 0!==$&&$,Z=o.shadowColor,ee=void 0===Z?"#000000":Z,te=o.shadowOffsetX,oe=void 0===te?2:te,ne=o.shadowOffsetY,re=void 0===ne?2:ne,ae=r["product_table_".concat(o.id)]||{},ie=ae.tableStyleData||{header_bg:[248,249,250],header_border:[226,232,240],row_border:[241,245,249],alt_row_bg:[250,251,252],headerTextColor:"#000000",rowTextColor:"#000000",border_width:1,headerFontWeight:"bold",headerFontSize:"12px",rowFontSize:"11px"},ce=D&&D.length>0?D:ae.headers||[],le=ce.length>0?ce:ae.headers&&ae.headers.length>0?ae.headers:(t=[],T.image&&t.push("Image"),T.name&&t.push("Produit"),T.sku&&t.push("SKU"),T.quantity&&t.push("Qt√©"),T.price&&t.push("Prix"),T.total&&t.push("Total"),t),de={position:"absolute",left:"".concat(l*i,"px"),top:"".concat(p*i,"px"),width:"".concat(m*i,"px"),height:"".concat(f*i,"px"),backgroundColor:E,border:C>0?"".concat(C,"px solid ").concat(k):"none",borderRadius:"".concat(j,"px"),opacity:_,padding:"8px",boxSizing:"border-box",overflow:"auto",display:K?"block":"none",transform:"rotate(".concat(B,"deg) scale(").concat(Q,")"),transformOrigin:"top left",boxShadow:J?"".concat(oe,"px ").concat(re,"px 4px ").concat(ee):"none"},se={width:"100%",borderCollapse:y?"collapse":"separate",borderSpacing:y?"0":"2px",fontSize:ie.rowFontSize,fontFamily:"Arial, sans-serif"},pe={backgroundColor:u(ie.header_bg),color:ie.headerTextColor,fontWeight:ie.headerFontWeight,fontSize:ie.headerFontSize,padding:"8px",textAlign:"left",border:y?"".concat(ie.border_width,"px solid ").concat(u(ie.header_border)):"none"},ue={width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"},ve={maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},me={maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"10px"},he={padding:"6px 8px",border:y?"".concat(ie.border_width,"px solid ").concat(u(ie.row_border)):"none",verticalAlign:"top",fontSize:ie.rowFontSize,color:ie.rowTextColor};return n.createElement("div",{className:"preview-element preview-table-element",style:de,"data-element-id":o.id,"data-element-type":"product_table"},n.createElement("table",{style:se},b&&le&&le.length>0&&n.createElement("thead",null,n.createElement("tr",null,le.map(function(e,t){return n.createElement("th",{key:t,style:pe},e)}))),n.createElement("tbody",null,ae.rows&&ae.rows.map(function(e,t){var o=t%2==0?u(ie.alt_row_bg):"transparent";return n.createElement("tr",{key:t,style:{backgroundColor:o}},e.map(function(e,t){var o=le[t]||"",r="image"===o.toLowerCase(),a=o.toLowerCase().includes("description"),i="attributs"===o.toLowerCase(),c="qt√©"===o.toLowerCase(),l=o.toLowerCase().includes("prix")||"total"===o.toLowerCase()||"tva"===o.toLowerCase()||"remise"===o.toLowerCase(),d=s({},he);return c?d.textAlign="center":l&&(d.textAlign="right"),n.createElement("td",{key:t,style:d},r&&e?n.createElement("img",{src:e,alt:"Produit",style:ue,onError:function(e){e.target.style.display="none"}}):a&&e?n.createElement("span",{style:ve,title:e},e):i&&e?n.createElement("span",{style:me,title:e},e):e||"-")}))})),(F||H||L||q||Y)&&ae.totals&&Object.keys(ae.totals).length>0&&n.createElement("tfoot",null,F&&ae.totals.subtotal&&n.createElement("tr",null,n.createElement("td",{colSpan:le.length,style:s(s({},he),{},{textAlign:"right",fontWeight:"bold",borderTop:"1px solid #dee2e6"})},"Sous-total: ",ae.totals.subtotal)),H&&ae.totals.shipping&&n.createElement("tr",null,n.createElement("td",{colSpan:le.length,style:s(s({},he),{},{textAlign:"right",fontWeight:"bold"})},"Frais de port: ",ae.totals.shipping)),L&&ae.totals.tax&&n.createElement("tr",null,n.createElement("td",{colSpan:le.length,style:s(s({},he),{},{textAlign:"right",fontWeight:"bold"})},"TVA: ",ae.totals.tax)),q&&ae.totals.discount&&n.createElement("tr",null,n.createElement("td",{colSpan:le.length,style:s(s({},he),{},{textAlign:"right",fontWeight:"bold"})},"Remise: ",ae.totals.discount)),Y&&ae.totals.total&&n.createElement("tr",null,n.createElement("td",{colSpan:le.length,style:s(s({},he),{},{textAlign:"right",fontWeight:"bold",fontSize:"14px",color:"#2563eb",borderTop:"2px solid #2563eb"})},"Total: ",ae.totals.total)))),(!ae.rows||0===ae.rows.length)&&n.createElement("div",{style:{textAlign:"center",color:"#6c757d",fontStyle:"italic",padding:"20px"}},"Aucun produit √† afficher"))},m=function(e){var t=e.element,o=e.previewData,r=(e.mode,e.canvasScale),a=void 0===r?1:r,i=t.x,c=void 0===i?0:i,l=t.y,d=void 0===l?0:l,s=t.width,p=void 0===s?300:s,u=t.height,v=void 0===u?50:u,m=t.properties,h=void 0===m?{}:m,f=h.template,g=void 0===f?"total_only":f,b=h.customContent,x=void 0===b?"{{order_total}} ‚Ç¨":b,y=h.fontSize,w=void 0===y?14:y,E=h.fontFamily,S=void 0===E?"Arial":E,C=h.fontWeight,O=void 0===C?"normal":C,k=h.fontStyle,A=void 0===k?"normal":k,j=h.textAlign,W=void 0===j?"left":j,_=h.color,z=void 0===_?"#333333":_,D=h.backgroundColor,R=void 0===D?"transparent":D,T=h.borderWidth,P=void 0===T?0:T,F=h.borderColor,N=void 0===F?"#000000":F,H=h.borderRadius,I=void 0===H?0:H,L=h.opacity,M=void 0===L?1:L,q=h.rotation,X=void 0===q?0:q,Y=h.scale,G=void 0===Y?1:Y,B=h.visible,U=void 0===B||B,Q=h.shadow,V=void 0!==Q&&Q,K=h.shadowColor,$=void 0===K?"#000000":K,J=h.shadowOffsetX,Z=void 0===J?2:J,ee=h.shadowOffsetY,te=void 0===ee?2:ee,oe=h.textDecoration,ne=void 0===oe?"none":oe,re=h.lineHeight,ae=void 0===re?1.2:re,ie=(o["dynamic-text_".concat(t.id)]||{}).content||x,ce={position:"absolute",left:"".concat(c*a,"px"),top:"".concat(d*a,"px"),width:"".concat(p*a,"px"),height:"".concat(v*a,"px"),fontSize:"".concat(w*a,"px"),fontFamily:S,fontWeight:O,fontStyle:A,textAlign:W,color:z,backgroundColor:R,border:P>0?"".concat(P,"px solid ").concat(N):"none",borderRadius:"".concat(I,"px"),opacity:M,padding:"4px",boxSizing:"border-box",overflow:"hidden",display:U?"block":"none",whiteSpace:"pre-wrap",wordWrap:"break-word",textDecoration:ne,lineHeight:"".concat(ae),transform:"rotate(".concat(X,"deg) scale(").concat(G,")"),transformOrigin:"top left",boxShadow:V?"".concat(Z,"px ").concat(te,"px 4px ").concat($):"none"};return n.createElement("div",{className:"preview-element preview-dynamic-text-element",style:ce,"data-element-id":t.id,"data-element-type":"dynamic-text",title:"Template: ".concat(g)},ie)},h=o(6129),f=o.n(h),g=o(7583),b=function(e){var t=e.element,o=(e.previewData,e.mode,e.canvasScale),r=void 0===o?1:o,a=t.x,i=void 0===a?0:a,c=t.y,l=void 0===c?0:c,d=t.width,s=void 0===d?150:d,p=t.height,u=void 0===p?60:p,v=t.backgroundColor,m=void 0===v?"transparent":v,h=t.borderColor,b=void 0===h?"#000000":h,x=t.borderWidth,y=void 0===x?1:x,w=t.opacity,E=void 0===w?100:w,S=t.rotation,C=void 0===S?0:S,O=t.scale,k=void 0===O?1:O,A=t.visible,j=void 0===A||A,W=t.shadow,_=void 0!==W&&W,z=t.shadowColor,D=void 0===z?"#000000":z,R=t.shadowOffsetX,T=void 0===R?2:R,P=t.shadowOffsetY,F=void 0===P?2:P,N=t.content,H=void 0===N?"":N,I=t.code,L=void 0===I?"":I,M=t.format,q=void 0===M?"CODE128":M,X=(0,n.useRef)(null),Y=(0,n.useRef)(null),G=H||L||"BARCODE";(0,n.useEffect)(function(){if(j)if("qrcode"===t.type)Y.current&&g.toCanvas(Y.current,G,{errorCorrectionLevel:"H",type:"image/png",quality:1,margin:0,width:Math.min(200,Math.max(50,s*r/2))}).catch(function(e){return console.error("QR Code g√©n√©ration √©chou√©e:",e)});else if(X.current)try{f()(X.current,G,{format:q||"CODE128",width:2,height:Math.max(40,u*r-20),displayValue:!0,fontSize:12,margin:2})}catch(e){console.error("Code-barres g√©n√©ration √©chou√©e:",e)}},[G,t.type,s,u,r,q,j]);var B={position:"absolute",left:"".concat(i*r,"px"),top:"".concat(l*r,"px"),width:"".concat(s*r,"px"),height:"".concat(u*r,"px"),backgroundColor:m,border:y>0?"".concat(y,"px solid ").concat(b):"none",opacity:E/100,display:j?"flex":"none",alignItems:"center",justifyContent:"center",transform:"rotate(".concat(C,"deg) scale(").concat(k,")"),transformOrigin:"top left",boxShadow:_?"".concat(T,"px ").concat(F,"px 4px ").concat(D):"none",overflow:"hidden"};return n.createElement("div",{className:"preview-element preview-barcode-element",style:B,"data-element-id":t.id,"data-element-type":t.type},"qrcode"===t.type?n.createElement("canvas",{ref:Y,style:{width:"100%",height:"100%",objectFit:"contain"}}):n.createElement("svg",{ref:X,style:{width:"100%",height:"auto",display:"flex",alignItems:"center",justifyContent:"center"}}))},x=function(e){var t=e.element,o=(e.previewData,e.mode,e.canvasScale),r=void 0===o?1:o,a=t.x,i=void 0===a?0:a,c=t.y,l=void 0===c?0:c,d=t.width,s=void 0===d?200:d,p=t.height,u=void 0===p?20:p,v=t.backgroundColor,m=void 0===v?"#e5e7eb":v,h=t.borderColor,f=void 0===h?"#d1d5db":h,g=t.borderWidth,b=void 0===g?1:g,x=t.borderRadius,y=void 0===x?10:x,w=t.opacity,E=void 0===w?100:w,S=t.progressValue,C=void 0===S?75:S,O=t.progressColor,k=void 0===O?"#3b82f6":O,A=t.rotation,j=void 0===A?0:A,W=t.scale,_=void 0===W?1:W,z=t.visible,D=void 0===z||z,R=t.shadow,T=void 0!==R&&R,P=t.shadowColor,F=void 0===P?"#000000":P,N=t.shadowOffsetX,H=void 0===N?2:N,I=t.shadowOffsetY,L=void 0===I?2:I,M={position:"absolute",left:"".concat(i*r,"px"),top:"".concat(l*r,"px"),width:"".concat(s*r,"px"),height:"".concat(u*r,"px"),backgroundColor:m,border:b>0?"".concat(b,"px solid ").concat(f):"none",borderRadius:"".concat(y,"px"),opacity:E/100,overflow:"hidden",display:D?"block":"none",transform:"rotate(".concat(j,"deg) scale(").concat(_,")"),transformOrigin:"top left",boxShadow:T?"".concat(H,"px ").concat(L,"px 4px ").concat(F):"none"},q={width:"".concat(Math.min(100,Math.max(0,C)),"%"),height:"100%",backgroundColor:k,transition:"width 0.3s ease"};return n.createElement("div",{className:"preview-element preview-progress-element",style:M,"data-element-id":t.id,"data-element-type":"progress-bar"},n.createElement("div",{style:q}))};const y=function(e){var t,o,r,l,d,s,p,u,h,f,g,y,w,E,S,C,O=e.element,k=e.scale,A=void 0===k?1:k,j=e.templateData,W=void 0===j?{}:j;switch(e.interactive,O.type){case"text":return n.createElement(a,{element:O,canvasScale:A});case"dynamic-text":return n.createElement(m,{element:O,previewData:W,canvasScale:A});case"rectangle":case"shape-rectangle":return n.createElement(i,{element:O,canvasScale:A});case"image":return n.createElement(c.ImageRenderer,{element:O,canvasScale:A});case"product_table":return n.createElement(v,{element:O,previewData:W,canvasScale:A});case"barcode":case"qrcode":return n.createElement(b,{element:O,previewData:W,canvasScale:A});case"progress-bar":return n.createElement(x,{element:O,previewData:W,canvasScale:A});case"customer_info":return n.createElement("div",{style:{position:"absolute",left:"".concat(O.x*A,"px"),top:"".concat(O.y*A,"px"),width:"".concat(O.width*A,"px"),minHeight:"".concat(O.height*A,"px"),padding:"10px",backgroundColor:(null===(t=O.properties)||void 0===t?void 0:t.backgroundColor)||"#f8f9fa",border:null!==(o=O.properties)&&void 0!==o&&o.borderWidth?"".concat(O.properties.borderWidth,"px solid ").concat(O.properties.borderColor||"#dee2e6"):"none",borderRadius:"4px",fontSize:"12px",lineHeight:"1.4"}},n.createElement("div",null,n.createElement("strong",null,"Client:")," ",(null===(r=W.customer)||void 0===r?void 0:r.name)||"N/A"),n.createElement("div",null,n.createElement("strong",null,"Email:")," ",(null===(l=W.customer)||void 0===l?void 0:l.email)||"N/A"),n.createElement("div",null,n.createElement("strong",null,"T√©l√©phone:")," ",(null===(d=W.customer)||void 0===d?void 0:d.phone)||"N/A"),(null===(s=W.customer)||void 0===s?void 0:s.address)&&n.createElement("div",null,n.createElement("strong",null,"Adresse:")," ",W.customer.address.replace("\n",", ")));case"company_info":return n.createElement("div",{style:{position:"absolute",left:"".concat(O.x*A,"px"),top:"".concat(O.y*A,"px"),width:"".concat(O.width*A,"px"),minHeight:"".concat(O.height*A,"px"),padding:"10px",backgroundColor:(null===(p=O.properties)||void 0===p?void 0:p.backgroundColor)||"#f8f9fa",border:null!==(u=O.properties)&&void 0!==u&&u.borderWidth?"".concat(O.properties.borderWidth,"px solid ").concat(O.properties.borderColor||"#dee2e6"):"none",borderRadius:"4px",fontSize:"12px",lineHeight:"1.4"}},n.createElement("div",null,n.createElement("strong",null,"Entreprise:")," ",(null===(h=W.company)||void 0===h?void 0:h.name)||"N/A"),n.createElement("div",null,n.createElement("strong",null,"Email:")," ",(null===(f=W.company)||void 0===f?void 0:f.email)||"N/A"),n.createElement("div",null,n.createElement("strong",null,"T√©l√©phone:")," ",(null===(g=W.company)||void 0===g?void 0:g.phone)||"N/A"),(null===(y=W.company)||void 0===y?void 0:y.address)&&n.createElement("div",null,n.createElement("strong",null,"Adresse:")," ",W.company.address.replace("\n",", ")));case"order_number":return n.createElement("div",{style:{position:"absolute",left:"".concat(O.x*A,"px"),top:"".concat(O.y*A,"px"),width:"".concat(O.width*A,"px"),minHeight:"".concat(O.height*A,"px"),padding:"8px",backgroundColor:(null===(w=O.properties)||void 0===w?void 0:w.backgroundColor)||"#e3f2fd",border:null!==(E=O.properties)&&void 0!==E&&E.borderWidth?"".concat(O.properties.borderWidth,"px solid ").concat(O.properties.borderColor||"#2196f3"):"none",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",color:(null===(S=O.properties)||void 0===S?void 0:S.color)||"#1976d2",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"}},"Commande #",(null===(C=W.order)||void 0===C?void 0:C.number)||"N/A");default:return n.createElement("div",{style:{position:"absolute",left:"".concat(O.x*A,"px"),top:"".concat(O.y*A,"px"),width:"".concat(O.width*A,"px"),minHeight:"".concat(O.height*A,"px"),padding:"10px",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"4px",color:"#c62828",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement("div",{style:{textAlign:"center"}},n.createElement("div",null,"‚ùì"),n.createElement("div",null,"Type: ",O.type)))}};function w(){var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",r=o.toStringTag||"@@toStringTag";function a(o,n,r,a){var l=n&&n.prototype instanceof c?n:c,d=Object.create(l.prototype);return E(d,"_invoke",function(o,n,r){var a,c,l,d=0,s=r||[],p=!1,u={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,o){return a=t,c=0,l=e,u.n=o,i}};function v(o,n){for(c=o,l=n,t=0;!p&&d&&!r&&t<s.length;t++){var r,a=s[t],v=u.p,m=a[2];o>3?(r=m===n)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=v&&((r=o<2&&v<a[1])?(c=0,u.v=n,u.n=a[1]):v<m&&(r=o<3||a[0]>n||n>m)&&(a[4]=o,a[5]=n,u.n=m,c=0))}if(r||o>1)return i;throw p=!0,n}return function(r,s,m){if(d>1)throw TypeError("Generator is already running");for(p&&1===s&&v(s,m),c=s,l=m;(t=c<2?e:l)||!p;){a||(c?c<3?(c>1&&(u.n=-1),v(c,l)):u.n=l:u.v=l);try{if(d=2,a){if(c||(r="next"),t=a[r]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=e}else if((t=(p=u.n<0)?l:o.call(n,u))!==i)break}catch(t){a=e,c=1,l=t}finally{d=1}}return{value:t,done:p}}}(o,r,a),!0),d}var i={};function c(){}function l(){}function d(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(E(t={},n,function(){return this}),t),p=d.prototype=c.prototype=Object.create(s);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,E(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=d,E(p,"constructor",d),E(d,"constructor",l),l.displayName="GeneratorFunction",E(d,r,"GeneratorFunction"),E(p),E(p,r,"Generator"),E(p,n,function(){return this}),E(p,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m:u}})()}function E(e,t,o,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}E=function(e,t,o,n){function a(t,o){E(e,t,function(e){return this._invoke(t,o,e)})}t?r?r(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o:(a("next",0),a("throw",1),a("return",2))},E(e,t,o,n)}function S(e,t,o,n,r,a,i){try{var c=e[a](i),l=c.value}catch(e){return void o(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function C(){var e=(0,r.usePreviewContext)(),t=e.state,o=t.loading,a=t.error,i=(t.data,t.config),c=e.actions.clearPreview,l=i.elements,d=void 0===l?[]:l,s=i.templateData,p=void 0===s?{}:s,u=(0,n.useMemo)(function(){var e=Math.min(1,800/595);return{pageWidth:595,pageHeight:842,containerWidth:800,scale:e,displayWidth:595*e,displayHeight:842*e}},[]);return o?n.createElement("div",{className:"canvas-mode-loading"},n.createElement("div",{className:"spinner"},"Chargement...")):a?n.createElement("div",{className:"canvas-mode-error"},n.createElement("p",null,"Erreur: ",a),n.createElement("button",{onClick:c},"R√©essayer")):n.createElement("div",{className:"canvas-mode"},n.createElement("div",{className:"canvas-container",style:{width:"".concat(u.containerWidth,"px"),margin:"0 auto",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"#f8f9fa"}},n.createElement("div",{style:{padding:"12px 20px",backgroundColor:"white",borderBottom:"1px solid #e0e0e0",fontSize:"14px",color:"#1d1d1f",display:"flex",alignItems:"center",gap:"20px"}},n.createElement("span",null,"üìÑ ",Math.round(u.pageWidth)," √ó ",Math.round(u.pageHeight)," points"),n.createElement("span",null,"|"),n.createElement("span",null,"üîç ",Math.round(100*u.scale),"%"),n.createElement("span",null,"|"),n.createElement("span",null,"üì¶ ",d&&d.length?d.length:0," √©l√©ments")),n.createElement("div",{style:{padding:"20px",backgroundColor:"#f8f9fa",minHeight:"".concat(u.displayHeight+40,"px")}},n.createElement("div",{style:{width:"".concat(u.displayWidth,"px"),height:"".concat(u.displayHeight,"px"),backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",margin:"0 auto",position:"relative",overflow:"hidden"}},d&&d.length>0?n.createElement("div",{style:{transform:"scale(".concat(u.scale,")"),transformOrigin:"top left",width:"".concat(u.pageWidth,"px"),height:"".concat(u.pageHeight,"px"),position:"relative"}},d.map(function(e,t){return n.createElement(y,{key:"".concat(e.type,"-").concat(t),element:e,scale:1,templateData:p,interactive:!1})})):n.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#6b7280",fontSize:"16px"}},n.createElement("div",{style:{textAlign:"center"}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"üìÑ"),n.createElement("p",null,"Aucun √©l√©ment √† afficher"),n.createElement("p",{style:{fontSize:"14px",marginTop:"8px"}},"Ajoutez des √©l√©ments dans l'√©diteur pour les voir ici"))))),!1))}C.loadData=function(){var e,t=(e=w().m(function e(t,o,n){return w().w(function(e){for(;;)if(0===e.n)return e.a(2,{elements:t||[],templateData:o||{},config:n||{}})},e)}),function(){var t=this,o=arguments;return new Promise(function(n,r){var a=e.apply(t,o);function i(e){S(a,n,r,i,c,"next",e)}function c(e){S(a,n,r,i,c,"throw",e)}i(void 0)})});return function(e,o,n){return t.apply(this,arguments)}}();const O=C}}]);