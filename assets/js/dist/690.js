"use strict";(self.webpackChunkwp_pdf_builder_pro=self.webpackChunkwp_pdf_builder_pro||[]).push([[690,702],{690:(e,o,t)=>{t.r(o),t.d(o,{default:()=>a});var n=t(540),r=t(705),i=t(702);const a=function(e){var o=e.isOpen,t=e.onClose,a=e.elements,c=void 0===a?[]:a,d=e.canvasWidth,s=void 0===d?595:d,m=e.canvasHeight,l=void 0===m?842:m,u=e.zoom,p=void 0===u?1:u;return o&&o?n.createElement("div",{className:"preview-modal-overlay",onClick:t},n.createElement("div",{className:"preview-modal-content",onClick:function(e){return e.stopPropagation()}},n.createElement("div",{className:"preview-modal-header"},n.createElement("h3",null,"[PDF] Aper√ßu PDF - PDF Builder Pro"),n.createElement("button",{className:"preview-modal-close",onClick:t},"√ó")),n.createElement("div",{className:"preview-modal-body"},n.createElement("div",{className:"preview-content",style:{padding:"20px",background:"#f8f9fa",borderRadius:"4px"}},n.createElement("div",{className:"preview-canvas",style:{width:s,height:l,margin:"0 auto",border:"1px solid #e2e8f0",background:"white",position:"relative",overflow:"hidden",transform:"scale(".concat(p,")"),transformOrigin:"top center"}},c.filter(function(e){return!e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(r.H,{key:e.id,element:e,isSelected:!1,zoom:1,snapToGrid:!1,gridSize:10,canvasWidth:s,canvasHeight:l,onSelect:function(){},onUpdate:function(){},onRemove:function(){},onContextMenu:function(){},dragAndDrop:!1})}),c.filter(function(e){return e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(i.default,{key:e.id,element:e,isSelected:!1,onSelect:function(){},onUpdate:function(){},dragAndDrop:!1,zoom:1,canvasWidth:s,canvasHeight:l})})))),n.createElement("div",{className:"preview-modal-footer"},n.createElement("button",{className:"btn btn-secondary",onClick:t},"‚ùå Fermer"),n.createElement("button",{className:"btn btn-primary",onClick:function(){console.log("handlePrint called with elements:",c),console.log("canvasWidth:",s,"canvasHeight:",l),c.forEach(function(e,o){console.log("Element ".concat(o,":"),{type:e.type,text:e.text,src:e.src,content:e.content,x:e.x,y:e.y,width:e.width,height:e.height})});var e=window.open("","_blank","width=800,height=600");if(e){var o='\n        <div class="print-canvas" style="\n          width: '.concat(s,"px;\n          height: ").concat(l,'px;\n          margin: 0 auto;\n          border: none;\n          background: white;\n          position: relative;\n          overflow: hidden;\n          box-sizing: border-box;\n        ">\n          ').concat(c.map(function(e){return e.type.startsWith("woocommerce-")?'\n                  <div style="\n                    position: absolute;\n                    left: '.concat(e.x,"px;\n                    top: ").concat(e.y,"px;\n                    width: ").concat(e.width,"px;\n                    height: ").concat(e.height,"px;\n                    font-size: ").concat(e.fontSize||14,"px;\n                    font-family: ").concat(e.fontFamily||"Arial",";\n                    color: ").concat(e.color||"#333333",";\n                    font-weight: ").concat(e.fontWeight||"normal",";\n                    background-color: ").concat(e.backgroundColor||"#ffffff",";\n                    border: ").concat(e.borderWidth?"".concat(e.borderWidth,"px ").concat(e.borderStyle||"solid"," ").concat(e.borderColor||"#dddddd"):"1px solid #dddddd",";\n                    border-radius: ").concat(e.borderRadius||0,'px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-align: center;\n                    word-break: break-word;\n                    overflow: hidden;\n                  ">\n                    ').concat({"woocommerce-invoice-number":"Num√©ro Facture","woocommerce-invoice-date":"Date Facture","woocommerce-order-number":"N¬∞ Commande","woocommerce-order-date":"Date Commande","woocommerce-billing-address":"Adresse Facturation","woocommerce-shipping-address":"Adresse Livraison","woocommerce-customer-name":"Nom Client","woocommerce-customer-email":"Email Client","woocommerce-payment-method":"Paiement","woocommerce-order-status":"Statut","woocommerce-products-table":"Tableau Produits","woocommerce-products-simple":"Liste Produits","woocommerce-subtotal":"Sous-total","woocommerce-discount":"Remise","woocommerce-shipping":"Livraison","woocommerce-taxes":"Taxes","woocommerce-total":"Total","woocommerce-refund":"Remboursement","woocommerce-fees":"Frais","woocommerce-quote-number":"N¬∞ Devis","woocommerce-quote-date":"Date Devis","woocommerce-quote-validity":"Validit√©","woocommerce-quote-notes":"Notes Devis"}[e.type]||"√âl√©ment WC","\n                  </div>\n                "):'\n                  <div style="\n                    position: absolute;\n                    left: '.concat(e.x,"px;\n                    top: ").concat(e.y,"px;\n                    width: ").concat(e.width,"px;\n                    height: ").concat(e.height,"px;\n                    font-size: ").concat(e.fontSize||14,"px;\n                    font-family: ").concat(e.fontFamily||"Arial",";\n                    color: ").concat(e.color||"#1e293b",";\n                    background-color: ").concat(e.backgroundColor||"transparent",";\n                    border: ").concat(e.borderWidth?"".concat(e.borderWidth,"px ").concat(e.borderStyle||"solid"," ").concat(e.borderColor||"transparent"):"none",";\n                    border-radius: ").concat(e.borderRadius||0,'px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-align: center;\n                    word-break: break-word;\n                    overflow: hidden;\n                  ">\n                    ').concat(function(e){switch(e.type){case"company_logo":return e.src?'<img src="'.concat(e.src,'" style="width: 100%; height: 100%; object-fit: contain;" alt="Logo entreprise" />'):"Logo Entreprise";case"customer_info":return"Informations Client<br/>Nom: Jean Dupont<br/>Email: jean@example.com<br/>T√©l√©phone: +33 1 23 45 67 89";case"company_info":return"Ma Soci√©t√© SARL<br/>123 Rue de l'Entreprise<br/>75001 Paris, France<br/>T√©l: +33 1 23 45 67 89<br/>contact@masociete.com";case"product_table":return'\n            <table style="width: 100%; border-collapse: collapse; font-size: 10px;">\n              <thead>\n                <tr style="background-color: #f8f9fa;">\n                  <th style="border: 1px solid #ddd; padding: 4px;">Produit</th>\n                  <th style="border: 1px solid #ddd; padding: 4px;">Qt√©</th>\n                  <th style="border: 1px solid #ddd; padding: 4px;">Prix</th>\n                  <th style="border: 1px solid #ddd; padding: 4px;">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td style="border: 1px solid #ddd; padding: 4px;">Produit A</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">2</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">19.99‚Ç¨</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">39.98‚Ç¨</td>\n                </tr>\n                <tr>\n                  <td style="border: 1px solid #ddd; padding: 4px;">Produit B</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">1</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">29.99‚Ç¨</td>\n                  <td style="border: 1px solid #ddd; padding: 4px;">29.99‚Ç¨</td>\n                </tr>\n              </tbody>\n            </table>\n          ';case"document_type":return"FACTURE";case"divider":return'<hr style="width: 100%; border: none; border-top: 1px solid #d1d5db; margin: 0;" />';default:return e.type}}(e),"\n                  </div>\n                ")}).join(""),"\n        </div>\n      ");console.log("Generated printContent:",o),e.document.write("\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Impression PDF Builder Pro</title>\n          <style>\n            body {\n              margin: 0;\n              padding: 20px;\n              font-family: Arial, sans-serif;\n              background: #f8f9fa;\n            }\n            .print-container {\n              background: white;\n              border: 1px solid #e2e8f0;\n              border-radius: 4px;\n              padding: 20px;\n              max-width: ".concat(s+40,"px;\n              margin: 0 auto;\n              position: relative;\n            }\n            .print-canvas {\n              width: ").concat(s,"px !important;\n              height: ").concat(l,"px !important;\n              margin: 0 auto;\n              border: none !important;\n              background: white;\n              position: relative;\n              overflow: hidden;\n            }\n            @media print {\n              body {\n                margin: 0 !important;\n                padding: 0 !important;\n                background: white !important;\n              }\n              .print-container {\n                border: none !important;\n                padding: 0 !important;\n                margin: 0 !important;\n                background: white !important;\n                max-width: none !important;\n              }\n              .print-canvas {\n                width: ").concat(s,"px !important;\n                height: ").concat(l,'px !important;\n                margin: 0 auto !important;\n                border: none !important;\n                background: white !important;\n                position: relative !important;\n                overflow: hidden !important;\n                box-sizing: border-box !important;\n                transform: scale(1.3) !important;\n                transform-origin: center top !important;\n              }\n              @page {\n                size: A4;\n                margin: 1cm !important; /* Marges √©quilibr√©es pour centrer le contenu */\n              }\n              * {\n                -webkit-print-color-adjust: exact !important;\n                color-adjust: exact !important;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="print-container">\n            ').concat(o,"\n          </div>\n          <script>\n            window.onload = function() {\n              setTimeout(function() {\n                window.print();\n                window.close();\n              }, 500);\n            };\n          <\/script>\n        </body>\n        </html>\n      ")),e.document.close()}}},"üñ®Ô∏è Imprimer")))):null}},702:(e,o,t)=>{t.r(o),t.d(o,{default:()=>c,useWooCommerceElements:()=>a});var n=t(540),r=t(630),i=function(e){return{"woocommerce-invoice-number":"Num√©ro Facture","woocommerce-invoice-date":"Date Facture","woocommerce-order-number":"N¬∞ Commande","woocommerce-order-date":"Date Commande","woocommerce-billing-address":"Adresse Facturation","woocommerce-shipping-address":"Adresse Livraison","woocommerce-customer-name":"Nom Client","woocommerce-customer-email":"Email Client","woocommerce-payment-method":"Paiement","woocommerce-order-status":"Statut","woocommerce-products-table":"Tableau Produits","woocommerce-products-simple":"Liste Produits","woocommerce-subtotal":"Sous-total","woocommerce-discount":"Remise","woocommerce-shipping":"Livraison","woocommerce-taxes":"Taxes","woocommerce-total":"Total","woocommerce-refund":"Remboursement","woocommerce-fees":"Frais","woocommerce-quote-number":"N¬∞ Devis","woocommerce-quote-date":"Date Devis","woocommerce-quote-validity":"Validit√©","woocommerce-quote-notes":"Notes Devis"}[e]||"√âl√©ment WC"},a=function(){return{getElementDefaults:function(e){var o={width:200,height:60,fontSize:14,fontFamily:"Arial, sans-serif",color:"#333333",backgroundColor:"#ffffff",borderColor:"#dddddd",borderWidth:1,borderStyle:"solid",borderRadius:4,padding:8};switch(e){case"woocommerce-billing-address":case"woocommerce-shipping-address":o.height=100;break;case"woocommerce-products-table":o.width=400,o.height=150,o.columns={image:!0,name:!0,sku:!0,quantity:!0,price:!0,total:!0};break;case"woocommerce-products-simple":o.width=350,o.height=120;break;case"woocommerce-invoice-number":case"woocommerce-order-number":case"woocommerce-quote-number":o.width=150,o.height=40}return o},validateElement:function(e){return e&&e.type&&e.id},getElementLabel:i}};const c=function(e){var o=e.element,t=e.isSelected,a=e.onSelect,c=e.onUpdate,d=e.dragAndDrop,s=e.zoom,m=void 0===s?1:s,l=e.canvasWidth,u=e.canvasHeight,p=e.orderData,h=void 0===p?{}:p,w=(0,n.useRef)(null),b=(0,r.s)({onElementResize:function(e){c({x:e.x,y:e.y,width:e.width,height:e.height})},snapToGrid:!0,gridSize:10,canvasWidth:l,canvasHeight:u}),g={position:"absolute",left:o.x*m,top:o.y*m,width:o.width*m,height:o.height*m,cursor:t?"move":"pointer",userSelect:"none",border:t?"2px solid #007cba":o.borderWidth>0?"".concat(o.borderWidth||1,"px ").concat(o.borderStyle||"solid"," ").concat(o.borderColor||"transparent"):"none",backgroundColor:o.backgroundColor||"transparent",color:o.color||"#333333",fontSize:(o.fontSize||14)*m,fontFamily:o.fontFamily||"Arial, sans-serif",padding:(o.padding||8)*m,borderRadius:(o.borderRadius||4)*m,boxSizing:"border-box",overflow:"hidden","--element-border-width":t?"2px":o.borderWidth>0?"".concat(o.borderWidth||1,"px"):"0px"};return n.createElement(n.Fragment,null,n.createElement("div",{ref:w,style:g,onClick:function(e){e.stopPropagation(),t||a(o.id)},onMouseDown:function(e){e.stopPropagation();var t=w.current.closest(".canvas-zoom-wrapper");if(t){for(var n=t.getBoundingClientRect(),r=(w.current.getBoundingClientRect(),(e.clientX-n.left)/m),i=(e.clientY-n.top)/m,a=8/m,c=0,s=[{name:"nw",x:o.x,y:o.y},{name:"ne",x:o.x+o.width,y:o.y},{name:"sw",x:o.x,y:o.y+o.height},{name:"se",x:o.x+o.width,y:o.y+o.height},{name:"n",x:o.x+o.width/2,y:o.y},{name:"s",x:o.x+o.width/2,y:o.y+o.height},{name:"w",x:o.x,y:o.y+o.height/2},{name:"e",x:o.x+o.width,y:o.y+o.height/2}];c<s.length;c++){var l=s[c];if(r>=l.x-a/2&&r<=l.x+a/2&&i>=l.y-a/2&&i<=l.y+a/2)return void b.handleResizeStart(e,l.name,{x:o.x,y:o.y,width:o.width,height:o.height},n,m)}if(d&&d.handleMouseDown){var u=w.current.closest(".canvas-zoom-wrapper").getBoundingClientRect();d.handleMouseDown(e,o.id,{left:o.x,top:o.y,width:o.width,height:o.height},u,m)}}}},n.createElement("div",{style:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"}},i(o.type)),n.createElement("div",{style:{whiteSpace:"pre-line",lineHeight:"1.4",color:"#666"}},function(e){switch(e){case"woocommerce-invoice-number":return h.invoice_number||"INV-001";case"woocommerce-invoice-date":return h.invoice_date||"15/10/2025";case"woocommerce-order-number":return h.order_number||"#12345";case"woocommerce-order-date":return h.order_date||"15/10/2025";case"woocommerce-customer-name":return h.customer_name||"John Doe";case"woocommerce-customer-email":return h.customer_email||"john.doe@example.com";case"woocommerce-billing-address":return h.billing_address||"123 Rue de Test\n75001 Paris\nFrance";case"woocommerce-shipping-address":return h.shipping_address||"456 Rue de Livraison\n75002 Paris\nFrance";case"woocommerce-payment-method":return h.payment_method||"Carte bancaire";case"woocommerce-order-status":return h.order_status||"Trait√©e";case"woocommerce-subtotal":return h.subtotal||"45,00 ‚Ç¨";case"woocommerce-discount":return h.discount||"-5,00 ‚Ç¨";case"woocommerce-shipping":return h.shipping||"5,00 ‚Ç¨";case"woocommerce-taxes":return h.tax||"9,00 ‚Ç¨";case"woocommerce-total":return h.total||"54,00 ‚Ç¨";case"woocommerce-refund":return h.refund||"0,00 ‚Ç¨";case"woocommerce-fees":return h.fees||"1,50 ‚Ç¨";case"woocommerce-quote-number":return h.quote_number||"QUO-001";case"woocommerce-quote-date":return h.quote_date||"15/10/2025";case"woocommerce-quote-validity":return h.quote_validity||"30 jours";case"woocommerce-quote-notes":return h.quote_notes||"Conditions sp√©ciales : paiement √† 30 jours.";case"woocommerce-products-table":return h.products&&h.products.length>0?h.products.map(function(e){return"".concat(e.name," x").concat(e.quantity," - ").concat(e.total)}).join("\n"):"Produit Test 1 x1 - 25,00 ‚Ç¨\nProduit Test 2 x2 - 20,00 ‚Ç¨";case"woocommerce-products-simple":return h.products&&h.products.length>0?h.products.map(function(e){return"".concat(e.quantity,"x ").concat(e.name)}).join("\n"):"1x Produit Test 1\n2x Produit Test 2";default:return"[Contenu dynamique WooCommerce]"}}(o.type))),t&&n.createElement(n.Fragment,null,n.createElement("div",{className:"resize-handle nw",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"nw",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle ne",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"ne",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle sw",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"sw",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle se",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"se",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle n",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"n",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle s",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"s",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle w",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"w",{x:o.x,y:o.y,width:o.width,height:o.height})}}),n.createElement("div",{className:"resize-handle e",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return b.handleResizeStart(e,"e",{x:o.x,y:o.y,width:o.width,height:o.height})}})))}}}]);