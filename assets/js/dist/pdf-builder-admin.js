(()=>{"use strict";var e,n,t={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var a={},i=[],l=0;l<e.length;l++){var c=e[l],d=o.base?c[0]+o.base:c[0],s=a[d]||0,u="".concat(d," ").concat(s);a[d]=s+1;var p=t(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var b=r(f,o);o.byIndex=l,n.splice(l,0,{identifier:u,updater:b,references:1})}i.push(u)}return i}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=t(a[i]);n[l].references--}for(var c=o(e,r),d=0;d<a.length;d++){var s=t(a[d]);0===n[s].references&&(n[s].updater(),n.splice(s,1))}a=c}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},293:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"/* Styles unifiÃ©s pour l'Ã©diteur PDF Canvas - Design trÃ¨s clair */\n\n:root {\n  /* Palette de couleurs trÃ¨s claires et unifiÃ©es */\n  --primary-color: #3b82f6;        /* Bleu clair */\n  --secondary-color: #94a3b8;     /* Gris trÃ¨s clair */\n  --background-color: #fafbfc;    /* Blanc cassÃ© trÃ¨s clair */\n  --surface-color: #ffffff;       /* Blanc pur */\n  --border-color: #f1f5f9;        /* Gris bordure trÃ¨s clair */\n  --text-primary: #1e293b;        /* Gris foncÃ© trÃ¨s clair */\n  --text-secondary: #64748b;      /* Gris moyen clair */\n  --text-muted: #94a3b8;          /* Gris clair */\n  --shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n  --shadow-hover: 0 2px 4px rgba(0, 0, 0, 0.08);\n  --radius: 6px;\n  --success-color: #10b981;\n  --warning-color: #f59e0b;\n  --error-color: #ef4444;\n}\n\n.pdf-canvas-editor {\n  display: flex;\n  flex-direction: column;\n  height: 120vh;\n  background: var(--background-color);\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, 'Helvetica Neue', Arial, sans-serif;\n  color: var(--text-primary);\n  overflow: hidden;\n}\n\n.editor-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  background: var(--surface-color);\n  border-bottom: 1px solid var(--border-color);\n  box-shadow: var(--shadow);\n  position: relative;\n}\n\n.editor-title h2 {\n  margin: 0;\n  color: var(--text-primary);\n  font-size: 20px;\n  font-weight: 700;\n  letter-spacing: -0.025em;\n  position: relative;\n  z-index: 1;\n}\n\n.editor-actions {\n  display: flex;\n  gap: 12px;\n  position: relative;\n  z-index: 1;\n}\n\n.btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: var(--radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.2s ease;\n  position: relative;\n  overflow: hidden;\n  text-decoration: none;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.3s ease;\n}\n\n.btn:hover::before {\n  left: 100%;\n}\n\n.btn-primary {\n  background: var(--primary-color);\n  color: white;\n  box-shadow: var(--shadow);\n}\n\n.btn-primary:hover {\n  background: #3b82f6;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n\n.btn-secondary {\n  background: var(--surface-color);\n  color: var(--text-primary);\n  border: 1.5px solid var(--border-color);\n  box-shadow: var(--shadow);\n}\n\n.btn-secondary:hover {\n  background: var(--background-color);\n  border-color: var(--border-color);\n  transform: translateY(-1px);\n  box-shadow: var(--shadow-hover);\n}\n\n.editor-workspace {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  gap: 1px;\n  background: var(--border-color);\n}\n\n.editor-sidebar {\n  width: 400px;\n  background: var(--surface-color);\n  border-right: 1px solid var(--border-color);\n  display: flex;\n  flex-direction: column;\n  box-shadow: inset -1px 0 0 var(--border-color);\n  transition: width 0.2s ease;\n  position: relative;\n}\n\n.left-sidebar {\n  border-right: 1px solid var(--border-color);\n}\n\n.right-sidebar {\n  border-left: 1px solid var(--border-color);\n}\n\n/* Bouton de toggle pour rÃ©duire/agrandir le panneau */\n.sidebar-toggle {\n  position: absolute;\n  top: 50%;\n  left: -16px;\n  transform: translateY(-50%);\n  width: 24px;\n  height: 48px;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: 4px 0 0 4px;\n  color: var(--text-secondary);\n  font-size: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease;\n  z-index: 100000;\n}\n\n.sidebar-toggle-fixed {\n  width: 24px;\n  height: 48px;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: 4px 0 0 4px;\n  color: var(--text-secondary);\n  font-size: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease;\n  z-index: 999999;\n}\n\n.sidebar-toggle:hover,\n.sidebar-toggle-fixed:hover {\n  background: var(--background-color);\n  color: var(--text-primary);\n  box-shadow: -3px 0 6px rgba(0, 0, 0, 0.15);\n}\n\n/* Ã‰tat collapsed du panneau */\n.editor-sidebar.collapsed {\n  width: 40px;\n  overflow: hidden;\n}\n\n.editor-sidebar.collapsed .sidebar-toggle {\n  left: -20px;\n}\n\n.editor-main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: var(--surface-color);\n  position: relative;\n  min-height: 0; /* Permet au flex de fonctionner correctement */\n}\n\n.canvas-container {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n  background: var(--background-color);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 40px 20px 40px 40px;\n  min-height: fit-content;\n  z-index: 0;\n}\n\n.canvas-zoom-wrapper {\n  position: relative;\n  transition: transform 0.2s ease;\n}\n\n.canvas {\n  background: white;\n  border: 1px solid #e2e8f0;\n  position: relative;\n  overflow: hidden;\n  /* Dimensions A4 fixes */\n  width: 595px;\n  height: 842px;\n}\n\n.canvas {\n  background: white;\n  border: 1px solid #e2e8f0;\n  position: relative;\n  overflow: hidden;\n  /* Dimensions A4 fixes */\n  width: 595px;\n  height: 842px;\n  /* Zoom gÃ©rÃ© par transform */\n  transition: transform 0.2s ease;\n}\n\n.canvas:hover {\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);\n}\n\n.toolbar {\n  width: 100%; /* Prend toute la largeur */\n  flex-shrink: 0; /* EmpÃªche le toolbar d'Ãªtre compressÃ© */\n  padding: 8px 16px;\n  background: var(--surface-color);\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  gap: 4px; /* ResserrÃ© entre les sections */\n}\n\n.toolbar-section {\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  min-width: 0; /* Permet au flex de rÃ©duire si nÃ©cessaire */\n}\n\n.toolbar-section:first-child {\n  flex: 0 0 auto; /* Outils - taille fixe */\n  width: fit-content; /* S'adapte au contenu pour rester sur une ligne */\n  min-width: 400px; /* Largeur minimale pour Ã©viter la compression excessive */\n}\n\n.toolbar-section:nth-child(2) {\n  flex: 1; /* Ã‰dition - prend l'espace disponible au centre */\n  text-align: center;\n  max-width: 300px;\n}\n\n.toolbar-section:last-child {\n  flex: 0 0 auto; /* Affichage - taille fixe */\n  max-width: 280px;\n}\n\n.toolbar-section h4 {\n  margin: 0 0 8px 0;\n  font-size: 10px;\n  font-weight: 600;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.edit-buttons {\n  display: flex;\n  gap: 4px;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.edit-button {\n  padding: 8px 12px;\n  border: 1px solid var(--border-color);\n  background: var(--surface-color);\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 11px;\n  transition: all 0.1s ease;\n  position: relative;\n  white-space: nowrap;\n}\n\n.edit-button:hover {\n  background: var(--background-color);\n  border-color: var(--secondary-color);\n}\n\n.edit-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.edit-button:disabled:hover {\n  background: var(--surface-color);\n  border-color: var(--border-color);\n}\n\n.tool-button, .edit-button {\n  padding: 6px;\n  border: 1px solid var(--border-color);\n  background: var(--surface-color);\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 3px; /* Espace rÃ©duit entre icÃ´ne et texte */\n  font-size: 11px;\n  transition: all 0.1s ease;\n  position: relative;\n  min-width: 36px; /* Plus compact sans texte */\n  height: 36px; /* Plus compact sans texte */\n  justify-content: center;\n}\n\n.tool-button:hover, .edit-button:hover {\n  background: var(--background-color);\n  border-color: var(--secondary-color);\n}\n\n.tool-button.active {\n  background: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n}\n\n.tool-icon {\n  font-size: 16px; /* Taille normale */\n}\n\n.tool-label {\n  font-size: 9px; /* Plus petit pour compacitÃ© */\n  font-weight: 500;\n  text-align: center;\n  display: none; /* Masquer les textes des outils */\n}\n\n.tool-buttons {\n  display: flex;\n  gap: 4px; /* Boutons plus compacts */\n  align-items: stretch; /* Ã‰tire tous les boutons Ã  la mÃªme hauteur */\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n.display-controls {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  justify-content: flex-end;\n}\n\n.control-group {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--text-secondary);\n  white-space: nowrap;\n}\n\n.control-group label {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  cursor: pointer;\n  margin: 0;\n}\n\n.control-group input[type=\"checkbox\"] {\n  margin: 0;\n}\n\n.zoom-controls {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius);\n  padding: 4px;\n  box-shadow: var(--shadow);\n}\n\n.zoom-button {\n  padding: 8px 12px;\n  border: none;\n  background: transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  color: var(--text-secondary);\n  transition: all 0.15s ease;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.zoom-button:hover {\n  background: var(--background-color);\n  color: var(--text-primary);\n  transform: scale(1.05);\n}\n\n.zoom-value {\n  min-width: 60px;\n  text-align: center;\n  font-weight: 700;\n  font-size: 14px;\n  color: var(--text-primary);\n  padding: 0 8px;\n}\n\n.properties-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--surface-color);\n}\n\n.panel-header {\n  padding: 20px 24px;\n  border-bottom: 1px solid var(--border-color);\n  background: var(--surface-color);\n  position: relative;\n}\n\n.panel-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(90deg, rgba(16, 185, 129, 0.02) 0%, transparent 100%);\n  pointer-events: none;\n}\n\n.panel-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n  color: var(--text-primary);\n  position: relative;\n  z-index: 1;\n}\n\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px 24px;\n  scrollbar-width: thin;\n  scrollbar-color: var(--border-color) transparent;\n}\n\n.panel-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.panel-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.panel-content::-webkit-scrollbar-thumb {\n  background: var(--border-color);\n  border-radius: 3px;\n}\n\n.panel-content::-webkit-scrollbar-thumb:hover {\n  background: #e2e8f0;\n}\n\n.properties-group {\n  margin-bottom: 32px;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: var(--shadow);\n  transition: all 0.15s ease;\n}\n\n.properties-group:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  border-color: #cbd5e1;\n}\n\n.properties-group h4 {\n  margin: 0 0 16px 0;\n  font-size: 15px;\n  font-weight: 700;\n  color: var(--text-primary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.properties-group h4::before {\n  content: '';\n  width: 4px;\n  height: 16px;\n  background: linear-gradient(135deg, var(--primary-color) 0%, var(--success-color) 100%);\n  border-radius: 2px;\n}\n\n.property-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n  padding: 8px 0;\n}\n\n.property-row:last-child {\n  margin-bottom: 0;\n}\n\n.property-row label {\n  min-width: 110px;\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-secondary);\n  text-align: right;\n}\n\n.property-row input,\n.property-row select,\n.property-row textarea {\n  flex: 1;\n  padding: 10px 12px;\n  border: 1.5px solid var(--border-color);\n  border-radius: var(--radius);\n  font-size: 13px;\n  font-family: inherit;\n  transition: all 0.15s ease;\n  background: var(--surface-color);\n  color: var(--text-primary);\n}\n\n.property-row input:focus,\n.property-row select:focus,\n.property-row textarea:focus {\n  outline: none;\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n  transform: translateY(-1px);\n}\n\n.property-row textarea {\n  resize: vertical;\n  min-height: 80px;\n  line-height: 1.5;\n}\n\n.style-buttons, .alignment-buttons {\n  display: flex;\n  gap: 6px;\n  flex-wrap: wrap;\n}\n\n.style-buttons button,\n.alignment-buttons button {\n  padding: 8px 12px;\n  border: 1.5px solid var(--border-color);\n  background: var(--surface-color);\n  border-radius: var(--radius);\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.15s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 36px;\n  box-shadow: var(--shadow);\n}\n\n.style-buttons button:hover,\n.alignment-buttons button:hover {\n  border-color: var(--border-color);\n  background: var(--background-color);\n  transform: translateY(-1px);\n  box-shadow: var(--shadow-hover);\n}\n\n.style-buttons button.active,\n.alignment-buttons button.active {\n  background: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  transform: translateY(-1px);\n}\n\n.element-library {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--surface-color);\n}\n\n.library-header {\n  padding: 12px 16px;\n  border-bottom: 1px solid var(--border-color);\n  background: var(--surface-color);\n}\n\n.library-header h3 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.library-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px 12px;\n}\n\n.element-category {\n  margin-bottom: 8px;\n}\n\n.category-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  padding: 4px 0;\n  user-select: none;\n}\n\n.category-toggle {\n  font-size: 10px;\n  color: var(--text-secondary);\n  transition: transform 0.2s ease;\n  transform: rotate(-90deg);\n}\n\n.category-toggle.expanded {\n  transform: rotate(0deg);\n}\n\n.element-grid {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 4px;\n}\n\n.element-item {\n  padding: 6px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.1s ease;\n  background: var(--surface-color);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.element-item:hover {\n  background: var(--background-color);\n  border-color: var(--secondary-color);\n}\n\n.element-item.selected {\n  background: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n}\n\n.element-icon {\n  font-size: 16px;\n  flex-shrink: 0;\n}\n\n.element-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: inherit;\n  margin: 0;\n}\n\n.element-description {\n  display: none;\n}\n\n.library-footer {\n  padding: 12px 16px;\n  border-top: 1px solid var(--border-color);\n  background: var(--surface-color);\n}\n\n.quick-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.quick-action-btn {\n  flex: 1;\n  padding: 12px 16px;\n  border: 1.5px solid var(--border-color);\n  background: var(--surface-color);\n  border-radius: var(--radius);\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.15s ease;\n  box-shadow: var(--shadow);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.quick-action-btn:hover {\n  border-color: var(--border-color);\n  background: var(--background-color);\n  transform: translateY(-1px);\n  box-shadow: var(--shadow-hover);\n}\n\n.editor-status {\n  padding: 12px 24px;\n  background: var(--surface-color);\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  gap: 24px;\n  font-size: 13px;\n  color: var(--text-secondary);\n  font-weight: 500;\n  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.05);\n  position: relative;\n}\n\n.editor-status::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(90deg, rgba(16, 185, 129, 0.02) 0%, transparent 100%);\n  pointer-events: none;\n}\n\n.no-selection {\n  text-align: center;\n  padding: 60px 20px;\n  color: var(--text-muted);\n  background: var(--surface-color);\n  border-radius: 8px;\n  border: 2px dashed var(--border-color);\n  margin: 20px;\n}\n\n.no-selection-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n  opacity: 0.5;\n}\n\n.no-selection p {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.no-results {\n  text-align: center;\n  padding: 60px 20px;\n  color: var(--text-muted);\n  background: var(--surface-color);\n  border-radius: 8px;\n  border: 2px dashed var(--border-color);\n  margin: 20px;\n}\n\n.no-results-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n  opacity: 0.5;\n}\n\n.no-results p {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.context-menu {\n  z-index: 1000;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  min-width: 200px;\n}\n\n.context-menu-item {\n  width: 100%;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  font-size: 14px;\n  text-align: left;\n  border-radius: 0;\n  padding: 12px 16px;\n  transition: all 0.15s ease;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.context-menu-item:hover {\n  background: var(--background-color);\n}\n\n.context-menu-item:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.resize-handle {\n  position: absolute;\n  width: var(--resize-handle-size, 12px);\n  height: var(--resize-handle-size, 12px);\n  background: var(--resize-handle-color, var(--primary-color));\n  border: 2px solid var(--resize-handle-border-color, white);\n  border-radius: 50%;\n  pointer-events: auto;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  transition: var(--selection-animation, all 0.15s ease);\n  z-index: 10;\n  display: var(--show-resize-handles, block);\n}\n\n.resize-handle:hover {\n  transform: scale(1.3);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);\n}\n\n.resize-handle.nw {\n  top: -6px;\n  left: -6px;\n  cursor: nw-resize;\n}\n\n.resize-handle.ne {\n  top: -6px;\n  right: -6px;\n  cursor: ne-resize;\n}\n\n.resize-handle.sw {\n  bottom: -6px;\n  left: -6px;\n  cursor: sw-resize;\n}\n\n.resize-handle.se {\n  bottom: -6px;\n  right: -6px;\n  cursor: se-resize;\n}\n\n.resize-handle.n {\n  top: -6px;\n  left: 50%;\n  transform: translateX(-50%);\n  cursor: n-resize;\n}\n\n.resize-handle.s {\n  bottom: -6px;\n  left: 50%;\n  transform: translateX(-50%);\n  cursor: s-resize;\n}\n\n.resize-handle.w {\n  top: 50%;\n  left: -6px;\n  transform: translateY(-50%);\n  cursor: w-resize;\n}\n\n.resize-handle.e {\n  top: 50%;\n  right: -6px;\n  transform: translateY(-50%);\n  cursor: e-resize;\n}\n\n.canvas-element.selected {\n  outline: var(--selection-border-width, 2px) solid var(--selection-border-color, var(--primary-color));\n  outline-offset: 1px;\n  box-shadow: 0 0 0 1px white, 0 0 0 calc(var(--selection-border-width, 2px) * 2) rgba(37, 99, 235, var(--selection-shadow-opacity, 0.1));\n  border-radius: 4px;\n  position: relative;\n}\n\n/* Zones de redimensionnement sur les bords de l'Ã©lÃ©ment sÃ©lectionnÃ© */\n.canvas-element.selected .resize-zone-n,\n.canvas-element.selected .resize-zone-s,\n.canvas-element.selected .resize-zone-w,\n.canvas-element.selected .resize-zone-e {\n  position: absolute;\n  pointer-events: var(--show-resize-zones, auto);\n  z-index: 10;\n}\n\n.canvas-element.selected .resize-zone-n {\n  top: calc(var(--resize-zone-size, 16px) / -2);\n  left: 0;\n  right: 0;\n  height: var(--resize-zone-size, 16px);\n  cursor: n-resize;\n}\n\n.canvas-element.selected .resize-zone-s {\n  bottom: calc(var(--resize-zone-size, 16px) / -2);\n  left: 0;\n  right: 0;\n  height: var(--resize-zone-size, 16px);\n  cursor: s-resize;\n}\n\n.canvas-element.selected .resize-zone-w {\n  top: 0;\n  left: calc(var(--resize-zone-size, 16px) / -2);\n  bottom: 0;\n  width: var(--resize-zone-size, 16px);\n  cursor: w-resize;\n}\n\n.canvas-element.selected .resize-zone-e {\n  top: 0;\n  right: calc(var(--resize-zone-size, 16px) / -2);\n  bottom: 0;\n  width: var(--resize-zone-size, 16px);\n  cursor: e-resize;\n}\n\n/* Zones de redimensionnement sur les bords */\n.canvas-element.selected::before,\n.canvas-element.selected::after {\n  content: '';\n  position: absolute;\n  pointer-events: auto;\n  z-index: 5;\n}\n\n.canvas-element.selected::before {\n  top: -8px;\n  left: -8px;\n  right: -8px;\n  bottom: -8px;\n  border: 8px solid transparent;\n  border-image: linear-gradient(45deg, transparent 40%, rgba(37, 99, 235, 0.1) 40%, rgba(37, 99, 235, 0.1) 60%, transparent 60%) 8;\n  cursor: move;\n}\n\n.canvas-element.selected:hover::before {\n  border-image: linear-gradient(45deg, transparent 40%, rgba(37, 99, 235, 0.2) 40%, rgba(37, 99, 235, 0.2) 60%, transparent 60%) 8;\n}\n\n.selection-box {\n  border: 2px dashed var(--primary-color);\n  background: rgba(37, 99, 235, 0.1);\n  border-radius: 4px;\n  pointer-events: none;\n  box-shadow: inset 0 0 0 1px rgba(37, 99, 235, 0.1);\n}\n\n/* Animations et transitions */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.element-item, .properties-group, .tool-button {\n  animation: fadeIn 0.3s ease-out;\n}\n\n/* Ã‰tats de chargement */\n.loading {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.loading::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 20px;\n  height: 20px;\n  margin: -10px 0 0 -10px;\n  border: 2px solid var(--border-color);\n  border-top: 2px solid var(--primary-color);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Responsive Design */\n@media (max-width: 1200px) {\n  .editor-sidebar {\n    width: 380px;\n  }\n\n  .toolbar {\n    gap: 24px;\n    flex-wrap: wrap;\n  }\n}\n\n@media (max-width: 1024px) {\n  .editor-sidebar {\n    width: 360px;\n  }\n\n  .editor-header {\n    padding: 12px 20px;\n  }\n\n  .editor-title h2 {\n    font-size: 18px;\n  }\n}\n\n@media (max-width: 768px) {\n  .editor-workspace {\n    flex-direction: column;\n  }\n\n  .editor-sidebar {\n    width: 100%;\n    height: 300px;\n    border-right: none;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .toolbar {\n    padding: 16px 20px;\n    gap: 16px;\n  }\n\n  .tool-buttons {\n    flex-wrap: wrap;\n  }\n\n  .tool-button {\n    min-width: 50px;\n    padding: 10px;\n  }\n}\n\n/* AccessibilitÃ© */\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n\n/* Mode sombre - aussi trÃ¨s clair mais avec lÃ©ger contraste */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --background-color: #f8fafc;    /* Blanc cassÃ© trÃ¨s clair */\n    --surface-color: #ffffff;       /* Blanc pur */\n    --border-color: #f1f5f9;        /* Gris bordure trÃ¨s clair */\n    --text-primary: #1e293b;        /* Gris foncÃ© trÃ¨s clair */\n    --text-secondary: #64748b;      /* Gris moyen clair */\n    --text-muted: #94a3b8;          /* Gris clair */\n  }\n}\n\n/* Focus visible pour l'accessibilitÃ© */\n.btn:focus-visible,\n.tool-button:focus-visible,\n.element-item:focus-visible,\n.property-row input:focus-visible,\n.property-row select:focus-visible,\n.property-row textarea:focus-visible {\n  outline: 2px solid var(--primary-color);\n  outline-offset: 2px;\n}\n\n/* Styles pour la modale des modÃ¨les d'en-tÃªte */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background: var(--surface-color);\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: var(--text-primary);\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.modal-close {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: var(--text-secondary);\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.1s ease;\n}\n\n.modal-close:hover {\n  background: var(--background-color);\n  color: var(--text-primary);\n}\n\n.modal-body {\n  padding: 20px;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.templates-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n}\n\n.template-item {\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: var(--surface-color);\n}\n\n.template-item:hover {\n  border-color: var(--primary-color);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.template-preview {\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  padding: 12px;\n  margin-bottom: 12px;\n  min-height: 80px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-family: 'Courier New', monospace;\n  color: var(--text-primary);\n}\n\n.template-name {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-primary);\n  text-align: center;\n}\n\n/* Styles pour la modale d'aperÃ§u */\n.preview-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  backdrop-filter: blur(2px);\n}\n\n.preview-modal-content {\n  background: var(--surface-color);\n  border-radius: 12px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 90vw;\n  max-height: 90vh;\n  width: 800px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  animation: modalFadeIn 0.3s ease-out;\n}\n\n@keyframes modalFadeIn {\n  from {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n.preview-modal-header {\n  padding: 20px 24px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, var(--primary-color) 0%, var(--success-color) 100%);\n  color: white;\n}\n\n.preview-modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.preview-modal-close {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: white;\n  padding: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n}\n\n.preview-modal-close:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.1);\n}\n\n.preview-modal-body {\n  padding: 24px;\n  overflow-y: auto;\n  flex: 1;\n  background: var(--background-color);\n}\n\n.preview-loading {\n  text-align: center;\n  padding: 60px 20px;\n  color: var(--text-secondary);\n}\n\n.preview-spinner {\n  border: 4px solid var(--border-color);\n  border-top: 4px solid var(--primary-color);\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n}\n\n.preview-error {\n  text-align: center;\n  padding: 40px 20px;\n  color: #e74c3c;\n  background: #fef2f2;\n  border: 1px solid #fecaca;\n  border-radius: 8px;\n  margin: 20px 0;\n}\n\n.preview-error h4 {\n  margin: 0 0 10px 0;\n  color: #dc2626;\n}\n\n.preview-content {\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  min-height: 400px;\n}\n\n.preview-canvas {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  position: relative;\n}\n\n.preview-modal-footer {\n  padding: 20px 24px;\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  background: var(--surface-color);\n}\n\n.preview-modal-footer .btn {\n  min-width: 120px;\n}\n\n/* Animation pour le menu contextuel */\n@keyframes contextMenuFadeIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes contextMenuFadeOut {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n}\n",""]);const l=i},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var s=[].concat(e[d]);o&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),t&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=t):s[2]=t),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),n.push(s))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},594:e=>{e.exports=React},601:e=>{e.exports=function(e){return e[1]}},630:(e,n,t)=>{t.d(n,{s:()=>s});var o=t(594);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){l(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l(e,n,t){return(n=function(e){var n=function(e){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=r(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var s=function(e){var n=e.onElementResize,t=e.snapToGrid,r=void 0===t||t,a=e.gridSize,l=void 0===a?10:a,d=e.minWidth,s=void 0===d?20:d,u=e.minHeight,p=void 0===u?20:u,f=e.zoom,b=void 0===f?1:f,m=e.canvasRect,h=void 0===m?null:m,g=e.canvasWidth,x=void 0===g?595:g,y=e.canvasHeight,v=void 0===y?842:y,w=c((0,o.useState)(!1),2),k=w[0],C=w[1],S=c((0,o.useState)(null),2),z=S[0],E=S[1],j=(0,o.useRef)({x:0,y:0}),O=(0,o.useRef)({x:0,y:0,width:0,height:0}),A=(0,o.useCallback)(function(e){return r?Math.round(e/l)*l:e},[r,l]),R=(0,o.useCallback)(function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.preventDefault(),e.stopPropagation(),C(!0),E(t);var l=r||h||{left:0,top:0},c=a||b||1;j.current={x:(e.clientX-l.left)/c,y:(e.clientY-l.top)/c},O.current=i({},o);var d=function(e){var o=(e.clientX-l.left)/c,a=(e.clientY-l.top)/c,d=o-j.current.x,u=a-j.current.y,f=i({},O.current);switch(t){case"nw":f.x=A(O.current.x+d),f.y=A(O.current.y+u),f.width=A(O.current.width-d),f.height=A(O.current.height-u);break;case"ne":f.y=A(O.current.y+u),f.width=A(O.current.width+d),f.height=A(O.current.height-u);break;case"sw":f.x=A(O.current.x+d),f.width=A(O.current.width-d),f.height=A(O.current.height+u);break;case"se":f.width=A(O.current.width+d),f.height=A(O.current.height+u);break;case"n":f.y=A(O.current.y+u),f.height=A(O.current.height-u);break;case"s":f.height=A(O.current.height+u);break;case"w":f.x=A(O.current.x+d),f.width=A(O.current.width-d);break;case"e":f.width=A(O.current.width+d)}f.width<s&&(t.includes("w")&&(f.x=O.current.x+O.current.width-s),f.width=s),f.height<p&&(t.includes("n")&&(f.y=O.current.y+O.current.height-p),f.height=p);var b=r?r.width/c:x,m=r?r.height/c:v;f.x=Math.max(0,Math.min(b-f.width,f.x)),f.y=Math.max(0,Math.min(m-f.height,f.y)),n&&n(f)},u=function(){C(!1),E(null),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",u)},[A,s,p,n,b,h,x,v]);return{isResizing:k,resizeHandle:z,handleResizeStart:R}}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},705:(e,n,t)=>{t.d(n,{H:()=>s});var o=t(594),r=t.n(o),a=t(630);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){d(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n,t){return(n=function(e){var n=function(e){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=function(e){var n,t,i,l,d,s,u,p,f,b,m,h,g,x,y,v,w,k,C,S,z,E,j,O,A,R,P,T,D,M,I,W,N,B,_,H,F,L,U,q,Z,Y,G,X,$,V,K,J,Q,ee,ne,te,oe,re,ae,ie,le,ce,de,se,ue,pe,fe,be,me,he,ge,xe,ye,ve,we,ke,Ce,Se,ze,Ee,je,Oe,Ae=e.element,Re=e.isSelected,Pe=e.zoom,Te=e.snapToGrid,De=e.gridSize,Me=e.canvasWidth,Ie=e.canvasHeight,We=e.onSelect,Ne=e.onUpdate,Be=(e.onRemove,e.onContextMenu),_e=e.dragAndDrop,He=(0,o.useRef)(null),Fe=(0,a.s)({onElementResize:function(e){Ne({x:e.x,y:e.y,width:e.width,height:e.height})},snapToGrid:Te,gridSize:De,canvasWidth:Me,canvasHeight:Ie}),Le=(0,o.useCallback)(function(e){if(e.stopPropagation(),Re){var n=He.current.closest(".canvas-zoom-wrapper");if(n){var t=n.getBoundingClientRect(),o=He.current.getBoundingClientRect(),r=(o.left,t.left,o.top,t.top,o.width,o.height,(e.clientX-t.left)/Pe),a=(e.clientY-t.top)/Pe,i=8/Pe,l=Ae.x,c=Ae.y,d=Ae.x+Ae.width,s=Ae.y+Ae.height,u=[{name:"nw",x:l,y:c},{name:"ne",x:d,y:c},{name:"sw",x:l,y:s},{name:"se",x:d,y:s},{name:"n",x:l+Ae.width/2,y:c},{name:"s",x:l+Ae.width/2,y:s},{name:"w",x:l,y:c+Ae.height/2},{name:"e",x:d,y:c+Ae.height/2}].find(function(e){return r>=e.x-i/2&&r<=e.x+i/2&&a>=e.y-i/2&&a<=e.y+i/2});if(u){var p=He.current.closest(".canvas-zoom-wrapper").getBoundingClientRect();Fe.handleResizeStart(e,u.name,{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height},p,Pe)}else{var f=He.current.closest(".canvas-zoom-wrapper").getBoundingClientRect();_e.handleMouseDown(e,Ae.id,{left:Ae.x,top:Ae.y,width:Ae.width,height:Ae.height},f,Pe)}}}else We()},[Re,We,Ae,Pe,Fe,_e]),Ue=(0,o.useCallback)(function(e){if(e.stopPropagation(),"text"===Ae.type){var n=prompt("Modifier le texte:",Ae.text||"");null!==n&&Ne({text:n})}},[Ae,Ne]),qe=(0,o.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),Be&&Be(e,Ae.id)},[Be,Ae.id]),Ze=function(e,n){switch(e){case"classic":return{backgroundColor:n%2==0?"#fff":"#f9f9f9",borderBottom:"1px solid #ccc"};case"striped":return{backgroundColor:n%2==0?"#fff":"#f8f9fa",borderBottom:"1px solid #dee2e6"};case"bordered":return{backgroundColor:"#fff",borderBottom:"1px solid #333"};case"minimal":return{backgroundColor:"transparent",borderBottom:n%2==0?"1px solid #f0f0f0":"none"};case"modern":return{backgroundColor:n%2==0?"#ffffff":"#f8fafc",borderBottom:"1px solid #e2e8f0",transition:"background-color 0.2s ease"};default:return{backgroundColor:n%2==0?"#fff":"#fafafa",borderBottom:"1px solid #eee"}}};return r().createElement(r().Fragment,null,r().createElement("div",{ref:He,className:"canvas-element ".concat(Re?"selected":""),style:c({position:"absolute",left:Ae.x*Pe,top:Ae.y*Pe,width:Ae.width*Pe,height:Ae.height*Pe,cursor:_e.isDragging?"grabbing":"grab",userSelect:"none"},"text"===Ae.type?{fontSize:(Ae.fontSize||14)*Pe,fontFamily:Ae.fontFamily||"Arial",color:Ae.color||"#1e293b",fontWeight:Ae.fontWeight||"normal",fontStyle:Ae.fontStyle||"normal",textAlign:Ae.textAlign||"left",textDecoration:Ae.textDecoration||"none",lineHeight:Ae.lineHeight||"normal",display:"flex",alignItems:"center",justifyContent:"center"===Ae.textAlign?"center":"right"===Ae.textAlign?"flex-end":"flex-start",wordBreak:"break-word",overflow:"hidden"}:"rectangle"===Ae.type?{backgroundColor:Ae.backgroundColor||"transparent",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#000"):"none",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"0"}:"image"===Ae.type&&Ae.src?{backgroundImage:"url(".concat(Ae.src,")"),backgroundSize:Ae.backgroundSize||"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:"line"===Ae.type?{borderTop:"".concat(Ae.lineWidth||1,"px solid ").concat(Ae.lineColor||"#6b7280"),height:"0px",width:"100%"}:"layout-header"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f8fafc",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#e2e8f0"):"1px solid #e2e8f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14*Pe,fontWeight:"bold",color:"#64748b"}:"layout-footer"===Ae.type||"layout-sidebar"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f8fafc",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#e2e8f0"):"1px solid #e2e8f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe,color:"#64748b"}:"layout-section"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#e2e8f0"):"1px solid #e2e8f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe,color:"#64748b"}:"layout-container"===Ae.type?{backgroundColor:Ae.backgroundColor||"transparent",border:Ae.border?"".concat(Ae.borderWidth||2,"px ").concat(Ae.borderStyle||"dashed"," ").concat(Ae.borderColor||"#cbd5e1"):"2px dashed #cbd5e1",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe,color:"#94a3b8"}:"shape-rectangle"===Ae.type?{backgroundColor:Ae.backgroundColor||"#e5e7eb",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#000"):"none",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"0"}:"shape-circle"===Ae.type?{backgroundColor:Ae.backgroundColor||"#e5e7eb",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#000"):"none",borderRadius:"50%"}:"shape-line"===Ae.type?{backgroundColor:Ae.backgroundColor||"#6b7280",height:"100%"}:"shape-arrow"===Ae.type?{backgroundColor:Ae.backgroundColor||"#374151",clipPath:"polygon(0% 50%, 70% 0%, 70% 40%, 100% 40%, 100% 60%, 70% 60%, 70% 100%)"}:"shape-triangle"===Ae.type?{backgroundColor:Ae.backgroundColor||"#e5e7eb",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}:"shape-star"===Ae.type?{backgroundColor:Ae.backgroundColor||"#fbbf24",clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"}:"divider"===Ae.type?{backgroundColor:Ae.backgroundColor||"#d1d5db",height:"1px"}:"image-upload"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f3f4f6",border:"2px dashed #d1d5db",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"logo"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f3f4f6",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14*Pe,fontWeight:"bold"}:"barcode"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#000000"):"1px solid #000000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10*Pe,fontFamily:"monospace"}:"qrcode"===Ae.type||"qrcode-dynamic"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#000000"):"1px solid #000000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:8*Pe}:"icon"===Ae.type?{backgroundColor:Ae.backgroundColor||"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20*Pe}:"dynamic-text"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f8fafc",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:12*Pe,fontFamily:"monospace",color:"#059669",padding:"4px"}:"formula"===Ae.type?{backgroundColor:Ae.backgroundColor||"#fef3c7",border:"1px solid #f59e0b",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:12*Pe,fontFamily:"monospace",color:"#d97706",padding:"4px"}:"conditional-text"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ecfdf5",border:"1px solid #10b981",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:12*Pe,fontFamily:"monospace",color:"#059669",padding:"4px"}:"counter"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f0f9ff",border:"1px solid #0ea5e9",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14*Pe,fontWeight:"bold",color:"#0284c7"}:"date-dynamic"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f3f4f6",border:"1px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:12*Pe,fontFamily:"monospace",color:"#374151",padding:"4px"}:"currency"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f0fdf4",border:"1px solid #22c55e",display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:14*Pe,fontWeight:"bold",color:"#16a34a",padding:"4px"}:"table-dynamic"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#e5e7eb"):"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"gradient-box"===Ae.type?{background:Ae.backgroundColor||"linear-gradient(45deg, #667eea 0%, #764ba2 100%)",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe,color:"white",fontWeight:"bold"}:"shadow-box"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"8px",boxShadow:Ae.boxShadow||"0 4px 6px -1px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"rounded-box"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||1,"px solid ").concat(Ae.borderColor||"#e5e7eb"):"1px solid #e5e7eb",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"border-box"===Ae.type?{backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.border?"".concat(Ae.borderWidth||3,"px solid ").concat(Ae.borderColor||"#3b82f6"):"3px solid #3b82f6",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius,"px"):"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"background-pattern"===Ae.type?{backgroundColor:Ae.backgroundColor||"#f8fafc",backgroundImage:Ae.backgroundImage||"repeating-linear-gradient(45deg, #e2e8f0, #e2e8f0 10px, #f1f5f9 10px, #f1f5f9 20px)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}:"watermark"===Ae.type?{backgroundColor:Ae.backgroundColor||"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:(Ae.fontSize||48)*Pe,color:Ae.color||"#9ca3af",opacity:Ae.opacity||.1,fontWeight:"bold",transform:"rotate(-45deg)",pointerEvents:"none"}:"progress-bar"===Ae.type?{backgroundColor:Ae.backgroundColor||"#e5e7eb",borderRadius:"10px",overflow:"hidden",position:"relative"}:{backgroundColor:"#f1f3f4",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12*Pe}),onMouseDown:Le,onDoubleClick:Ue,onContextMenu:qe,draggable:!1},"text"===Ae.type?Ae.text||"Texte":"product_table"===Ae.type?null:"image"!==Ae.type||Ae.src?"line"===Ae.type?null:"layout-header"===Ae.type?"ðŸ“„ En-tÃªte":"layout-footer"===Ae.type?"ðŸ“„ Pied de Page":"layout-sidebar"===Ae.type?"ðŸ“„ Barre LatÃ©rale":"layout-section"===Ae.type?"ðŸ“„ Section":"layout-container"===Ae.type?"ðŸ“¦ Conteneur":"shape-rectangle"===Ae.type?"â–­":"shape-circle"===Ae.type?"â—‹":"shape-line"===Ae.type?null:"shape-arrow"===Ae.type?"â†’":"shape-triangle"===Ae.type?"â–³":"shape-star"===Ae.type?"â­":"divider"===Ae.type?null:"image-upload"===Ae.type?"ðŸ“¤ TÃ©lÃ©charger":"logo"===Ae.type?"ðŸ·ï¸ Logo":"barcode"===Ae.type?"ðŸ“Š 123456":"qrcode"===Ae.type||"qrcode-dynamic"===Ae.type?"ðŸ“± QR":"icon"===Ae.type?Ae.content||"ðŸŽ¯":"dynamic-text"===Ae.type?Ae.content||"{{variable}}":"formula"===Ae.type?Ae.content||"{{prix * quantite}}":"conditional-text"===Ae.type?Ae.content||'{{condition ? "Oui" : "Non"}}':"counter"===Ae.type?Ae.content||"1":"date-dynamic"===Ae.type?Ae.content||"{{date|format:Y-m-d}}":"currency"===Ae.type?Ae.content||"{{montant|currency:EUR}}":"table-dynamic"===Ae.type?"ðŸ“Š Tableau":"gradient-box"===Ae.type?"ðŸŒˆ DÃ©gradÃ©":"shadow-box"===Ae.type?"ðŸ“¦ Ombre":"rounded-box"===Ae.type?"ðŸ”„ Arrondi":"border-box"===Ae.type?"ðŸ”² Bordure":"background-pattern"===Ae.type?"ðŸŽ¨ Motif":"watermark"===Ae.type?Ae.content||"CONFIDENTIEL":"progress-bar"===Ae.type||"product_table"===Ae.type||"customer_info"===Ae.type?null:"image"!==Ae.type&&"rectangle"!==Ae.type&&"company_logo"!==Ae.type&&"order_number"!==Ae.type&&"company_info"!==Ae.type&&"document_type"!==Ae.type?Ae.type:null:"ðŸ“· Image","product_table"===Ae.type&&r().createElement("div",{style:c({width:"100%",height:"100%",display:"flex",flexDirection:"column",fontSize:10*Pe,fontFamily:"Arial, sans-serif",border:!1!==Ae.showBorders?"1px solid #ddd":"none",borderRadius:"2px",overflow:"hidden"},function(e){switch(e){case"classic":case"bordered":return{border:"2px solid #333",borderRadius:"0",boxShadow:"none"};case"striped":return{border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"};case"minimal":return{border:"none",borderRadius:"0",boxShadow:"none"};case"modern":return{border:"1px solid #e1e5e9",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",backgroundColor:"#ffffff"};default:return{border:"1px solid #ddd",borderRadius:"2px",boxShadow:"none"}}}(Ae.tableStyle||"default"))},!1!==Ae.showHeaders&&r().createElement("div",{style:c({display:"flex",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",fontWeight:"bold"},function(e){switch(e){case"classic":return{backgroundColor:"#666",color:"#fff",borderBottom:"2px solid #333",fontWeight:"bold"};case"striped":return{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6",fontWeight:"600"};case"bordered":return{backgroundColor:"#f8f9fa",borderBottom:"2px solid #333",fontWeight:"bold"};case"minimal":return{backgroundColor:"transparent",borderBottom:"1px solid #eee",fontWeight:"normal"};case"modern":return{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontWeight:"600",color:"#334155"};default:return{backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",fontWeight:"bold"}}}(Ae.tableStyle||"default"))},!1!==(null===(n=Ae.columns)||void 0===n?void 0:n.image)&&r().createElement("div",{style:{flex:"0 0 40px",padding:"".concat(4*Pe,"px"),textAlign:"center",borderRight:"1px solid #ddd"}},"Img"),!1!==(null===(t=Ae.columns)||void 0===t?void 0:t.name)&&r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"left",borderRight:!1!==(null===(i=Ae.columns)||void 0===i?void 0:i.sku)||!1!==(null===(l=Ae.columns)||void 0===l?void 0:l.quantity)||!1!==(null===(d=Ae.columns)||void 0===d?void 0:d.price)||!1!==(null===(s=Ae.columns)||void 0===s?void 0:s.total)?"1px solid #ddd":"none"}},"Produit"),!1!==(null===(u=Ae.columns)||void 0===u?void 0:u.sku)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"left",borderRight:!1!==(null===(p=Ae.columns)||void 0===p?void 0:p.quantity)||!1!==(null===(f=Ae.columns)||void 0===f?void 0:f.price)||!1!==(null===(b=Ae.columns)||void 0===b?void 0:b.total)?"1px solid #ddd":"none"}},"SKU"),!1!==(null===(m=Ae.columns)||void 0===m?void 0:m.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center",borderRight:!1!==(null===(h=Ae.columns)||void 0===h?void 0:h.price)||!1!==(null===(g=Ae.columns)||void 0===g?void 0:g.total)?"1px solid #ddd":"none"}},"QtÃ©"),!1!==(null===(x=Ae.columns)||void 0===x?void 0:x.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",borderRight:!1!==(null===(y=Ae.columns)||void 0===y?void 0:y.total)?"1px solid #ddd":"none"}},"Prix"),!1!==(null===(v=Ae.columns)||void 0===v?void 0:v.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"Total")),r().createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},r().createElement("div",{style:c({display:"flex",borderBottom:"1px solid #eee"},Ze(Ae.tableStyle||"default",0))},!1!==(null===(w=Ae.columns)||void 0===w?void 0:w.image)&&r().createElement("div",{style:{flex:"0 0 40px",padding:"".concat(4*Pe,"px"),textAlign:"center",borderRight:"1px solid #eee"}},"ðŸ“·"),!1!==(null===(k=Ae.columns)||void 0===k?void 0:k.name)&&r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),borderRight:!1!==(null===(C=Ae.columns)||void 0===C?void 0:C.sku)||!1!==(null===(S=Ae.columns)||void 0===S?void 0:S.quantity)||!1!==(null===(z=Ae.columns)||void 0===z?void 0:z.price)||!1!==(null===(E=Ae.columns)||void 0===E?void 0:E.total)?"1px solid #eee":"none"}},"Produit A - Description du produit"),!1!==(null===(j=Ae.columns)||void 0===j?void 0:j.sku)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),borderRight:!1!==(null===(O=Ae.columns)||void 0===O?void 0:O.quantity)||!1!==(null===(A=Ae.columns)||void 0===A?void 0:A.price)||!1!==(null===(R=Ae.columns)||void 0===R?void 0:R.total)?"1px solid #eee":"none"}},"SKU001"),!1!==(null===(P=Ae.columns)||void 0===P?void 0:P.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center",borderRight:!1!==(null===(T=Ae.columns)||void 0===T?void 0:T.price)||!1!==(null===(D=Ae.columns)||void 0===D?void 0:D.total)?"1px solid #eee":"none"}},"2"),!1!==(null===(M=Ae.columns)||void 0===M?void 0:M.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",borderRight:!1!==(null===(I=Ae.columns)||void 0===I?void 0:I.total)?"1px solid #eee":"none"}},"â‚¬19.99"),!1!==(null===(W=Ae.columns)||void 0===W?void 0:W.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"â‚¬39.98")),r().createElement("div",{style:c({display:"flex",borderBottom:"1px solid #eee",backgroundColor:"#fafafa"},Ze(Ae.tableStyle||"default",1))},!1!==(null===(N=Ae.columns)||void 0===N?void 0:N.image)&&r().createElement("div",{style:{flex:"0 0 40px",padding:"".concat(4*Pe,"px"),textAlign:"center",borderRight:"1px solid #eee"}},"ðŸ“·"),!1!==(null===(B=Ae.columns)||void 0===B?void 0:B.name)&&r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),borderRight:!1!==(null===(_=Ae.columns)||void 0===_?void 0:_.sku)||!1!==(null===(H=Ae.columns)||void 0===H?void 0:H.quantity)||!1!==(null===(F=Ae.columns)||void 0===F?void 0:F.price)||!1!==(null===(L=Ae.columns)||void 0===L?void 0:L.total)?"1px solid #eee":"none"}},"Produit B - Un autre article"),!1!==(null===(U=Ae.columns)||void 0===U?void 0:U.sku)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),borderRight:!1!==(null===(q=Ae.columns)||void 0===q?void 0:q.quantity)||!1!==(null===(Z=Ae.columns)||void 0===Z?void 0:Z.price)||!1!==(null===(Y=Ae.columns)||void 0===Y?void 0:Y.total)?"1px solid #eee":"none"}},"SKU002"),!1!==(null===(G=Ae.columns)||void 0===G?void 0:G.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center",borderRight:!1!==(null===(X=Ae.columns)||void 0===X?void 0:X.price)||!1!==(null===($=Ae.columns)||void 0===$?void 0:$.total)?"1px solid #eee":"none"}},"1"),!1!==(null===(V=Ae.columns)||void 0===V?void 0:V.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",borderRight:!1!==(null===(K=Ae.columns)||void 0===K?void 0:K.total)?"1px solid #eee":"none"}},"â‚¬29.99"),!1!==(null===(J=Ae.columns)||void 0===J?void 0:J.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"â‚¬29.99"))),(Ae.showSubtotal||Ae.showShipping||Ae.showTaxes||Ae.showDiscount||Ae.showTotal)&&r().createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},r().createElement("div",{style:{display:"flex",borderTop:"2px solid #ddd",marginTop:"".concat(8*Pe,"px"),paddingTop:"".concat(8*Pe,"px")}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold",color:"#666"}}),!1!==(null===(Q=Ae.columns)||void 0===Q?void 0:Q.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(ee=Ae.columns)||void 0===ee?void 0:ee.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold",color:"#666"}}),!1!==(null===(ne=Ae.columns)||void 0===ne?void 0:ne.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold",color:"#666"}},"Total")),Ae.showSubtotal&&r().createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee",backgroundColor:"#f9f9f9"}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold"}},"Sous-total"),!1!==(null===(te=Ae.columns)||void 0===te?void 0:te.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(oe=Ae.columns)||void 0===oe?void 0:oe.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}}),!1!==(null===(re=Ae.columns)||void 0===re?void 0:re.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold"}},"â‚¬47.25")),Ae.showShipping&&r().createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee"}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"Frais de port"),!1!==(null===(ae=Ae.columns)||void 0===ae?void 0:ae.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(ie=Ae.columns)||void 0===ie?void 0:ie.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}}),!1!==(null===(le=Ae.columns)||void 0===le?void 0:le.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"â‚¬5.00")),Ae.showTaxes&&r().createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee"}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"Taxes (TVA 20%)"),!1!==(null===(ce=Ae.columns)||void 0===ce?void 0:ce.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(de=Ae.columns)||void 0===de?void 0:de.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}}),!1!==(null===(se=Ae.columns)||void 0===se?void 0:se.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}},"â‚¬2.25")),Ae.showDiscount&&r().createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee"}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",color:"#d32f2f"}},"Remise"),!1!==(null===(ue=Ae.columns)||void 0===ue?void 0:ue.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(pe=Ae.columns)||void 0===pe?void 0:pe.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}}),!1!==(null===(fe=Ae.columns)||void 0===fe?void 0:fe.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",color:"#d32f2f"}},"-â‚¬5.00")),Ae.showTotal&&r().createElement("div",{style:{display:"flex",borderTop:"2px solid #333",backgroundColor:"#f5f5f5",marginTop:"".concat(4*Pe,"px"),paddingTop:"".concat(4*Pe,"px")}},r().createElement("div",{style:{flex:1,padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold",fontSize:"".concat(12*Pe,"px")}},"TOTAL TTC"),!1!==(null===(be=Ae.columns)||void 0===be?void 0:be.quantity)&&r().createElement("div",{style:{flex:"0 0 60px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"center"}}),!1!==(null===(me=Ae.columns)||void 0===me?void 0:me.price)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right"}}),!1!==(null===(he=Ae.columns)||void 0===he?void 0:he.total)&&r().createElement("div",{style:{flex:"0 0 80px",padding:"".concat(4*Pe,"px ").concat(6*Pe,"px"),textAlign:"right",fontWeight:"bold",fontSize:"".concat(12*Pe,"px"),color:"#1976d2"}},"â‚¬49.50")))),"customer_info"===Ae.type&&r().createElement("div",{style:{width:"100%",height:"100%",padding:"".concat(8*Pe,"px"),fontSize:"".concat((Ae.fontSize||12)*Pe,"px"),fontFamily:Ae.fontFamily||"Arial, sans-serif",fontWeight:Ae.fontWeight||"normal",fontStyle:Ae.fontStyle||"normal",textDecoration:Ae.textDecoration||"none",color:"#333",backgroundColor:Ae.backgroundColor||"#ffffff",border:Ae.borderWidth?"".concat(Ae.borderWidth*Pe,"px solid ").concat(Ae.borderColor||"#ddd"):"none",borderRadius:Ae.borderRadius?"".concat(Ae.borderRadius*Pe,"px"):"0px"}},r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"row":"column",gap:"".concat(Ae.spacing*Pe||8*Pe,"px"),height:"100%"}},(null===(ge=Ae.fields)||void 0===ge?void 0:ge.includes("name"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"Nom :"),r().createElement("div",{style:{fontWeight:"bold",color:"#333"}},"Jean Dupont")),(null===(xe=Ae.fields)||void 0===xe?void 0:xe.includes("email"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"Email :"),r().createElement("div",{style:{color:"#1976d2"}},"jean.dupont@email.com")),(null===(ye=Ae.fields)||void 0===ye?void 0:ye.includes("phone"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"TÃ©lÃ©phone :"),r().createElement("div",{style:{color:"#333"}},"+33 6 12 34 56 78")),(null===(ve=Ae.fields)||void 0===ve?void 0:ve.includes("address"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"Adresse :"),r().createElement("div",{style:{color:"#333",lineHeight:"1.4"}},"123 Rue de la Paix",r().createElement("br",null),"75001 Paris",r().createElement("br",null),"France")),(null===(we=Ae.fields)||void 0===we?void 0:we.includes("company"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"SociÃ©tÃ© :"),r().createElement("div",{style:{fontWeight:"bold",color:"#333"}},"ABC Company SARL")),(null===(ke=Ae.fields)||void 0===ke?void 0:ke.includes("vat"))&&r().createElement("div",{style:{display:"flex",flexDirection:"horizontal"===Ae.layout?"column":"row",alignItems:"horizontal"===Ae.layout?"flex-start":"center",gap:"".concat(4*Pe,"px"),flex:"horizontal"===Ae.layout?"1":"none"}},Ae.showLabels&&r().createElement("div",{style:{fontWeight:"bold"===Ae.labelStyle?"bold":"normal",textTransform:"uppercase"===Ae.labelStyle?"uppercase":"none",color:"#666",minWidth:"horizontal"===Ae.layout?"auto":"80px",fontSize:"".concat(11*Pe,"px")}},"NÂ° TVA :"),r().createElement("div",{style:{color:"#333"}},"FR 12 345 678 901")))),"company_logo"===Ae.type&&r().createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"===Ae.alignment?"center":"right"===Ae.alignment?"flex-end":"flex-start",padding:"8px",backgroundColor:"transparent"}},Ae.imageUrl?r().createElement("img",{src:Ae.imageUrl,alt:"Logo entreprise",style:{width:"".concat(Ae.width||150,"px"),height:"".concat(Ae.height||80,"px"),objectFit:Ae.fit||"contain",borderRadius:Ae.borderRadius||0,border:Ae.showBorder?"1px solid #ddd":"none"}}):r().createElement("div",{style:{width:"".concat(Ae.width||150,"px"),height:"".concat(Ae.height||80,"px"),backgroundColor:"#f5f5f5",border:"2px dashed #ddd",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"".concat(12*Pe,"px")}},"ðŸ¢ Logo")),"company_info"===Ae.type&&r().createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",padding:"".concat(8*Pe,"px"),fontSize:"".concat((Ae.fontSize||12)*Pe,"px"),fontFamily:Ae.fontFamily||"Arial",fontWeight:Ae.fontWeight||"normal",textAlign:Ae.textAlign||"left",color:"#333",lineHeight:"1.4"}},(null===(Ce=Ae.fields)||void 0===Ce?void 0:Ce.includes("name"))&&r().createElement("div",{style:{fontWeight:"bold",marginBottom:"".concat(2*Pe,"px")}},"Ma SociÃ©tÃ© SARL"),(null===(Se=Ae.fields)||void 0===Se?void 0:Se.includes("address"))&&r().createElement("div",{style:{marginBottom:"".concat(2*Pe,"px")}},"123 Rue de l'Entreprise",r().createElement("br",null),"75001 Paris",r().createElement("br",null),"France"),(null===(ze=Ae.fields)||void 0===ze?void 0:ze.includes("phone"))&&r().createElement("div",{style:{marginBottom:"".concat(2*Pe,"px")}},"TÃ©l: +33 1 23 45 67 89"),(null===(Ee=Ae.fields)||void 0===Ee?void 0:Ee.includes("email"))&&r().createElement("div",{style:{marginBottom:"".concat(2*Pe,"px")}},"contact@masociete.com"),(null===(je=Ae.fields)||void 0===je?void 0:je.includes("website"))&&r().createElement("div",{style:{marginBottom:"".concat(2*Pe,"px")}},"www.masociete.com"),(null===(Oe=Ae.fields)||void 0===Oe?void 0:Oe.includes("vat"))&&r().createElement("div",null,"TVA: FR 12 345 678 901")),"order_number"===Ae.type&&r().createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"===Ae.textAlign?"center":"right"===Ae.textAlign?"flex-end":"flex-start",padding:"".concat(8*Pe,"px"),fontSize:"".concat((Ae.fontSize||14)*Pe,"px"),fontFamily:Ae.fontFamily||"Arial",fontWeight:Ae.fontWeight||"bold",color:Ae.color||"#333333",textAlign:Ae.textAlign||"right"}},Ae.showLabel&&r().createElement("div",{style:{fontSize:"".concat(12*Pe,"px"),fontWeight:"normal",color:"#666",marginBottom:"".concat(4*Pe,"px")}},Ae.labelText||"NÂ° de commande:"),r().createElement("div",null,"Commande #12345 - 15/10/2025")),"document_type"===Ae.type&&r().createElement("div",{style:{display:"inline-block",padding:"".concat(8*Pe,"px"),fontSize:"".concat((Ae.fontSize||18)*Pe,"px"),fontFamily:Ae.fontFamily||"Arial",fontWeight:Ae.fontWeight||"bold",color:Ae.color||"#1e293b",textAlign:Ae.textAlign||"center",backgroundColor:Ae.backgroundColor||"transparent",border:Ae.showBorder?"2px solid #e2e8f0":"none",borderRadius:"4px",whiteSpace:"nowrap"}},"invoice"===Ae.documentType?"FACTURE":"quote"===Ae.documentType?"DEVIS":"receipt"===Ae.documentType?"REÃ‡U":"order"===Ae.documentType?"COMMANDE":"credit_note"===Ae.documentType?"AVOIR":"DOCUMENT")),"progress-bar"===Ae.type&&r().createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"".concat(Ae.progressValue||75,"%"),backgroundColor:Ae.progressColor||"#3b82f6",borderRadius:"10px",transition:"width 0.3s ease"}}),Re&&r().createElement(r().Fragment,null,r().createElement("div",{className:"resize-handle nw",style:{position:"absolute",left:Ae.x*Pe-4,top:Ae.y*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"nw-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"nw",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle ne",style:{position:"absolute",left:(Ae.x+Ae.width)*Pe-4,top:Ae.y*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"ne-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"ne",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle sw",style:{position:"absolute",left:Ae.x*Pe-4,top:(Ae.y+Ae.height)*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"sw-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"sw",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle se",style:{position:"absolute",left:(Ae.x+Ae.width)*Pe-4,top:(Ae.y+Ae.height)*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"se-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"se",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle n",style:{position:"absolute",left:(Ae.x+Ae.width/2)*Pe-4,top:Ae.y*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"n-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"n",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle s",style:{position:"absolute",left:(Ae.x+Ae.width/2)*Pe-4,top:(Ae.y+Ae.height)*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"s-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"s",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle w",style:{position:"absolute",left:Ae.x*Pe-4,top:(Ae.y+Ae.height/2)*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"w-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"w",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-handle e",style:{position:"absolute",left:(Ae.x+Ae.width)*Pe-4,top:(Ae.y+Ae.height/2)*Pe-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"e-resize",pointerEvents:"auto"},onMouseDown:function(e){return Fe.handleResizeStart(e,"e",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})},onContextMenu:qe}),r().createElement("div",{className:"resize-zone resize-zone-n",onMouseDown:function(e){return Fe.handleResizeStart(e,"n",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}}),r().createElement("div",{className:"resize-zone resize-zone-s",onMouseDown:function(e){return Fe.handleResizeStart(e,"s",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}}),r().createElement("div",{className:"resize-zone resize-zone-w",onMouseDown:function(e){return Fe.handleResizeStart(e,"w",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}}),r().createElement("div",{className:"resize-zone resize-zone-e",onMouseDown:function(e){return Fe.handleResizeStart(e,"e",{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}})))}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={id:e,exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".pdf-builder-admin.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),e={},n="wp-pdf-builder-pro:",r.l=(t,o,a,i)=>{if(e[t])e[t].push(o);else{var l,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),s=0;s<d.length;s++){var u=d[s];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+a){l=u;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",n+a),l.src=t),e[t]=[o];var p=(n,o)=>{l.onerror=l.onload=null,clearTimeout(f);var r=e[t];if(delete e[t],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach(e=>e(o)),n)return n(o)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),c&&document.head.appendChild(l)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var n=r.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var o=t.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=t[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={792:0};r.f.j=(n,t)=>{var o=r.o(e,n)?e[n]:void 0;if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((t,r)=>o=e[n]=[t,r]);t.push(o[2]=a);var i=r.p+r.u(n),l=new Error;r.l(i,t=>{if(r.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}},"chunk-"+n,n)}};var n=(n,t)=>{var o,a,[i,l,c]=t,d=0;if(i.some(n=>0!==e[n])){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);c&&c(r)}for(n&&n(t);d<i.length;d++)a=i[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},t=self.webpackChunkwp_pdf_builder_pro=self.webpackChunkwp_pdf_builder_pro||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),r.nc=void 0;var a=r(594),i=r.n(a);const l=ReactDOM;var c=r.n(l),d=r(705);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var p=function(e){var n=e.onElementMove,t=e.onElementDrop,o=e.snapToGrid,r=void 0===o||o,i=e.gridSize,l=void 0===i?10:i,c=(e.canvasRect,e.zoom),d=void 0===c?1:c,u=e.canvasWidth,p=void 0===u?595:u,f=e.canvasHeight,b=void 0===f?842:f,m=s((0,a.useState)(!1),2),h=m[0],g=m[1],x=s((0,a.useState)({x:0,y:0}),2),y=x[0],v=x[1],w=(0,a.useRef)({x:0,y:0}),k=(0,a.useRef)(null),C=(0,a.useCallback)(function(e){return r?Math.round(e/l)*l:e},[r,l]);(0,a.useEffect)(function(){return function(){k.current&&(document.removeEventListener("mousemove",k.current.handleMouseMove),document.removeEventListener("mouseup",k.current.handleMouseUp),k.current=null)}},[]);var S=(0,a.useCallback)(function(e,o,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(0===e.button){e.preventDefault(),g(!0);var l=a||{left:0,top:0},c=i||d||1,s=(e.clientX-l.left)/c,u=(e.clientY-l.top)/c,f=s,m=u;w.current={x:s-r.left,y:u-r.top};var h=function(e){var t=(e.clientX-l.left)/c,d=(e.clientY-l.top)/c;f=t,m=d;var h=t-s,g=d-u,x=a?a.width/i:p,y=a?a.height/i:b,w=Math.max(0,Math.min(x-r.width,C(r.left+h))),k=Math.max(0,Math.min(y-r.height,C(r.top+g)));v({x:w-r.left,y:k-r.top}),n&&n(o,{x:w,y:k})},x=function(){if(g(!1),v({x:0,y:0}),t){var e=a?a.width/i:p,n=a?a.height/i:b,l=Math.max(0,Math.min(e-r.width,C(r.left+(f-s)))),c=Math.max(0,Math.min(n-r.height,C(r.top+(m-u))));t(o,{x:l,y:c})}document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x),k.current=null};k.current={handleMouseMove:h,handleMouseUp:x},document.addEventListener("mousemove",h),document.addEventListener("mouseup",x)}},[C,n,t,d,p,b]);return{isDragging:h,dragOffset:y,handleMouseDown:S,handleDragStart:(0,a.useCallback)(function(e,n,t){e.dataTransfer.setData("text/plain",n),e.dataTransfer.effectAllowed="move",w.current={x:e.clientX-t.left,y:e.clientY-t.top}},[]),handleDragOver:(0,a.useCallback)(function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),handleDrop:(0,a.useCallback)(function(e,n,o){e.preventDefault();var r=e.dataTransfer.getData("text/plain");if(r){var a=(e.clientX-n.left-w.current.x)/d,i=(e.clientY-n.top-w.current.y)/d,l=n?n.width/d:p,c=n?n.height/d:b,s=Math.max(0,Math.min(l-o.width,C(a))),u=Math.max(0,Math.min(c-o.height,C(i)));t&&t(r,{x:s,y:u})}},[C,t,d,p,b])}},f=function(e){var n=e.selectedTool,t=e.onToolSelect,o=e.zoom,r=e.onZoomChange,a=e.showGrid,l=e.onShowGridChange,c=e.snapToGrid,d=e.onSnapToGridChange,s=e.onUndo,u=e.onRedo,p=e.canUndo,f=e.canRedo;return i().createElement("div",{className:"toolbar"},i().createElement("div",{className:"toolbar-section"},i().createElement("h4",null,"Outils"),i().createElement("div",{className:"tool-buttons"},[{id:"select",label:"SÃ©lection",icon:"ðŸ‘†"},{id:"add-text",label:"Texte Simple",icon:"ðŸ“"},{id:"add-text-title",label:"Titre",icon:"ðŸ·ï¸"},{id:"add-text-subtitle",label:"Sous-titre",icon:"ðŸ“„"},{id:"add-rectangle",label:"Rectangle",icon:"â–­"},{id:"add-circle",label:"Cercle",icon:"â—‹"},{id:"add-line",label:"Ligne",icon:"â”"},{id:"add-arrow",label:"FlÃ¨che",icon:"â†’"},{id:"add-triangle",label:"Triangle",icon:"â–³"},{id:"add-star",label:"Ã‰toile",icon:"â­"},{id:"add-divider",label:"SÃ©parateur",icon:"â”"},{id:"add-image",label:"Image",icon:"ðŸ–¼ï¸"}].map(function(e){return i().createElement("button",{key:e.id,className:"tool-button ".concat(n===e.id?"active":""),onClick:function(){return t(e.id)},title:e.label},i().createElement("span",{className:"tool-icon"},e.icon),i().createElement("span",{className:"tool-label"},e.label))}))),i().createElement("div",{className:"toolbar-section"},i().createElement("h4",null,"Ã‰dition"),i().createElement("div",{className:"edit-buttons"},i().createElement("button",{className:"edit-button",onClick:s,disabled:!p,title:"Annuler (Ctrl+Z)"},"â†¶ Annuler"),i().createElement("button",{className:"edit-button",onClick:u,disabled:!f,title:"RÃ©tablir (Ctrl+Y)"},"â†· RÃ©tablir"))),i().createElement("div",{className:"toolbar-section"},i().createElement("h4",null,"Affichage"),i().createElement("div",{className:"display-controls"},i().createElement("div",{className:"control-group"},i().createElement("label",null,"Zoom:"),i().createElement("div",{className:"zoom-controls"},i().createElement("button",{className:"zoom-button",onClick:function(){return r(Math.max(.1,o-.1))},title:"Zoom arriÃ¨re"},"ðŸ”-"),i().createElement("span",{className:"zoom-value"},Math.round(100*o),"%"),i().createElement("button",{className:"zoom-button",onClick:function(){return r(Math.min(3,o+.1))},title:"Zoom avant"},"ðŸ”+"))),i().createElement("div",{className:"control-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:a,onChange:function(e){return l(e.target.checked)}}),"Grille")),i().createElement("div",{className:"control-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:c,onChange:function(e){return d(e.target.checked)}}),"Aimantation")))))};function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return m(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function y(e,n,t){return(n=function(e){var n=function(e){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=h(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||k(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){if(e){if("string"==typeof e)return C(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return E(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return O(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach(function(n){D(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function D(e,n,t){return(n=function(e){var n=function(e){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=A(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||I(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){if(e){if("string"==typeof e)return W(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W(e,n):void 0}}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var N=function(e){var n=e.initialElements,t=void 0===n?[]:n,o=e.canvasWidth,r=void 0===o?595:o,i=e.canvasHeight,l=void 0===i?842:i,c=e.onSave,d=(e.onPreview,M((0,a.useState)(t),2)),s=d[0],u=d[1],f=M((0,a.useState)(1),2),m=f[0],h=f[1],g=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).maxHistorySize,n=void 0===e?50:e,t=b((0,a.useState)([]),2),o=t[0],r=t[1],i=b((0,a.useState)(-1),2),l=i[0],c=i[1],d=(0,a.useRef)(!1);return{addToHistory:(0,a.useCallback)(function(e){d.current?d.current=!1:r(function(t){var o=t.slice(0,l+1);return o.push(e),o.length>n?(o.shift(),c(o.length-1),o):(c(o.length-1),o)})},[l,n]),undo:(0,a.useCallback)(function(){return l>0?(d.current=!0,c(function(e){return e-1}),o[l-1]):null},[l,o]),redo:(0,a.useCallback)(function(){return l<o.length-1?(d.current=!0,c(function(e){return e+1}),o[l+1]):null},[l,o]),canUndo:(0,a.useCallback)(function(){return l>0},[l]),canRedo:(0,a.useCallback)(function(){return l<o.length-1},[l]),clearHistory:(0,a.useCallback)(function(){r([]),c(-1)},[]),getCurrentState:(0,a.useCallback)(function(){return l>=0?o[l]:null},[l,o]),historySize:o.length,currentIndex:l}}(),y=function(e){var n=e.onSelectionChange,t=e.multiSelect,o=void 0===t||t,r=w((0,a.useState)([]),2),i=r[0],l=r[1],c=w((0,a.useState)(null),2),d=c[0],s=c[1],u=(0,a.useCallback)(function(e){o&&arguments.length>1&&void 0!==arguments[1]&&arguments[1]?l(function(t){var o=t.includes(e)?t.filter(function(n){return n!==e}):[].concat(v(t),[e]);return null==n||n(o),o}):(l([e]),null==n||n([e]))},[o,n]),p=(0,a.useCallback)(function(e){l(e),null==n||n(e)},[n]),f=(0,a.useCallback)(function(){l([]),null==n||n([])},[n]),b=(0,a.useCallback)(function(e){return i.includes(e)},[i]),m=(0,a.useCallback)(function(e,n){s({startX:e,startY:n,endX:e,endY:n})},[]),h=(0,a.useCallback)(function(e,n){s(function(t){return t?x(x({},t),{},{endX:e,endY:n}):null})},[]),g=(0,a.useCallback)(function(e){if(d){var t=d.startX,r=d.startY,a=d.endX,i=d.endY,c=Math.min(t,a),u=Math.max(t,a),p=Math.min(r,i),f=Math.max(r,i),b=e.filter(function(e){var n=e.x+e.width/2,t=e.y+e.height/2;return n>=c&&n<=u&&t>=p&&t<=f}).map(function(e){return e.id});b.length>0&&(o?l(function(e){var t=v(new Set([].concat(v(e),v(b))));return null==n||n(t),t}):(l(b),null==n||n(b))),s(null)}},[d,o,n]),y=(0,a.useCallback)(function(){return v(i)},[i]),k=(0,a.useCallback)(function(){return v(i)},[i]);return{selectedElements:i,selectionBox:d,selectElement:u,selectAll:p,clearSelection:f,isSelected:b,startSelectionBox:m,updateSelectionBox:h,endSelectionBox:g,deleteSelected:y,duplicateSelected:k}}({onSelectionChange:(0,a.useCallback)(function(e){},[])}),k=function(e){var n,t,o=e.onPaste,r=(n=(0,a.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(n,t)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],l=r[1],c=(0,a.useCallback)(function(e){l(e)},[]),d=(0,a.useCallback)(function(){return i&&o&&o(i),i},[i,o]),s=(0,a.useCallback)(function(e){return c(e),e},[c]),u=(0,a.useCallback)(function(){return null!==i},[i]),p=(0,a.useCallback)(function(){l(null)},[]);return{copy:c,paste:d,cut:s,hasData:u,clear:p,clipboardData:i}}({onPaste:(0,a.useCallback)(function(e){if("elements"===e.type){var n=e.elements.map(function(n){return T(T({},n),{},{id:"element_".concat(m+e.elements.indexOf(n)),x:n.x+20,y:n.y+20})});u(function(e){return[].concat(R(e),R(n))}),h(function(e){return e+n.length}),y.selectAll(n.map(function(e){return e.id}))}},[m,y])}),C=function(e){var n=e.initialZoom,t=void 0===n?1:n,o=e.minZoom,r=void 0===o?.1:o,i=e.maxZoom,l=void 0===i?3:i,c=e.zoomStep,d=void 0===c?.1:c,s=z((0,a.useState)(t),2),u=s[0],p=s[1],f=z((0,a.useState)({x:0,y:0}),2),b=f[0],m=f[1],h=(0,a.useCallback)(function(){p(function(e){return Math.min(e+d,l)})},[l,d]),g=(0,a.useCallback)(function(){p(function(e){return Math.max(e-d,r)})},[r,d]),x=(0,a.useCallback)(function(e){var n=Math.max(r,Math.min(l,e));p(n)},[r,l]),y=(0,a.useCallback)(function(){p(t)},[t]),v=(0,a.useCallback)(function(e,n,t,o){var a=t/e,i=o/n,c=Math.min(a,i,l);p(Math.max(c,r))},[r,l]),w=(0,a.useCallback)(function(e,n,t){var o=Math.max(r,Math.min(l,u*t));m({x:e,y:n}),p(o)},[u,r,l]),k=(0,a.useCallback)(function(){return{transform:"scale(".concat(u,")"),transformOrigin:"".concat(b.x,"px ").concat(b.y,"px")}},[u,b]),C=(0,a.useCallback)(function(e,n){return{x:(e-b.x)/u,y:(n-b.y)/u}},[u,b]),S=(0,a.useCallback)(function(e,n){return{x:e*u+b.x,y:n*u+b.y}},[u,b]);return{zoom:u,zoomOrigin:b,zoomIn:h,zoomOut:g,setZoomLevel:x,resetZoom:y,zoomToFit:v,zoomToPoint:w,getTransformStyle:k,screenToCanvas:C,canvasToScreen:S}}({initialZoom:1,minZoom:.25,maxZoom:3}),E=function(){var e=j((0,a.useState)(null),2),n=e[0],t=e[1],o=j((0,a.useState)(!1),2),r=o[0],i=o[1],l=(0,a.useCallback)(function(e,n,o){var r=36*o.length,a=e,i=n;e+180>window.innerWidth&&(a=e-180),n+r>window.innerHeight&&(i=n-r),a=Math.max(0,Math.min(a,window.innerWidth-180)),i=Math.max(0,Math.min(i,window.innerHeight-r)),t({x:a,y:i,items:o})},[]),c=(0,a.useCallback)(function(){n&&(i(!0),setTimeout(function(){t(null),i(!1)},150))},[n]),d=(0,a.useCallback)(function(e){return c(),e},[c]);return(0,a.useEffect)(function(){var e=function(e){n&&!e.target.closest(".context-menu")&&c()},t=function(e){"Escape"===e.key&&n&&c()};return n&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),function(){document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[n,c]),{contextMenu:n,showContextMenu:l,hideContextMenu:c,handleContextMenuAction:d,isAnimating:r}}(),O=(0,a.useCallback)(function(e,n){u(function(t){return t.map(function(t){return t.id===e?T(T({},t),n):t})})},[]),A=p({onElementMove:(0,a.useCallback)(function(e,n){O(e,n)},[O]),onElementDrop:(0,a.useCallback)(function(e,n){O(e,n),g.addToHistory({elements:s.map(function(t){return t.id===e?T(T({},t),n):t}),nextId:m})},[O,g,s,m])});(0,a.useEffect)(function(){(s.length>0||0===g.historySize)&&g.addToHistory({elements:s,nextId:m})},[s,m,g]);var P=(0,a.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=function(e){var n={x:50,y:50,width:100,height:50,backgroundColor:"#ffffff",borderColor:"#dddddd",borderWidth:1,borderRadius:4,color:"#333333",fontSize:14,fontFamily:"Arial, sans-serif",padding:8};if(e.startsWith("woocommerce-"))switch(e){case"woocommerce-billing-address":case"woocommerce-shipping-address":n.width=250,n.height=120;break;case"woocommerce-products-table":n.width=500,n.height=200;break;case"woocommerce-invoice-number":case"woocommerce-order-number":case"woocommerce-quote-number":case"woocommerce-invoice-date":case"woocommerce-order-date":case"woocommerce-quote-date":case"woocommerce-quote-validity":n.width=180,n.height=50;break;case"woocommerce-customer-name":case"woocommerce-customer-email":case"woocommerce-payment-method":case"woocommerce-order-status":n.width=200,n.height=50;break;case"woocommerce-subtotal":case"woocommerce-discount":case"woocommerce-shipping":case"woocommerce-taxes":case"woocommerce-total":case"woocommerce-refund":case"woocommerce-fees":n.width=150,n.height=50;break;case"woocommerce-quote-notes":n.width=400,n.height=80}else switch(e){case"text":n.content="Texte";break;case"rectangle":n.backgroundColor="#e5e7eb";break;case"line":n.height=2,n.backgroundColor="#6b7280";break;case"layout-header":n.width=500,n.height=80,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1;break;case"layout-footer":n.width=500,n.height=60,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1;break;case"layout-sidebar":n.width=150,n.height=300,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1;break;case"layout-section":case"invoice-products-table":n.width=500,n.height=200,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1;break;case"layout-container":n.width=300,n.height=150,n.backgroundColor="transparent",n.borderColor="#cbd5e1",n.borderWidth=2,n.borderStyle="dashed";break;case"invoice-header":n.width=500,n.height=100,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.content="ENTREPRISE\n123 Rue de l'Entreprise\n75000 Paris\nTÃ©lÃ©phone: 01 23 45 67 89\nEmail: contact@entreprise.com",n.fontSize=12,n.fontWeight="normal";break;case"invoice-address-block":n.width=240,n.height=120,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1,n.borderRadius=4;break;case"invoice-info-block":n.width=300,n.height=80,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.borderRadius=4;break;case"product_table":n.width=500,n.height=200,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.showHeaders=!0,n.showBorders=!0,n.headers=["Produit","QtÃ©","Prix"],n.dataSource="order_items",n.columns={image:!0,name:!0,sku:!1,quantity:!0,price:!0,total:!0},n.showSubtotal=!1,n.showShipping=!0,n.showTaxes=!0,n.showDiscount=!1,n.showTotal=!1;break;case"customer_info":n.width=300,n.height=200,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.fields=["name","email","phone","address","company","vat"],n.layout="vertical",n.showLabels=!0,n.labelStyle="bold",n.spacing=8,n.fontSize=12,n.fontFamily="Arial, sans-serif",n.fontWeight="normal",n.fontStyle="normal",n.textDecoration="none";break;case"invoice-totals-block":n.width=200,n.height=150,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1,n.borderRadius=4;break;case"invoice-payment-terms":n.width=250,n.height=100,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.borderRadius=4,n.content="Conditions de paiement:\n- Paiement Ã  30 jours\n- PÃ©nalitÃ©s de retard: 1.5% par mois\n- Escompte: 2% Ã  10 jours",n.fontSize=10;break;case"invoice-legal-footer":n.width=500,n.height=60,n.backgroundColor="#f8fafc",n.borderColor="#e2e8f0",n.borderWidth=1,n.content="SARL au capital de 10 000â‚¬ - RCS Paris 123 456 789 - TVA FR 12 345 678 901 - IBAN: FR76 1234 5678 9012 3456 7890 123",n.fontSize=8;break;case"invoice-signature-block":n.width=200,n.height=80,n.backgroundColor="#ffffff",n.borderColor="#e2e8f0",n.borderWidth=1,n.borderRadius=4,n.content="Signature:\n\nDate: ____________________\n\nCachet de l'entreprise";break;case"layout-section-divider":n.width=500,n.height=2,n.backgroundColor="#e2e8f0";break;case"layout-spacer":n.width=500,n.height=20,n.backgroundColor="transparent";break;case"layout-two-column":case"layout-three-column":n.width=500,n.height=150,n.backgroundColor="transparent",n.borderColor="#cbd5e1",n.borderWidth=1,n.borderStyle="dashed";break;case"shape-rectangle":n.width=100,n.height=60,n.backgroundColor="#e5e7eb",n.borderRadius=0;break;case"shape-circle":n.width=60,n.height=60,n.backgroundColor="#e5e7eb",n.borderRadius=30;break;case"shape-line":n.width=100,n.height=2,n.backgroundColor="#6b7280";break;case"shape-arrow":n.width=80,n.height=20,n.backgroundColor="#374151";break;case"shape-triangle":n.width=60,n.height=52,n.backgroundColor="#e5e7eb";break;case"shape-star":n.width=60,n.height=60,n.backgroundColor="#fbbf24";break;case"divider":n.width=400,n.height=1,n.backgroundColor="#d1d5db";break;case"image":case"image-upload":n.width=150,n.height=100,n.backgroundColor="#f3f4f6",n.content="Image";break;case"logo":n.width=120,n.height=60,n.backgroundColor="#f3f4f6",n.content="Logo";break;case"barcode":n.width=120,n.height=40,n.backgroundColor="#ffffff",n.borderColor="#000000",n.borderWidth=1;break;case"qrcode":case"qrcode-dynamic":n.width=60,n.height=60,n.backgroundColor="#ffffff",n.borderColor="#000000",n.borderWidth=1;break;case"icon":n.width=40,n.height=40,n.backgroundColor="transparent",n.content="ðŸŽ¯";break;case"dynamic-text":n.content="{{variable}}";break;case"formula":n.content="{{prix * quantite}}";break;case"conditional-text":n.content='{{condition ? "Oui" : "Non"}}';break;case"counter":n.content="1";break;case"date-dynamic":n.content="{{date|format:Y-m-d}}";break;case"currency":n.content="{{montant|currency:EUR}}";break;case"table-dynamic":n.width=400,n.height=150,n.backgroundColor="#ffffff",n.borderColor="#e5e7eb",n.borderWidth=1;break;case"gradient-box":n.width=200,n.height=100,n.backgroundColor="linear-gradient(45deg, #667eea 0%, #764ba2 100%)";break;case"shadow-box":n.width=200,n.height=100,n.backgroundColor="#ffffff",n.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)";break;case"rounded-box":n.width=200,n.height=100,n.backgroundColor="#ffffff",n.borderRadius=12;break;case"border-box":n.width=200,n.height=100,n.backgroundColor="#ffffff",n.borderColor="#3b82f6",n.borderWidth=3;break;case"background-pattern":n.width=200,n.height=100,n.backgroundColor="#f8fafc",n.backgroundImage="repeating-linear-gradient(45deg, #e2e8f0, #e2e8f0 10px, #f1f5f9 10px, #f1f5f9 20px)";break;case"watermark":n.width=300,n.height=200,n.backgroundColor="transparent",n.content="CONFIDENTIEL",n.color="#9ca3af",n.fontSize=48,n.opacity=.1;break;case"progress-bar":n.width=200,n.height=20,n.backgroundColor="#e5e7eb",n.progressColor="#3b82f6",n.progressValue=75}return n}(e),o=T(T({id:"element_".concat(m),type:e},t),n);u(function(e){return[].concat(R(e),[o])}),h(function(e){return e+1}),y.selectElement(o.id)},[m,y]),D=(0,a.useCallback)(function(e){u(function(n){return n.filter(function(n){return n.id!==e})}),y.clearSelection()},[y]),I=(0,a.useCallback)(function(){var e=y.deleteSelected();u(function(n){return n.filter(function(n){return!e.includes(n.id)})}),y.clearSelection()},[y]),W=(0,a.useCallback)(function(e){var n=s.find(function(n){return n.id===e});if(n){var t=T(T({},n),{},{id:"element_".concat(m),x:n.x+20,y:n.y+20});u(function(e){return[].concat(R(e),[t])}),h(function(e){return e+1}),y.selectElement(t.id)}},[s,m,y]),N=(0,a.useCallback)(function(){var e=y.duplicateSelected(),n=[];e.forEach(function(e){var t=s.find(function(n){return n.id===e});if(t){var o=T(T({},t),{},{id:"element_".concat(m+n.length),x:t.x+20,y:t.y+20});n.push(o)}}),n.length>0&&(u(function(e){return[].concat(R(e),n)}),h(function(e){return e+n.length}),y.selectAll(n.map(function(e){return e.id})))},[s,m,y]),B=(0,a.useCallback)(function(){var e=y.selectedElements,n=s.filter(function(n){return e.includes(n.id)});n.length>0&&k.copy({type:"elements",elements:n})},[s,y,k]),_=(0,a.useCallback)(function(){k.paste()},[k]),H=(0,a.useCallback)(function(){var e=g.undo();e&&(u(e.elements),h(e.nextId),y.clearSelection())},[g,y]),F=(0,a.useCallback)(function(){var e=g.redo();e&&(u(e.elements),h(e.nextId),y.clearSelection())},[g,y]),L=(0,a.useCallback)(function(){var e={elements:s,canvasWidth:r,canvasHeight:l,version:"1.0"};return c&&c(e),e},[s,r,l,c]),U=(0,a.useCallback)(function(e){e.elements&&(u(e.elements),h(e.nextId||Math.max.apply(Math,R(e.elements.map(function(e){return parseInt(e.id.split("_")[1])})||[0]))+1),y.clearSelection(),g.clearHistory())},[y,g]),q=(0,a.useCallback)(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];t?o.push({label:"Dupliquer",action:function(){return W(t)}},{label:"Supprimer",action:function(){return D(t)}},{type:"separator"},{label:"Copier",action:B},{label:"Coller",action:_,disabled:!k.hasData()}):y.selectedElements.length>0?o.push({label:"Dupliquer",action:N},{label:"Supprimer",action:I},{type:"separator"},{label:"Copier",action:B},{label:"Coller",action:_,disabled:!k.hasData()}):o.push({label:"Coller",action:_,disabled:!k.hasData()}),E.showContextMenu(e,n,o)},[y,E,W,D,B,_,k,N,I]);return(0,a.useMemo)(function(){return{elements:s,canvasWidth:r,canvasHeight:l,selection:y,zoom:C,contextMenu:E,dragAndDrop:A,addElement:P,updateElement:O,deleteElement:D,deleteSelectedElements:I,duplicateElement:W,duplicateSelectedElements:N,copySelectedElements:B,pasteElements:_,undo:H,redo:F,canUndo:g.canUndo(),canRedo:g.canRedo(),saveTemplate:L,loadTemplate:U,showContextMenu:q,getElementById:(0,a.useCallback)(function(e){return s.find(function(n){return n.id===e})},[s])}},[s,r,l,y,C,E,A,P,O,D,I,W,N,B,_,H,F,g,q])};function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){F(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function F(e,n,t){return(n=function(e){var n=function(e){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=B(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var U=function(){var e,n,t=(e=(0,a.useState)({resizeHandleSize:12,resizeHandleColor:"#007cba",resizeHandleBorderColor:"#ffffff",selectionBorderWidth:2,selectionBorderColor:"var(--primary-color)",selectionShadowOpacity:.1,resizeZoneSize:16,resizeZoneOpacity:.1,showResizeHandles:!0,showResizeZones:!0,selectionAnimation:!0}),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return L(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=t[0],r=t[1];return(0,a.useEffect)(function(){var e=window.pdfBuilderCanvasSettings?window.pdfBuilderCanvasSettings:null;if(e)r(function(n){return H(H({},n),{},{resizeHandleSize:e.canvas_handle_size||n.resizeHandleSize,resizeHandleColor:e.canvas_handle_color||n.resizeHandleColor,resizeHandleBorderColor:e.canvas_handle_hover_color||n.resizeHandleBorderColor,selectionBorderWidth:e.canvas_border_width||n.selectionBorderWidth,selectionBorderColor:e.canvas_border_color||n.selectionBorderColor,showResizeHandles:void 0!==e.canvas_resize_handles_enabled?e.canvas_resize_handles_enabled:n.showResizeHandles,showResizeZones:void 0!==e.canvas_element_borders_enabled?e.canvas_element_borders_enabled:n.showResizeZones})});else{var n=localStorage.getItem("pdf-builder-global-settings");if(n)try{var t=JSON.parse(n);r(function(e){return H(H({},e),t)})}catch(e){console.warn("Erreur lors du chargement des paramÃ¨tres globaux:",e)}}},[]),(0,a.useEffect)(function(){var e=document.documentElement;e.style.setProperty("--resize-handle-size","".concat(o.resizeHandleSize,"px")),e.style.setProperty("--resize-handle-color",o.resizeHandleColor),e.style.setProperty("--resize-handle-border-color",o.resizeHandleBorderColor),e.style.setProperty("--selection-border-width","".concat(o.selectionBorderWidth,"px")),e.style.setProperty("--selection-border-color",o.selectionBorderColor),e.style.setProperty("--selection-shadow-opacity",o.selectionShadowOpacity),e.style.setProperty("--resize-zone-size","".concat(o.resizeZoneSize,"px")),e.style.setProperty("--resize-zone-opacity",o.resizeZoneOpacity),e.style.setProperty("--show-resize-handles",o.showResizeHandles?"block":"none"),e.style.setProperty("--show-resize-zones",o.showResizeZones?"auto":"none"),e.style.setProperty("--selection-animation",o.selectionAnimation?"all 0.2s ease":"none")},[o]),{settings:o,updateSettings:function(e){r(function(n){var t=H(H({},n),e);return localStorage.setItem("pdf-builder-global-settings",JSON.stringify(t)),t})},resetToDefaults:function(){r({resizeHandleSize:12,resizeHandleColor:"#007cba",resizeHandleBorderColor:"#ffffff",selectionBorderWidth:2,selectionBorderColor:"var(--primary-color)",selectionShadowOpacity:.1,resizeZoneSize:16,resizeZoneOpacity:.1,showResizeHandles:!0,showResizeZones:!0,selectionAnimation:!0})}}};function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach(function(n){G(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function G(e,n,t){return(n=function(e){var n=function(e){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=q(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return $(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var V=i().lazy(function(){return r.e(929).then(r.bind(r,929))}),K=i().lazy(function(){return r.e(690).then(r.bind(r,690))}),J=i().lazy(function(){return r.e(702).then(r.bind(r,702))}),Q=i().lazy(function(){return r.e(979).then(r.bind(r,979))}),ee=i().lazy(function(){return r.e(137).then(r.bind(r,137))}),ne=function(e){var n,t=e.options,o=e.onSave,r=e.onPreview,l=X((0,a.useState)("select"),2),c=l[0],s=l[1],u=X((0,a.useState)(!0),2),b=u[0],m=u[1],h=X((0,a.useState)(!1),2),g=h[0],x=h[1],y=X((0,a.useState)(!1),2),v=y[0],w=y[1],k=(U(),N({initialElements:t.initialElements||[],canvasWidth:t.width||595,canvasHeight:t.height||842,onSave:o,onPreview:r})),C=(0,a.useRef)(null),S=(0,a.useRef)(null),z=p({onElementMove:function(e,n){k.updateElement(e,n)},onElementDrop:function(e,n){k.updateElement(e,n)},canvasRect:null===(n=S.current)||void 0===n?void 0:n.getBoundingClientRect(),zoom:k.zoom.zoom,canvasWidth:k.canvasWidth,canvasHeight:k.canvasHeight});!function(e){var n=e.onDelete,t=e.onCopy,o=e.onPaste,r=e.onUndo,i=e.onRedo,l=e.onSave,c=e.onZoomIn,d=e.onZoomOut;(0,a.useEffect)(function(){var e=function(e){if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&"true"!==e.target.contentEditable){var a=e.ctrlKey||e.metaKey;switch(e.key.toLowerCase()){case"delete":case"backspace":n&&(e.preventDefault(),n());break;case"c":a&&t&&(e.preventDefault(),t());break;case"v":a&&o&&(e.preventDefault(),o());break;case"z":a&&(e.preventDefault(),e.shiftKey&&i?i():r&&r());break;case"y":a&&i&&(e.preventDefault(),i());break;case"s":a&&l&&(e.preventDefault(),l());break;case"+":case"=":a&&c&&(e.preventDefault(),c());break;case"-":a&&d&&(e.preventDefault(),d())}}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[n,t,o,r,i,l,c,d])}({onDelete:k.deleteSelectedElements,onCopy:k.copySelectedElements,onPaste:k.pasteElements,onUndo:k.undo,onRedo:k.redo,onSave:k.saveTemplate,onZoomIn:k.zoom.zoomIn,onZoomOut:k.zoom.zoomOut});var E=(0,a.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k.addElement(e,n),s("select")},[k]),j=(0,a.useCallback)(function(e){k.selection.selectElement(e)},[k.selection]),O=(0,a.useCallback)(function(e){if(e.target===e.currentTarget){if(c.startsWith("add-")){var n=e.currentTarget.getBoundingClientRect(),t=e.clientX-n.left,o=e.clientY-n.top,r=t/k.zoom.zoom,a=o/k.zoom.zoom,i="text",l={};switch(c){case"add-text":i="text";break;case"add-text-title":i="text",l={fontSize:24,fontWeight:"bold"};break;case"add-text-subtitle":i="text",l={fontSize:18,fontWeight:"bold"};break;case"add-rectangle":i="rectangle";break;case"add-circle":i="shape-circle";break;case"add-line":i="line";break;case"add-arrow":i="shape-arrow";break;case"add-triangle":i="shape-triangle";break;case"add-star":i="shape-star";break;case"add-divider":i="divider";break;case"add-image":i="image";break;default:c.startsWith("add-")&&(i=c.replace("add-",""))}return k.addElement(i,Y({x:Math.max(0,r-50),y:Math.max(0,a-25)},l)),void s("select")}k.selection.clearSelection()}},[k,c]),A=(0,a.useCallback)(function(e,n,t){var o=k.getElementById(e);if(o){var r={};if(n.includes(".")){var a=function(e,n,t){for(var o=n.split("."),r=o.pop(),a=Y({},e),i=a,l=0;l<o.length-1;l++){var c=o[l];i[c]&&"object"===q(i[c])?i[c]=Y({},i[c]):i[c]={},i=i[c]}var d=o[o.length-1];return d?(i[d]&&"object"===q(i[d])?i[d]=Y({},i[d]):i[d]={},i[d][r]=t):i[r]=t,a}(o,n,t);Object.assign(r,a)}else r[n]=t;k.updateElement(e,r)}},[k]),R=(0,a.useCallback)(function(e){e.forEach(function(e){var n=e.elementId,t=e.property,o=e.value;k.updateElement(n,G({},t,o))})},[k]),P=(0,a.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault();var t=[];n?k.getElementById(n)&&t.push({label:"Copier",action:function(){return k.copySelectedElements()}},{label:"Dupliquer",action:function(){return k.duplicateElement(n)}},{type:"separator"},{label:"Supprimer",action:function(){return k.deleteElement(n)}}):(k.selection.selectedElements.length>0&&t.push({label:"Copier",action:function(){return k.copySelectedElements()}},{label:"Dupliquer",action:function(){return k.duplicateSelectedElements()}},{type:"separator"},{label:"Supprimer",action:function(){return k.deleteSelectedElements()}}),t.push({type:"separator"},{label:"Coller",action:function(){return k.pasteElements()}},{type:"separator"},{label:"Tout sÃ©lectionner",action:function(){return k.selectAll()}},{label:"DÃ©sÃ©lectionner",action:function(){return k.selection.clearSelection()}})),k.showContextMenu(e.clientX,e.clientY,t)},[k]),T=(0,a.useCallback)(function(e){"function"==typeof e&&e()},[]),D=(0,a.useCallback)(function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},[]),M=(0,a.useCallback)(function(e){e.preventDefault();try{var n=JSON.parse(e.dataTransfer.getData("application/json"));if("new-element"===n.type){var t=e.currentTarget.getBoundingClientRect(),o=e.clientX-t.left,r=e.clientY-t.top,a=o/k.zoom.zoom,i=r/k.zoom.zoom;k.addElement(n.elementType,Y({x:Math.max(0,a-50),y:Math.max(0,i-25)},n.defaultProps))}}catch(e){console.error("Erreur lors du drop:",e)}},[k]);return i().createElement("div",{className:"pdf-canvas-editor",ref:C},i().createElement("div",{className:"editor-header"},i().createElement("div",{className:"editor-title"},i().createElement("h2",null,"Ã‰diteur PDF - ",t.isNew?"Nouveau Template":"Template #".concat(t.templateId))),i().createElement("div",{className:"editor-actions"},i().createElement("button",{className:"btn btn-secondary",onClick:function(){x(!0)}},"ðŸ‘ï¸ AperÃ§u"),i().createElement("button",{className:"btn btn-primary",onClick:k.saveTemplate},"ðŸ’¾ Sauvegarder"))),i().createElement(f,{selectedTool:c,onToolSelect:s,zoom:k.zoom.zoom,onZoomChange:k.zoom.setZoomLevel,showGrid:b,onShowGridChange:m,snapToGrid:!0,onSnapToGridChange:function(){},onUndo:k.undo,onRedo:k.redo,canUndo:k.canUndo,canRedo:k.canRedo}),i().createElement("div",{className:"editor-workspace"},!g&&i().createElement("div",{className:"editor-sidebar left-sidebar"},i().createElement(i().Suspense,{fallback:i().createElement("div",{className:"loading"},"Chargement...")},i().createElement(Q,{onAddElement:E,selectedTool:c,onToolSelect:s}))),i().createElement("div",{className:"editor-main"},i().createElement("div",{className:"canvas-container",onClick:O,onContextMenu:P,onDragOver:D,onDrop:M},i().createElement("div",{className:"canvas-zoom-wrapper",style:{transform:"scale(".concat(k.zoom.zoom,")"),transformOrigin:"center"}},i().createElement("div",{className:"canvas",ref:S},i().createElement("div",{className:"canvas"},b&&i().createElement("div",{className:"canvas-grid",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"\n                        linear-gradient(to right, #f1f5f9 1px, transparent 1px),\n                        linear-gradient(to bottom, #f1f5f9 1px, transparent 1px)\n                      ",backgroundSize:"10px 10px",pointerEvents:"none"}}),k.elements.filter(function(e){return!e.type.startsWith("woocommerce-")}).map(function(e){return i().createElement(d.H,{key:e.id,element:e,isSelected:k.selection.selectedElements.includes(e.id),zoom:1,snapToGrid:!0,gridSize:10,canvasWidth:k.canvasWidth,canvasHeight:k.canvasHeight,onSelect:function(){return j(e.id)},onUpdate:function(n){return k.updateElement(e.id,n)},onRemove:function(){return k.deleteElement(e.id)},onContextMenu:P,dragAndDrop:z})}),k.elements.filter(function(e){return e.type.startsWith("woocommerce-")}).map(function(e){return i().createElement(i().Suspense,{key:e.id,fallback:null},i().createElement(J,{element:e,isSelected:k.selection.selectedElements.includes(e.id),onSelect:j,onUpdate:k.updateElement,dragAndDrop:z,zoom:1,canvasWidth:k.canvasWidth,canvasHeight:k.canvasHeight}))})))))),!g&&i().createElement("div",{className:"editor-sidebar right-sidebar ".concat(v?"collapsed":"")},!v&&i().createElement(i().Suspense,{fallback:i().createElement("div",{className:"loading"},"Chargement...")},i().createElement(ee,{selectedElements:k.selection.selectedElements,elements:k.elements,onPropertyChange:A,onBatchUpdate:R})))),!g&&i().createElement("button",{className:"sidebar-toggle-fixed",onClick:function(){return w(!v)},title:v?"Agrandir le panneau":"RÃ©duire le panneau",style:{position:"fixed",top:"50%",right:v?"70px":"430px",transform:"translateY(-50%)",zIndex:999999}},v?"â–¶":"â—€"),k.contextMenu.contextMenu&&i().createElement(i().Suspense,{fallback:null},i().createElement(V,{menu:k.contextMenu.contextMenu,onAction:T,isAnimating:k.contextMenu.isAnimating||!1})),i().createElement("div",{className:"editor-status"},i().createElement("span",null,"Ã‰lÃ©ments: ",k.elements.length),i().createElement("span",null,"|"),i().createElement("span",null,"Zoom: ",Math.round(100*k.zoom.zoom),"%"),i().createElement("span",null,"|"),i().createElement("span",null,"Outil: ",c),k.selection.selectedElements.length>0&&i().createElement(i().Fragment,null,i().createElement("span",null,"|"),i().createElement("span",null,"Ã‰lÃ©ments sÃ©lectionnÃ©s: ",k.selection.selectedElements.length))),i().createElement(i().Suspense,{fallback:null},i().createElement(K,{isOpen:g,onClose:function(){x(!1)},elements:k.elements,canvasWidth:k.canvasWidth,canvasHeight:k.canvasHeight})))},te=r(72),oe=r.n(te),re=r(825),ae=r.n(re),ie=r(659),le=r.n(ie),ce=r(56),de=r.n(ce),se=r(540),ue=r.n(se),pe=r(113),fe=r.n(pe),be=r(293),me={};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function xe(e,n,t){return(n=ve(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ye(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ve(o.key),o)}}function ve(e){var n=function(e){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=he(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(n)?n:n+""}me.styleTagTransform=fe(),me.setAttributes=de(),me.insert=le().bind(null,"head"),me.domAPI=ae(),me.insertStyleElement=ue(),oe()(be.A,me),be.A&&be.A.locals&&be.A.locals;var we=function(){return e=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="2.0.0",this.editors=new Map},n=[{key:"init",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=document.getElementById(e);if(o){var r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({templateId:null,isNew:!0,width:595,height:842,zoom:1,gridSize:10,snapToGrid:!0},t),a=i().createElement(ne,{options:r,onSave:function(e){return n.handleSave(e)},onPreview:function(e){return n.handlePreview(e)}});c().render(a,o),this.editors.set(e,{container:o,options:r})}else console.error("Container not found:",e)}},{key:"handleSave",value:function(e){}},{key:"handlePreview",value:function(e){}},{key:"destroy",value:function(e){var n=this.editors.get(e);n&&(c().unmountComponentAtNode(n.container),this.editors.delete(e))}},{key:"getData",value:function(e){return null}}],n&&ye(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}(),ke=new we;"undefined"!=typeof window&&(window.PDFBuilderPro=ke,window.pdfBuilderPro=ke)})();