"use strict";(self.webpackChunkwp_pdf_builder_pro=self.webpackChunkwp_pdf_builder_pro||[]).push([[690,702],{690:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(540),r=o(705),i=o(702);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}const c=function(e){var t=e.isOpen,o=e.onClose,c=e.elements,s=void 0===c?[]:c,l=e.canvasWidth,d=void 0===l?595:l,h=e.canvasHeight,m=void 0===h?842:h,u=e.zoom,p=void 0===u?1:u;return t&&t?n.createElement("div",{className:"preview-modal-overlay",onClick:o},n.createElement("div",{className:"preview-modal-content",onClick:function(e){return e.stopPropagation()}},n.createElement("div",{className:"preview-modal-header"},n.createElement("h3",null,"ðŸ“„ AperÃ§u PDF - PDF Builder Pro"),n.createElement("button",{className:"preview-modal-close",onClick:o},"Ã—")),n.createElement("div",{className:"preview-modal-body"},n.createElement("div",{className:"preview-content"},n.createElement("div",{className:"preview-canvas",style:{width:d,height:m,margin:"0 auto",border:"1px solid #e2e8f0",background:"white",position:"relative",overflow:"hidden",transform:"scale(".concat(p,")"),transformOrigin:"top center"}},s.filter(function(e){return!e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(r.H,{key:e.id,element:e,isSelected:!1,zoom:1,snapToGrid:!1,gridSize:10,canvasWidth:d,canvasHeight:m,onSelect:function(){},onUpdate:function(){},onRemove:function(){},onContextMenu:function(){},dragAndDrop:!1})}),s.filter(function(e){return e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(i.default,{key:e.id,element:e,isSelected:!1,onSelect:function(){},onUpdate:function(){},dragAndDrop:!1,zoom:1,canvasWidth:d,canvasHeight:m})})))),n.createElement("div",{className:"preview-modal-footer"},n.createElement("button",{className:"btn btn-secondary",onClick:o},"âŒ Fermer"),n.createElement("button",{className:"btn btn-primary",onClick:function(){var e=window.open("","_blank");if(e){var t="\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Impression PDF</title>\n          <style>\n            body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n            .print-content {\n              width: ".concat(d,"px;\n              height: ").concat(m,'px;\n              margin: 0 auto;\n              background: white;\n              position: relative;\n              border: 1px solid #e2e8f0;\n            }\n            .canvas-element {\n              position: absolute;\n              box-sizing: border-box;\n            }\n            .canvas-element.selected {\n              outline: 2px solid #3b82f6;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="print-content">\n            ').concat(s.map(function(e){var t={left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),fontSize:"".concat(e.fontSize||14,"px"),color:e.color||"#333333",backgroundColor:e.backgroundColor||"transparent",border:e.borderWidth?"".concat(e.borderWidth,"px solid ").concat(e.borderColor||"#e2e8f0"):"none",fontWeight:e.fontWeight||"normal",textAlign:e.textAlign||"left",padding:"4px",overflow:"hidden"},o=e.text||e.content||"";return"image"===e.type&&e.src&&(o='<img src="'.concat(e.src,'" style="width: 100%; height: 100%; object-fit: cover;" alt="Image" />')),'<div class="canvas-element" style="'.concat(Object.entries(t).map(function(e){var t,o,n=(o=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i,a,c=[],s=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;s=!1}else for(;!(s=(n=i.call(o)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(l)throw r}}return c}}(t,o)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],i=n[1];return"".concat(r.replace(/([A-Z])/g,"-$1").toLowerCase(),":").concat(i)}).join(";"),'">').concat(o,"</div>")}).join(""),"\n          </div>\n        </body>\n        </html>\n      ");e.document.write(t),e.document.close(),e.print()}}},"ðŸ–¨ï¸ Imprimer")))):null}},702:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c,useWooCommerceElements:()=>a});var n=o(540),r=o(630),i=function(e){return{"woocommerce-invoice-number":"NumÃ©ro Facture","woocommerce-invoice-date":"Date Facture","woocommerce-order-number":"NÂ° Commande","woocommerce-order-date":"Date Commande","woocommerce-billing-address":"Adresse Facturation","woocommerce-shipping-address":"Adresse Livraison","woocommerce-customer-name":"Nom Client","woocommerce-customer-email":"Email Client","woocommerce-payment-method":"Paiement","woocommerce-order-status":"Statut","woocommerce-products-table":"Tableau Produits","woocommerce-products-simple":"Liste Produits","woocommerce-subtotal":"Sous-total","woocommerce-discount":"Remise","woocommerce-shipping":"Livraison","woocommerce-taxes":"Taxes","woocommerce-total":"Total","woocommerce-refund":"Remboursement","woocommerce-fees":"Frais","woocommerce-quote-number":"NÂ° Devis","woocommerce-quote-date":"Date Devis","woocommerce-quote-validity":"ValiditÃ©","woocommerce-quote-notes":"Notes Devis"}[e]||"Ã‰lÃ©ment WC"},a=function(){return{getElementDefaults:function(e){var t={width:200,height:60,fontSize:14,fontFamily:"Arial, sans-serif",color:"#333333",backgroundColor:"#ffffff",borderColor:"#dddddd",borderWidth:1,borderRadius:4,padding:8};switch(e){case"woocommerce-billing-address":case"woocommerce-shipping-address":t.height=100;break;case"woocommerce-products-table":t.width=400,t.height=150,t.columns={image:!0,name:!0,sku:!0,quantity:!0,price:!0,total:!0};break;case"woocommerce-products-simple":t.width=350,t.height=120;break;case"woocommerce-invoice-number":case"woocommerce-order-number":case"woocommerce-quote-number":t.width=150,t.height=40}return t},validateElement:function(e){return e&&e.type&&e.id},getElementLabel:i}};const c=function(e){var t=e.element,o=e.isSelected,a=e.onSelect,c=e.onUpdate,s=e.dragAndDrop,l=e.zoom,d=void 0===l?1:l,h=e.canvasWidth,m=e.canvasHeight,u=(0,n.useRef)(null),p=(0,r.s)({onElementResize:function(e){c({x:e.x,y:e.y,width:e.width,height:e.height})},snapToGrid:!0,gridSize:10,canvasWidth:h,canvasHeight:m}),w={position:"absolute",left:t.x*d,top:t.y*d,width:t.width*d,height:t.height*d,cursor:o?"move":"pointer",userSelect:"none",border:o?"1px solid #007cba":"1px solid #ddd",backgroundColor:t.backgroundColor||"#ffffff",color:t.color||"#333333",fontSize:(t.fontSize||14)*d,fontFamily:t.fontFamily||"Arial, sans-serif",padding:(t.padding||8)*d,borderRadius:(t.borderRadius||4)*d,boxSizing:"border-box",overflow:"hidden"};return n.createElement(n.Fragment,null,n.createElement("div",{ref:u,style:w,onClick:function(e){e.stopPropagation(),o||a(t.id)},onMouseDown:function(e){e.stopPropagation();var o=u.current.closest(".canvas-zoom-wrapper");if(o){for(var n=o.getBoundingClientRect(),r=(u.current.getBoundingClientRect(),(e.clientX-n.left)/d),i=(e.clientY-n.top)/d,a=8/d,c=0,l=[{name:"nw",x:t.x,y:t.y},{name:"ne",x:t.x+t.width,y:t.y},{name:"sw",x:t.x,y:t.y+t.height},{name:"se",x:t.x+t.width,y:t.y+t.height},{name:"n",x:t.x+t.width/2,y:t.y},{name:"s",x:t.x+t.width/2,y:t.y+t.height},{name:"w",x:t.x,y:t.y+t.height/2},{name:"e",x:t.x+t.width,y:t.y+t.height/2}];c<l.length;c++){var h=l[c];if(r>=h.x-a/2&&r<=h.x+a/2&&i>=h.y-a/2&&i<=h.y+a/2)return void p.handleResizeStart(e,h.name,{x:t.x,y:t.y,width:t.width,height:t.height},n,d)}if(s&&s.handleMouseDown){var m=u.current.closest(".canvas-zoom-wrapper").getBoundingClientRect();s.handleMouseDown(e,t.id,{left:t.x,top:t.y,width:t.width,height:t.height},m,d)}}}},n.createElement("div",{style:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"}},i(t.type)),n.createElement("div",{style:{whiteSpace:"pre-line",lineHeight:"1.4",color:"#666"}},"[Contenu dynamique WooCommerce]")),o&&n.createElement(n.Fragment,null,n.createElement("div",{className:"resize-handle nw",style:{position:"absolute",left:t.x*d-6,top:t.y*d-6,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"nw-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"nw",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle ne",style:{position:"absolute",left:(t.x+t.width)*d-4,top:t.y*d-6,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"ne-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"ne",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle sw",style:{position:"absolute",left:t.x*d-6,top:(t.y+t.height)*d-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"sw-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"sw",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle se",style:{position:"absolute",left:(t.x+t.width)*d-4,top:(t.y+t.height)*d-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"se-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"se",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle n",style:{position:"absolute",left:(t.x+t.width/2)*d-4,top:t.y*d-6,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"n-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"n",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle s",style:{position:"absolute",left:(t.x+t.width/2)*d-4,top:(t.y+t.height)*d-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"s-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"s",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle w",style:{position:"absolute",left:t.x*d-6,top:(t.y+t.height/2)*d-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"w-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"w",{x:t.x,y:t.y,width:t.width,height:t.height})}}),n.createElement("div",{className:"resize-handle e",style:{position:"absolute",left:(t.x+t.width)*d-4,top:(t.y+t.height/2)*d-4,width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",cursor:"e-resize",pointerEvents:"auto"},onMouseDown:function(e){return p.handleResizeStart(e,"e",{x:t.x,y:t.y,width:t.width,height:t.height})}})))}}}]);