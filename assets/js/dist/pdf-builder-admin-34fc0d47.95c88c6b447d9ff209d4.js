/*! For license information please see pdf-builder-admin-34fc0d47.95c88c6b447d9ff209d4.js.LICENSE.txt */
"use strict";(self.webpackChunkPDFBuilderPro=self.webpackChunkPDFBuilderPro||[]).push([[447],{222:(e,t,a)=>{a.d(t,{O:()=>ae});var n=a(540),r=a(266),o=a(491);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,l,c=[],i=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=o.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var i=function(e){var t=e.selectedTool,a=e.onToolSelect,r=e.zoom,o=e.onZoomChange,c=e.showGrid,i=e.onShowGridChange,s=e.snapToGrid,u=e.onSnapToGridChange,d=e.onUndo,m=e.onRedo,p=e.canUndo,f=e.canRedo,b=l(n.useState("home"),2),g=b[0],h=b[1];return n.createElement("div",{className:"toolbar ribbon-toolbar"},n.createElement("div",{className:"toolbar-tabs"},[{id:"home",label:"Accueil",icon:"üè†"},{id:"insert",label:"Insertion",icon:"‚ûï"},{id:"view",label:"Affichage",icon:"üëÅÔ∏è"}].map(function(e){return n.createElement("button",{key:e.id,className:"tab-button ".concat(g===e.id?"active":""),onClick:function(){return h(e.id)}},n.createElement("span",{className:"tab-icon"},e.icon),n.createElement("span",{className:"tab-label"},e.label))})),n.createElement("div",{className:"toolbar-content"},"home"===g&&n.createElement("div",{className:"tab-content"},n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"Presse-papiers"),n.createElement("div",{className:"group-buttons"},n.createElement("button",{className:"edit-button",onClick:d,disabled:!p,title:"Annuler (Ctrl+Z)"},n.createElement("div",{className:"button-content"},n.createElement("span",{className:"button-icon"},"‚Ü∂"),n.createElement("span",{className:"button-text"},"Annuler"))),n.createElement("button",{className:"edit-button",onClick:m,disabled:!f,title:"R√©tablir (Ctrl+Y)"},n.createElement("div",{className:"button-content"},n.createElement("span",{className:"button-icon"},"‚Ü∑"),n.createElement("span",{className:"button-text"},"R√©tablir"))))),n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"Outils"),n.createElement("div",{className:"group-buttons"},[{id:"select",label:"S√©lection (V)",icon:"üëÜ",shortcut:"V"},{id:"add-text",label:"Texte Simple (T)",icon:"üìù",shortcut:"T"},{id:"add-text-title",label:"Titre (H)",icon:"üìÑ",shortcut:"H"},{id:"add-text-subtitle",label:"Sous-titre (S)",icon:"üìã",shortcut:"S"}].map(function(e){return n.createElement("button",{key:e.id,className:"tool-button ".concat(t===e.id?"active":""),onClick:function(){return a(e.id)},title:e.label},n.createElement("div",{className:"tool-content"},n.createElement("span",{className:"tool-icon"},e.icon),n.createElement("span",{className:"tool-label"},e.shortcut)))}))),n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"Formes"),n.createElement("div",{className:"group-buttons shapes-grid"},[{id:"add-rectangle",label:"Rectangle (R)",icon:"‚ñ≠",shortcut:"R"},{id:"add-circle",label:"Cercle (C)",icon:"‚óã",shortcut:"C"},{id:"add-line",label:"Ligne (L)",icon:"‚îÅ",shortcut:"L"},{id:"add-arrow",label:"Fl√®che (A)",icon:"‚û§",shortcut:"A"},{id:"add-triangle",label:"Triangle (3)",icon:"‚ñ≥",shortcut:"3"},{id:"add-star",label:"√âtoile (5)",icon:"‚≠ê",shortcut:"5"}].map(function(e){return n.createElement("button",{key:e.id,className:"tool-button ".concat(t===e.id?"active":""),onClick:function(){return a(e.id)},title:e.label},n.createElement("div",{className:"tool-content"},n.createElement("span",{className:"tool-icon"},e.icon),n.createElement("span",{className:"tool-label"},e.shortcut)))})))),"insert"===g&&n.createElement("div",{className:"tab-content"},n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"√âl√©ments"),n.createElement("div",{className:"group-buttons"},[{id:"add-divider",label:"S√©parateur (D)",icon:"‚éØ",shortcut:"D"},{id:"add-image",label:"Image (I)",icon:"üñºÔ∏è",shortcut:"I"}].map(function(e){return n.createElement("button",{key:e.id,className:"tool-button ".concat(t===e.id?"active":""),onClick:function(){return a(e.id)},title:e.label},n.createElement("div",{className:"tool-content"},n.createElement("span",{className:"tool-icon"},e.icon),n.createElement("span",{className:"tool-label"},e.shortcut)))})))),"view"===g&&n.createElement("div",{className:"tab-content"},n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"Zoom"),n.createElement("div",{className:"group-buttons"},n.createElement("div",{className:"zoom-controls"},n.createElement("button",{className:"zoom-button",onClick:function(){return o(Math.max(.1,r-.1))},title:"Zoom arri√®re (Ctrl+-)"},n.createElement("span",{className:"button-icon"},"üîç"),n.createElement("span",{className:"button-text"},"-")),n.createElement("span",{className:"zoom-value"},Math.round(100*r),"%"),n.createElement("button",{className:"zoom-button",onClick:function(){return o(Math.min(3,r+.1))},title:"Zoom avant (Ctrl+=)"},n.createElement("span",{className:"button-icon"},"üîç"),n.createElement("span",{className:"button-text"},"+"))))),n.createElement("div",{className:"toolbar-group"},n.createElement("h5",null,"Affichage"),n.createElement("div",{className:"group-buttons"},n.createElement("div",{className:"display-options"},n.createElement("label",{className:"toggle-label"},n.createElement("input",{type:"checkbox",checked:c,onChange:function(e){return i(e.target.checked)}}),n.createElement("span",{className:"toggle-text"},"Grille"),n.createElement("span",{className:"toggle-shortcut"},"(G)")),n.createElement("label",{className:"toggle-label"},n.createElement("input",{type:"checkbox",checked:s,onChange:function(e){return u(e.target.checked)}}),n.createElement("span",{className:"toggle-text"},"Aimantation"),n.createElement("span",{className:"toggle-shortcut"},"(M)"))))))))},s=a(632),u=a(874),d=a(535),m=a(795),p=a(22),f=a(41),b=function(e){return{"woocommerce-invoice-number":"Num√©ro Facture","woocommerce-invoice-date":"Date Facture","woocommerce-order-number":"N¬∞ Commande","woocommerce-order-date":"Date Commande","woocommerce-billing-address":"Adresse Facturation","woocommerce-shipping-address":"Adresse Livraison","woocommerce-customer-name":"Nom Client","woocommerce-customer-email":"Email Client","woocommerce-payment-method":"Paiement","woocommerce-order-status":"Statut","woocommerce-products-table":"Tableau Produits","woocommerce-products-simple":"Liste Produits","woocommerce-subtotal":"Sous-total","woocommerce-discount":"Remise","woocommerce-shipping":"Livraison","woocommerce-taxes":"Taxes","woocommerce-total":"Total","woocommerce-refund":"Remboursement","woocommerce-fees":"Frais","woocommerce-quote-number":"N¬∞ Devis","woocommerce-quote-date":"Date Devis","woocommerce-quote-validity":"Validit√©","woocommerce-quote-notes":"Notes Devis"}[e]||"√âl√©ment WC"};const g=function(e){var t=e.element,a=e.isSelected,r=e.onSelect,o=e.onUpdate,l=e.dragAndDrop,c=e.zoom,i=void 0===c?1:c,s=e.canvasWidth,u=e.canvasHeight,d=e.orderData,m=void 0===d?{}:d,p=e.onContextMenu,g=e.snapToGrid,h=void 0===g||g,v=e.gridSize,y=void 0===v?10:v,E=(0,n.useRef)(null),R=(0,f.s)({onElementResize:function(e){o({x:e.x,y:e.y,width:e.width,height:e.height})},snapToGrid:h,gridSize:y,canvasWidth:s,canvasHeight:u}),w={position:"absolute",left:t.x*i,top:t.y*i,width:t.width*i,height:t.height*i,cursor:a?"move":"pointer",userSelect:"none",border:a?"2px solid #007cba":t.borderWidth>0?"".concat(t.borderWidth||1,"px ").concat(t.borderStyle||"solid"," ").concat(t.borderColor||"transparent"):"none",backgroundColor:t.backgroundColor||"transparent",color:t.color||"#333333",fontSize:(t.fontSize||14)*i,fontFamily:t.fontFamily||"Arial, sans-serif",padding:(t.padding||8)*i,borderRadius:(t.borderRadius||4)*i,boxSizing:"border-box",overflow:"hidden","--element-border-width":a?"2px":t.borderWidth>0?"".concat(t.borderWidth||1,"px"):"0px"};return React.createElement(React.Fragment,null,React.createElement("div",{ref:E,style:w,onClick:function(e){e.stopPropagation(),a||r(t.id)},onMouseDown:function(e){e.stopPropagation();var a=E.current.closest(".canvas-zoom-wrapper");if(a){for(var n=a.getBoundingClientRect(),r=(E.current.getBoundingClientRect(),(e.clientX-n.left)/i),o=(e.clientY-n.top)/i,c=8/i,s=0,u=[{name:"nw",x:t.x,y:t.y},{name:"ne",x:t.x+t.width,y:t.y},{name:"sw",x:t.x,y:t.y+t.height},{name:"se",x:t.x+t.width,y:t.y+t.height},{name:"n",x:t.x+t.width/2,y:t.y},{name:"s",x:t.x+t.width/2,y:t.y+t.height},{name:"w",x:t.x,y:t.y+t.height/2},{name:"e",x:t.x+t.width,y:t.y+t.height/2}];s<u.length;s++){var d=u[s];if(r>=d.x-c/2&&r<=d.x+c/2&&o>=d.y-c/2&&o<=d.y+c/2)return void R.handleResizeStart(e,d.name,{x:t.x,y:t.y,width:t.width,height:t.height},n,i)}if(l&&l.handleMouseDown){var m=E.current.closest(".canvas-zoom-wrapper").getBoundingClientRect();l.handleMouseDown(e,t.id,{left:t.x,top:t.y,width:t.width,height:t.height},m,i)}}},onContextMenu:p},React.createElement("div",{style:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"}},b(t.type)),React.createElement("div",{style:{whiteSpace:"pre-line",lineHeight:"1.4",color:"#666"}},function(e){switch(e){case"woocommerce-invoice-number":return m.invoice_number||"INV-001";case"woocommerce-invoice-date":return m.invoice_date||"15/10/2025";case"woocommerce-order-number":return m.order_number||"#12345";case"woocommerce-order-date":return m.order_date||"15/10/2025";case"woocommerce-customer-name":return m.customer_name||"John Doe";case"woocommerce-customer-email":return m.customer_email||"john.doe@example.com";case"woocommerce-billing-address":return m.billing_address||"123 Rue de Test\n75001 Paris\nFrance";case"woocommerce-shipping-address":return m.shipping_address||"456 Rue de Livraison\n75002 Paris\nFrance";case"woocommerce-payment-method":return m.payment_method||"Carte bancaire";case"woocommerce-order-status":return m.order_status||"Trait√©e";case"woocommerce-subtotal":return m.subtotal||"45,00 ‚Ç¨";case"woocommerce-discount":return m.discount||"-5,00 ‚Ç¨";case"woocommerce-shipping":return m.shipping||"5,00 ‚Ç¨";case"woocommerce-taxes":return m.tax||"9,00 ‚Ç¨";case"woocommerce-total":return m.total||"54,00 ‚Ç¨";case"woocommerce-refund":return m.refund||"0,00 ‚Ç¨";case"woocommerce-fees":return m.fees||"1,50 ‚Ç¨";case"woocommerce-quote-number":return m.quote_number||"QUO-001";case"woocommerce-quote-date":return m.quote_date||"15/10/2025";case"woocommerce-quote-validity":return m.quote_validity||"30 jours";case"woocommerce-quote-notes":return m.quote_notes||"Conditions sp√©ciales : paiement √† 30 jours.";case"woocommerce-products-table":return m.products&&m.products.length>0?m.products.map(function(e){return"".concat(e.name," x").concat(e.quantity," - ").concat(e.total)}).join("\n"):"Produit Test 1 x1 - 25,00 ‚Ç¨\nProduit Test 2 x2 - 20,00 ‚Ç¨";case"woocommerce-products-simple":return m.products&&m.products.length>0?m.products.map(function(e){return"".concat(e.quantity,"x ").concat(e.name)}).join("\n"):"1x Produit Test 1\n2x Produit Test 2";default:return"[Contenu dynamique WooCommerce]"}}(t.type))),a&&React.createElement(React.Fragment,null,React.createElement("div",{className:"resize-handle nw",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"nw",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle ne",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"ne",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle sw",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"sw",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle se",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"se",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle n",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"n",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle s",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"s",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle w",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"w",{x:t.x,y:t.y,width:t.width,height:t.height})}}),React.createElement("div",{className:"resize-handle e",style:{position:"absolute",width:8,height:8,backgroundColor:"#007cba",border:"1px solid white",pointerEvents:"auto"},onMouseDown:function(e){return R.handleResizeStart(e,"e",{x:t.x,y:t.y,width:t.width,height:t.height})}})))};var h=a(849),v=a(244),y=a(369),E=a(234);function R(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function o(a,n,r,o){var i=n&&n.prototype instanceof c?n:c,s=Object.create(i.prototype);return w(s,"_invoke",function(a,n,r){var o,c,i,s=0,u=r||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,a){return o=t,c=0,i=e,m.n=a,l}};function p(a,n){for(c=a,i=n,t=0;!d&&s&&!r&&t<u.length;t++){var r,o=u[t],p=m.p,f=o[2];a>3?(r=f===n)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=a<2&&p<o[1])?(c=0,m.v=n,m.n=o[1]):p<f&&(r=a<3||o[0]>n||n>f)&&(o[4]=a,o[5]=n,m.n=f,c=0))}if(r||a>1)return l;throw d=!0,n}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,i=f;(t=c<2?e:i)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,i)):m.n=i:m.v=i);try{if(s=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(d=m.n<0)?i:a.call(n,m))!==l)break}catch(t){o=e,c=1,i=t}finally{s=1}}return{value:t,done:d}}}(a,r,o),!0),s}var l={};function c(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(w(t={},n,function(){return this}),t),d=s.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=s,w(d,"constructor",s),w(s,"constructor",i),i.displayName="GeneratorFunction",w(s,r,"GeneratorFunction"),w(d),w(d,r,"Generator"),w(d,n,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(R=function(){return{w:o,m}})()}function w(e,t,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}w=function(e,t,a,n){function o(t,a){w(e,t,function(e){return this._invoke(t,a,e)})}t?r?r(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a:(o("next",0),o("throw",1),o("return",2))},w(e,t,a,n)}function x(e,t,a,n,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void a(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function N(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var o=e.apply(t,a);function l(e){x(o,n,r,l,c,"next",e)}function c(e){x(o,n,r,l,c,"throw",e)}l(void 0)})}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,l,c=[],i=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=o.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw r}}return c}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return T(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var _={total_only:{fontSize:16,fontWeight:"bold",textAlign:"right",color:"#2563eb"},order_info:{fontSize:12,fontWeight:"normal",textAlign:"left",color:"#374151"},customer_info:{fontSize:12,fontWeight:"normal",textAlign:"left",color:"#374151"},customer_address:{fontSize:11,fontWeight:"normal",textAlign:"left",color:"#374151",lineHeight:1.3},full_header:{fontSize:14,fontWeight:"bold",textAlign:"center",color:"#1f2937"},invoice_header:{fontSize:18,fontWeight:"bold",textAlign:"center",color:"#1f2937",fontFamily:"Arial"},order_summary:{fontSize:11,fontWeight:"normal",textAlign:"right",color:"#374151",lineHeight:1.4},payment_info:{fontSize:12,fontWeight:"bold",textAlign:"left",color:"#059669"},payment_terms:{fontSize:10,fontWeight:"normal",textAlign:"left",color:"#6b7280",lineHeight:1.3},shipping_info:{fontSize:11,fontWeight:"normal",textAlign:"left",color:"#374151",lineHeight:1.3},thank_you:{fontSize:14,fontWeight:"normal",textAlign:"center",color:"#059669",fontStyle:"italic"},legal_notice:{fontSize:9,fontWeight:"normal",textAlign:"left",color:"#6b7280",lineHeight:1.2},bank_details:{fontSize:10,fontWeight:"normal",textAlign:"left",color:"#374151",fontFamily:"Courier New"},contact_info:{fontSize:11,fontWeight:"normal",textAlign:"left",color:"#374151"},order_confirmation:{fontSize:14,fontWeight:"bold",textAlign:"center",color:"#059669"},delivery_note:{fontSize:12,fontWeight:"bold",textAlign:"left",color:"#1f2937"},warranty_info:{fontSize:10,fontWeight:"normal",textAlign:"left",color:"#059669",lineHeight:1.3},return_policy:{fontSize:10,fontWeight:"normal",textAlign:"left",color:"#dc2626",lineHeight:1.3},signature_line:{fontSize:11,fontWeight:"normal",textAlign:"left",color:"#374151"},invoice_footer:{fontSize:9,fontWeight:"normal",textAlign:"center",color:"#6b7280"},terms_conditions:{fontSize:9,fontWeight:"normal",textAlign:"left",color:"#6b7280",lineHeight:1.2},quality_guarantee:{fontSize:11,fontWeight:"normal",textAlign:"center",color:"#059669"},eco_friendly:{fontSize:11,fontWeight:"normal",textAlign:"center",color:"#059669"},follow_up:{fontSize:10,fontWeight:"normal",textAlign:"left",color:"#374151"},custom:{fontSize:14,fontWeight:"normal",textAlign:"left",color:"#374151"}},A={text:{appearance:{sections:["colors","typography","borders","effects"],properties:{colors:["color","backgroundColor"],typography:["fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","textTransform","lineHeight","letterSpacing"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["text","variables"],properties:{text:["text"],variables:["variables"]}},effects:{sections:["opacity","shadows","filters"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"],filters:["brightness","contrast","saturate"]}}},logo:{appearance:{sections:["colors","borders","effects"],properties:{colors:["backgroundColor"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["image"],properties:{image:["imageUrl","alt","objectFit"]}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}},company_logo:{appearance:{sections:["colors","borders","effects"],properties:{colors:["backgroundColor"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["image"],properties:{image:["imageUrl","alt","objectFit"]}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}},product_table:{appearance:{sections:["colors","borders","effects"],properties:{colors:["backgroundColor"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["table"],properties:{table:["columns","showHeaders","showBorders","tableStyle"]}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}},customer_info:{appearance:{sections:["colors","typography","borders","effects"],properties:{colors:["color","backgroundColor"],typography:["fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","textTransform","lineHeight"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["customer_fields"],properties:{customer_fields:["customerName","customerAddress","customerPhone","customerEmail"]}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}},company_info:{appearance:{sections:["colors","typography","borders","effects"],properties:{colors:["color","backgroundColor"],typography:["fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","textTransform","lineHeight"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["company_fields"],properties:{company_fields:["companyName","companyAddress","companyPhone","companyEmail","companyLogo"]}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}},"dynamic-text":{appearance:{sections:["colors","typography","borders","effects"],properties:{colors:["color","backgroundColor"],typography:["fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","textTransform","lineHeight","letterSpacing"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:["dynamic_text","variables"],properties:{dynamic_text:["dynamicText"],variables:["variables"]}},effects:{sections:["opacity","shadows","filters"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"],filters:["brightness","contrast","saturate"]}}},default:{appearance:{sections:["colors","borders","effects"],properties:{colors:["backgroundColor"],borders:["borderWidth","borderColor","borderRadius"],effects:["opacity","shadow"]}},layout:{sections:["position","dimensions","transform","layers"],properties:{position:["x","y"],dimensions:["width","height"],transform:["rotation"],layers:["zIndex"]}},content:{sections:[],properties:{}},effects:{sections:["opacity","shadows"],properties:{opacity:["opacity"],shadows:["shadow","shadowColor","shadowOffsetX","shadowOffsetY"]}}}},z=function(e,t){return!({logo:["typography"],company_logo:["typography"],product_table:["typography"]}[t]||[]).includes(e)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e||""===e)return t;var a=parseFloat(e);return isNaN(a)?t:a},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e||""===e)return t;var a=parseInt(e,10);return isNaN(a)?t:a},W=function(e){var t,a=e.label,n=e.value,r=e.onChange,o=e.presets,l=void 0===o?[]:o,c=e.defaultColor,i=void 0===c?"#ffffff":c,s=(t=n)&&"transparent"!==t?!t.startsWith("#")||4!==t.length&&7!==t.length?i:t:i;return React.createElement("div",{className:"property-row"},React.createElement("label",null,a,":"),React.createElement("div",{className:"color-picker-container"},React.createElement("input",{type:"color",value:s,onChange:function(e){var t=e.target.value;r(t)},className:"color-input",title:"Couleur actuelle: ".concat(n||"transparent")}),React.createElement("div",{className:"color-presets"},l.filter(function(e){return e&&"transparent"!==e&&e.startsWith("#")}).map(function(e,t){return React.createElement("button",{key:t,className:"color-preset ".concat(n===e?"active":""),style:{backgroundColor:e,border:n===e?"2px solid #2563eb":"1px solid #e2e8f0"},onClick:function(){return r(e)},title:"".concat(a,": ").concat(e),"aria-label":"S√©lectionner la couleur ".concat(e)})}),l.includes("transparent")&&React.createElement("button",{className:"color-preset transparent ".concat("transparent"===n?"active":""),style:{background:"transparent"===n?"repeating-conic-gradient(#f0f0f0 0% 25%, #ffffff 0% 50%) 50% / 10px 10px":"repeating-conic-gradient(#e2e8f0 0% 25%, #ffffff 0% 50%) 50% / 10px 10px",border:"transparent"===n?"2px solid #2563eb":"1px solid #e2e8f0"},onClick:function(){return r("transparent")},title:"".concat(a,": Transparent"),"aria-label":"Rendre transparent"}))))},D=function(e){var t,a,n,r,o,l,c,i,s,u,d=e.elementId,m=e.properties,p=e.onPropertyChange;return React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üé® Police & Style"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Famille:"),React.createElement("select",{value:m.fontFamily||"Inter",onChange:function(e){return p(d,"fontFamily",e.target.value)}},React.createElement("option",{value:"Inter"},"Inter"),React.createElement("option",{value:"Arial"},"Arial"),React.createElement("option",{value:"Helvetica"},"Helvetica"),React.createElement("option",{value:"Times New Roman"},"Times New Roman"),React.createElement("option",{value:"Courier New"},"Courier New"),React.createElement("option",{value:"Georgia"},"Georgia"),React.createElement("option",{value:"Verdana"},"Verdana"),React.createElement("option",{value:"Roboto"},"Roboto"),React.createElement("option",{value:"Open Sans"},"Open Sans"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Taille:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"8",max:"72",value:null!==(t=m.fontSize)&&void 0!==t?t:14,onChange:function(e){return p(d,"fontSize",O(e.target.value,14))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(a=m.fontSize)&&void 0!==a?a:14,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Interligne:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0.8",max:"3",step:"0.1",value:null!==(n=m.lineHeight)&&void 0!==n?n:1.2,onChange:function(e){return p(d,"lineHeight",B(e.target.value,1.2))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(r=m.lineHeight)&&void 0!==r?r:1.2))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Espacement lettres:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"-2",max:"10",step:"0.1",value:null!==(o=m.letterSpacing)&&void 0!==o?o:0,onChange:function(e){return p(d,"letterSpacing",B(e.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(l=m.letterSpacing)&&void 0!==l?l:0,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Opacit√© texte:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:null!==(c=m.opacity)&&void 0!==c?c:1,onChange:function(e){return p(d,"opacity",B(e.target.value,1))},className:"slider"}),React.createElement("span",{className:"slider-value"},Math.round(100*(null!==(i=m.opacity)&&void 0!==i?i:1)),"%"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Ombre texte:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",value:null!==(s=m.textShadowBlur)&&void 0!==s?s:0,onChange:function(e){return p(d,"textShadowBlur",B(e.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(u=m.textShadowBlur)&&void 0!==u?u:0,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style du texte:"),React.createElement("div",{className:"style-buttons-grid"},React.createElement("button",{className:"style-btn ".concat("bold"===m.fontWeight?"active":""),onClick:function(){return p(d,"fontWeight","bold"===m.fontWeight?"normal":"bold")},title:"Gras"},React.createElement("strong",null,"B")),React.createElement("button",{className:"style-btn ".concat("italic"===m.fontStyle?"active":""),onClick:function(){return p(d,"fontStyle","italic"===m.fontStyle?"normal":"italic")},title:"Italique"},React.createElement("em",null,"I")),React.createElement("button",{className:"style-btn ".concat((m.textDecoration||"").includes("underline")?"active":""),onClick:function(){var e=m.textDecoration?m.textDecoration.split(" "):[],t=e.includes("underline")?e.filter(function(e){return"underline"!==e}):[].concat(k(e),["underline"]);p(d,"textDecoration",t.join(" ")||"none")},title:"Soulign√©"},React.createElement("u",null,"U")),React.createElement("button",{className:"style-btn ".concat((m.textDecoration||"").includes("line-through")?"active":""),onClick:function(){var e=m.textDecoration?m.textDecoration.split(" "):[],t=e.includes("line-through")?e.filter(function(e){return"line-through"!==e}):[].concat(k(e),["line-through"]);p(d,"textDecoration",t.join(" ")||"none")},title:"Barr√©"},React.createElement("s",null,"S")))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Alignement:"),React.createElement("div",{className:"alignment-buttons"},[{value:"left",icon:"‚¨ÖÔ∏è",label:"Gauche"},{value:"center",icon:"‚¨å",label:"Centre"},{value:"right",icon:"‚û°Ô∏è",label:"Droite"},{value:"justify",icon:"‚¨å‚¨ÖÔ∏è",label:"Justifi√©"}].map(function(e){var t=e.value,a=e.icon,n=e.label;return React.createElement("button",{key:t,className:"align-btn ".concat(m.textAlign===t?"active":""),onClick:function(){return p(d,"textAlign",t)},title:n},a)}))))};const P=(0,n.memo)(function(e){var t=e.selectedElements,a=e.elements,r=e.onPropertyChange,o=e.onBatchUpdate,l=C((0,n.useState)("#ffffff"),2),c=l[0],i=l[1],s=C((0,n.useState)(0),2),u=s[0],d=s[1],m=C((0,n.useState)("#000000"),2),p=m[0],f=m[1],b=C((0,n.useState)(!1),2),g=b[0],h=b[1],w=C((0,n.useState)(!1),2),x=w[0],S=w[1],T=(0,v.R)(t,a,r),P=T.localProperties,j=T.activeTab,M=T.setActiveTab,F=T.handlePropertyChange,I=(0,y.I)(a,r,o,!0,3e3),G=I.syncImmediate,q=(I.syncBatch,(0,n.useMemo)(function(){return t.length>0?a.find(function(e){return e.id===t[0]}):null},[t,a]));(0,n.useEffect)(function(){if(q){i(q.backgroundColor||"#ffffff");var e=q.borderWidth&&q.borderWidth>0?q.borderWidth:1;d(e),f(q.borderColor||"#000000")}},[q]),(0,n.useEffect)(function(){var e=!!P.backgroundColor&&"transparent"!==P.backgroundColor;h(e)},[P.backgroundColor]),(0,n.useEffect)(function(){S(!!P.border&&(P.borderWidth||0)>0)},[P.border,P.borderWidth]);var H=(0,n.useCallback)(function(e,t,a){"color"===t&&"transparent"===a&&(a="#333333");var n=a;if(!("boolean"==typeof a||t.startsWith("columns.")))try{if(null==(n=E.l.validateProperty(t,a)))return}catch(r){return}F(e,t,n),["x","y","width","height","color","fontSize","fontFamily","fontWeight","fontStyle","textAlign","lineHeight","letterSpacing","textDecoration","backgroundColor","backgroundOpacity","borderColor","borderWidth","borderStyle","borderRadius","boxShadowColor","boxShadowBlur","boxShadowSpread","opacity","textShadowBlur"].includes(t)&&G(e,t,n)},[F,G]),L=((0,n.useCallback)(function(e,t){null!=q&&q.type&&!isPropertyAllowedForElement(q.type,j,"backgroundColor")||(t?(null!=q&&q.backgroundColor&&"transparent"!==q.backgroundColor?i(q.backgroundColor):c||i("#ffffff"),H(e,"backgroundColor","transparent")):H(e,"backgroundColor",c||"#ffffff"))},[null==q?void 0:q.backgroundColor,c,H,null==q?void 0:q.type]),(0,n.useCallback)(function(e,t){if(t)null!=q&&q.borderWidth&&q.borderWidth>0?d(q.borderWidth):d(2),H(e,"borderWidth",0);else{var a=Math.max(u||2,2);H(e,"borderWidth",a)}},[null==q?void 0:q.borderWidth,u,H]),(0,n.useCallback)(function(){return React.createElement("div",{className:"properties-tabs"},React.createElement("button",{className:"tab-btn ".concat("appearance"===j?"active":""),onClick:function(){return M("appearance")}},"üé® Apparence"),React.createElement("button",{className:"tab-btn ".concat("layout"===j?"active":""),onClick:function(){return M("layout")}},"üìê Mise en page"),React.createElement("button",{className:"tab-btn ".concat("content"===j?"active":""),onClick:function(){return M("content")}},"üìù Contenu"),React.createElement("button",{className:"tab-btn ".concat("effects"===j?"active":""),onClick:function(){return M("effects")}},"‚ú® Effets"))},[j])),V=(0,n.useCallback)(function(){var e,a,n,r,o,l,c;if(!q)return React.createElement("div",{className:"no-selection"},React.createElement("div",{className:"no-selection-icon"},"üëÜ"),React.createElement("p",null,"S√©lectionnez un √©l√©ment pour modifier ses propri√©t√©s"),t.length>1&&React.createElement("p",{className:"selection-info"},t.length," √©l√©ments s√©lectionn√©s"));var i,s,m,b,h,v=(i=q.type,(null===(m=(h={appearance:{text:["colors","typography","borders","effects"],"dynamic-text":["colors","typography","borders","effects"],"layout-header":["colors","typography","borders","effects"],"layout-footer":["colors","typography","borders","effects"],"layout-section":["colors","typography","borders","effects"],logo:["colors","borders","effects"],company_logo:["colors","borders","effects"],product_table:["colors","typography","borders","effects"],customer_info:["colors","typography","borders","effects"],company_info:["colors","typography","borders","effects"],document_type:["colors","typography","borders","effects"],order_number:["colors","typography","borders","effects"],mentions:["colors","typography","borders","effects"],default:["colors","borders","effects"]},layout:{default:["position","dimensions","transform","layers"]},content:{text:["text","variables"],"dynamic-text":["dynamic_text","variables"],"layout-header":["text","variables"],"layout-footer":["text","variables"],"layout-section":["text","variables"],logo:["image"],company_logo:["image"],customer_info:["customer_fields"],company_info:["company_fields"],product_table:["table"],document_type:["document_type"],order_number:["order_number"],mentions:["mentions"],default:[]},effects:{default:["opacity","shadows","filters"]}})[s=j])||void 0===m?void 0:m[i])||(null===(b=h[s])||void 0===b?void 0:b.default)||[]),y=((A[q.type]||A.default)[j]||{sections:[],properties:{}}).sections||[];switch(j){case"appearance":return React.createElement("div",{className:"tab-content"},v.map(function(e){switch(e){case"colors":return function(e,t,a,n){var r,o;return z("colors",e.type)?React.createElement("div",{key:"colors",className:"properties-group"},React.createElement("h4",null,"üé® Couleurs & Apparence"),"logo"!==e.type&&"company_logo"!==e.type&&React.createElement(W,{label:"Texte",value:t.color,onChange:function(t){a(e.id,"color",t)},presets:["#1e293b","#334155","#475569","#64748b","#94a3b8","#cbd5e1","#000000"],defaultColor:"#333333"}),React.createElement(React.Fragment,null,React.createElement("div",{className:"property-row"},React.createElement("span",null,"Fond activ√©:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:n,disabled:!1,onChange:function(t){t.target.checked?a(e.id,"backgroundColor","#ffffff"):a(e.id,"backgroundColor","transparent")}}),React.createElement("span",{className:"toggle-slider"}))),React.createElement("div",{style:{display:n?"block":"none",transition:"opacity 0.3s ease"}},React.createElement(W,{label:"Fond",value:"transparent"===t.backgroundColor?"#ffffff":t.backgroundColor,onChange:function(t){a(e.id,"backgroundColor",t)},presets:["transparent","#ffffff","#f8fafc","#f1f5f9","#e2e8f0","#cbd5e1","#94a3b8"]}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Opacit√© fond:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:null!==(r=t.backgroundOpacity)&&void 0!==r?r:1,onChange:function(t){return a(e.id,"backgroundOpacity",B(t.target.value,1))},className:"slider"}),React.createElement("span",{className:"slider-value"},Math.round(100*(null!==(o=t.backgroundOpacity)&&void 0!==o?o:1)),"%")))))):null}(q,P,H,g);case"typography":return function(e,t,a){return z("typography",e.type)?React.createElement("div",{key:"typography",className:"properties-group"},React.createElement("h4",null,"üìù Typographie"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Police:"),React.createElement("select",{value:t.fontFamily||"Arial",onChange:function(t){return a(e.id,"fontFamily",t.target.value)},className:"property-select"},React.createElement("option",{value:"Arial"},"Arial"),React.createElement("option",{value:"Helvetica"},"Helvetica"),React.createElement("option",{value:"Times New Roman"},"Times New Roman"),React.createElement("option",{value:"Courier New"},"Courier New"),React.createElement("option",{value:"Georgia"},"Georgia"),React.createElement("option",{value:"Verdana"},"Verdana"),React.createElement("option",{value:"Trebuchet MS"},"Trebuchet MS"),React.createElement("option",{value:"Comic Sans MS"},"Comic Sans MS"),React.createElement("option",{value:"Impact"},"Impact"),React.createElement("option",{value:"Lucida Console"},"Lucida Console"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Taille:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"8",max:"72",step:"1",value:t.fontSize||12,onChange:function(t){return a(e.id,"fontSize",O(t.target.value,12))},className:"slider"}),React.createElement("span",{className:"slider-value"},t.fontSize||12,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"√âpaisseur:"),React.createElement("select",{value:t.fontWeight||"normal",onChange:function(t){return a(e.id,"fontWeight",t.target.value)},className:"property-select"},React.createElement("option",{value:"normal"},"Normal"),React.createElement("option",{value:"bold"},"Gras"),React.createElement("option",{value:"lighter"},"Fin"),React.createElement("option",{value:"100"},"100"),React.createElement("option",{value:"200"},"200"),React.createElement("option",{value:"300"},"300"),React.createElement("option",{value:"400"},"400"),React.createElement("option",{value:"500"},"500"),React.createElement("option",{value:"600"},"600"),React.createElement("option",{value:"700"},"700"),React.createElement("option",{value:"800"},"800"),React.createElement("option",{value:"900"},"900"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style:"),React.createElement("select",{value:t.fontStyle||"normal",onChange:function(t){return a(e.id,"fontStyle",t.target.value)},className:"property-select"},React.createElement("option",{value:"normal"},"Normal"),React.createElement("option",{value:"italic"},"Italique"),React.createElement("option",{value:"oblique"},"Oblique"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"D√©coration:"),React.createElement("select",{value:t.textDecoration||"none",onChange:function(t){return a(e.id,"textDecoration",t.target.value)},className:"property-select"},React.createElement("option",{value:"none"},"Aucune"),React.createElement("option",{value:"underline"},"Soulign√©"),React.createElement("option",{value:"overline"},"Surlign√©"),React.createElement("option",{value:"line-through"},"Barr√©"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Alignement:"),React.createElement("div",{className:"alignment-buttons"},React.createElement("button",{className:"alignment-btn ".concat("left"===t.textAlign?"active":""),onClick:function(){return a(e.id,"textAlign","left")},title:"Aligner √† gauche"},"‚¨ÖÔ∏è"),React.createElement("button",{className:"alignment-btn ".concat("center"===t.textAlign?"active":""),onClick:function(){return a(e.id,"textAlign","center")},title:"Centrer"},"‚¨å"),React.createElement("button",{className:"alignment-btn ".concat("right"===t.textAlign?"active":""),onClick:function(){return a(e.id,"textAlign","right")},title:"Aligner √† droite"},"‚û°Ô∏è"),React.createElement("button",{className:"alignment-btn ".concat("justify"===t.textAlign?"active":""),onClick:function(){return a(e.id,"textAlign","justify")},title:"Justifier"},"‚¨å‚¨ÖÔ∏è"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Casse:"),React.createElement("select",{value:t.textTransform||"none",onChange:function(t){return a(e.id,"textTransform",t.target.value)},className:"property-select"},React.createElement("option",{value:"none"},"Aucune"),React.createElement("option",{value:"uppercase"},"Majuscules"),React.createElement("option",{value:"lowercase"},"Minuscules"),React.createElement("option",{value:"capitalize"},"Premi√®re lettre"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Interligne:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0.8",max:"3",step:"0.1",value:t.lineHeight||1.2,onChange:function(t){return a(e.id,"lineHeight",B(t.target.value,1.2))},className:"slider"}),React.createElement("span",{className:"slider-value"},t.lineHeight||1.2))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Espacement:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"-2",max:"10",step:"0.5",value:t.letterSpacing||0,onChange:function(t){return a(e.id,"letterSpacing",B(t.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},t.letterSpacing||0,"px")))):null}(q,P,H);case"borders":return y.includes("borders")?function(e,t,a,n,r,o,l,c,i){var s,u,d,m;return!n&&t.borderWidth<=0?null:React.createElement("div",{key:"borders",className:"properties-group"},React.createElement("h4",null,"üî≤ Bordures & Coins Arrondis"),React.createElement("div",{className:"property-row"},React.createElement("span",null,"Bordures activ√©es:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:n,onChange:function(n){if(n.target.checked){var s=c||1,u=i||"#000000";a(e.id,"border",!0),a(e.id,"borderWidth",s),a(e.id,"borderColor",u),r(!0)}else o(t.borderWidth||1),l(t.borderColor||"#000000"),a(e.id,"border",!1),a(e.id,"borderWidth",0),r(!1)}}),React.createElement("span",{className:"toggle-slider"}))),React.createElement("div",{style:{display:t.borderWidth>0?"block":"none",transition:"opacity 0.3s ease"}},React.createElement(W,{label:"Couleur bordure",value:t.borderColor||"#000000",onChange:function(t){return a(e.id,"borderColor",t)},presets:["#e2e8f0","#cbd5e1","#94a3b8","#64748b","#475569","#334155","#000000"]}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style bordure:"),React.createElement("select",{value:t.borderStyle||"solid",onChange:function(t){return a(e.id,"borderStyle",t.target.value)},className:"styled-select"},React.createElement("option",{value:"solid"},"Continue"),React.createElement("option",{value:"dashed"},"Tirets"),React.createElement("option",{value:"dotted"},"Pointill√©s"),React.createElement("option",{value:"double"},"Double"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"√âpaisseur bordure:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"10",value:null!==(s=t.borderWidth)&&void 0!==s?s:1,onChange:function(t){return a(e.id,"borderWidth",O(t.target.value,1))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(u=t.borderWidth)&&void 0!==u?u:1,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Coins arrondis:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"50",value:null!==(d=t.borderRadius)&&void 0!==d?d:4,onChange:function(t){return a(e.id,"borderRadius",O(t.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(m=t.borderRadius)&&void 0!==m?m:4,"px")))))}(q,P,H,x,S,d,f,u,p):null;case"effects":return y.includes("effects")?function(e,t,a){var n,r,o,l;return React.createElement("div",{key:"effects",className:"properties-group"},React.createElement("h4",null,"‚ú® Effets"),React.createElement(W,{label:"Ombre",value:t.boxShadowColor||"#000000",onChange:function(t){return a(e.id,"boxShadowColor",t)},presets:["#000000","#ffffff","#64748b","#ef4444","#3b82f6"]}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Flou ombre:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"20",value:null!==(n=t.boxShadowBlur)&&void 0!==n?n:0,onChange:function(t){return a(e.id,"boxShadowBlur",O(t.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(r=t.boxShadowBlur)&&void 0!==r?r:0,"px"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"D√©calage ombre:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"10",value:null!==(o=t.boxShadowSpread)&&void 0!==o?o:0,onChange:function(t){return a(e.id,"boxShadowSpread",O(t.target.value,0))},className:"slider"}),React.createElement("span",{className:"slider-value"},null!==(l=t.boxShadowSpread)&&void 0!==l?l:0,"px"))))}(q,P,H):null;default:return null}}));case"layout":return React.createElement("div",{className:"tab-content"},y.includes("position")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìç Position Pr√©cise"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"X:"),React.createElement("div",{className:"input-with-unit"},React.createElement("input",{type:"number",value:Math.round(P.x||0),onChange:function(e){return H(q.id,"x",O(e.target.value,0))},step:"1"}),React.createElement("span",{className:"unit"},"mm"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Y:"),React.createElement("div",{className:"input-with-unit"},React.createElement("input",{type:"number",value:Math.round(P.y||0),onChange:function(e){return H(q.id,"y",O(e.target.value,0))},step:"1"}),React.createElement("span",{className:"unit"},"mm")))),y.includes("dimensions")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìè Dimensions"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Largeur:"),React.createElement("div",{className:"input-with-unit"},React.createElement("input",{type:"number",value:Math.round(P.width||100),onChange:function(e){return H(q.id,"width",O(e.target.value,100))},min:"1",step:"1"}),React.createElement("span",{className:"unit"},"mm"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Hauteur:"),React.createElement("div",{className:"input-with-unit"},React.createElement("input",{type:"number",value:Math.round(P.height||50),onChange:function(e){return H(q.id,"height",O(e.target.value,50))},min:"1",step:"1"}),React.createElement("span",{className:"unit"},"mm"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Ratio:"),React.createElement("div",{className:"ratio-buttons"},React.createElement("button",{className:"ratio-btn",onClick:function(){var e=.75*(P.width||100);H(q.id,"height",Math.round(e))},title:"Format 4:3"},"4:3"),React.createElement("button",{className:"ratio-btn",onClick:function(){var e=(P.width||100)*(297/210);H(q.id,"height",Math.round(e))},title:"Format A4"},"A4"),React.createElement("button",{className:"ratio-btn",onClick:function(){var e=P.width||100;H(q.id,"height",Math.round(e))},title:"Carr√©"},"1:1")))),y.includes("transform")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üîÑ Transformation"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Rotation:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"-180",max:"180",value:P.rotation||0,onChange:function(e){return H(q.id,"rotation",O(e.target.value,0))},onDoubleClick:function(){return H(q.id,"rotation",0)},className:"slider"}),React.createElement("span",{className:"slider-value"},P.rotation||0,"¬∞"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Rotation rapide:"),React.createElement("div",{className:"rotation-buttons"},React.createElement("button",{className:"rotation-btn",onClick:function(){return H(q.id,"rotation",0)},title:"Rotation 0¬∞"},"‚Üª 0¬∞"),React.createElement("button",{className:"rotation-btn",onClick:function(){return H(q.id,"rotation",90)},title:"Rotation 90¬∞"},"‚Üª 90¬∞"),React.createElement("button",{className:"rotation-btn",onClick:function(){return H(q.id,"rotation",180)},title:"Rotation 180¬∞"},"‚Üª 180¬∞"),React.createElement("button",{className:"rotation-btn",onClick:function(){return H(q.id,"rotation",-90)},title:"Rotation -90¬∞"},"‚Ü∫ -90¬∞")))),y.includes("layers")&&"product_table"!==q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìö Calques"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Profondeur (Z-index):"),React.createElement("input",{type:"number",value:P.zIndex||0,onChange:function(e){return H(q.id,"zIndex",O(e.target.value,0))},min:"0",max:"100",step:"1"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Actions:"),React.createElement("div",{className:"layer-actions"},React.createElement("button",{className:"layer-btn",onClick:function(){return H(q.id,"zIndex",(P.zIndex||0)+1)},title:"Mettre devant"},"‚¨ÜÔ∏è Devant"),React.createElement("button",{className:"layer-btn",onClick:function(){return H(q.id,"zIndex",Math.max(0,(P.zIndex||0)-1))},title:"Mettre derri√®re"},"‚¨áÔ∏è Derri√®re")))));case"content":return React.createElement("div",{className:"tab-content"},y.includes("text")&&"text"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìù Contenu texte"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte:"),React.createElement("textarea",{value:P.text||"",onChange:function(e){return H(q.id,"text",e.target.value)},rows:4,placeholder:"Saisissez votre texte ici..."})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Variables dynamiques:"),React.createElement("div",{className:"variables-list"},React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{date}}")}},"üìÖ Date"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{order_number}}")}},"[Ord] N¬∞ commande"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{customer_name}}")}},"üë§ Client"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{total}}")}},"üí∞ Total")))),y.includes("variables")&&("layout-header"===q.type||"layout-footer"===q.type||"layout-section"===q.type)&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üîÑ Variables dynamiques"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Variables disponibles:"),React.createElement("div",{className:"variables-list"},React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{date}}")}},"üìÖ Date"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{order_number}}")}},"[Ord] N¬∞ commande"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{customer_name}}")}},"üë§ Client"),React.createElement("button",{className:"variable-btn",onClick:function(){var e=P.text||"";H(q.id,"text",e+"{{total}}")}},"üí∞ Total")))),y.includes("table")&&"product_table"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìä Tableau produits"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Colonnes √† afficher:"),React.createElement("div",{className:"checkbox-group"},[{key:"image",label:"Image"},{key:"name",label:"Nom"},{key:"sku",label:"SKU"},{key:"quantity",label:"Quantit√©"},{key:"price",label:"Prix"},{key:"total",label:"Total"}].map(function(e){var t,a,n=e.key,r=e.label;return React.createElement("label",{key:n,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:null===(t=null===(a=P.columns)||void 0===a?void 0:a[n])||void 0===t||t,onChange:function(e){H(q.id,"columns.".concat(n),e.target.checked)}}),r)}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style du tableau:"),React.createElement("div",{className:"table-style-selector"},[{value:"default",label:"D√©faut",headerBg:"#f8fafc",headerBorder:"#e2e8f0",rowBorder:"#f1f5f9",altRowBg:"#fafbfc",borderWidth:1,textColor:"#334155"},{value:"classic",label:"Classique",headerBg:"#1e293b",headerBorder:"#334155",rowBorder:"#334155",altRowBg:"#ffffff",borderWidth:1.5,textColor:"#ffffff"},{value:"striped",label:"Altern√©",headerBg:"#3b82f6",headerBorder:"#2563eb",rowBorder:"#e2e8f0",altRowBg:"#f8fafc",borderWidth:1,textColor:"#ffffff"},{value:"bordered",label:"Encadr√©",headerBg:"#ffffff",headerBorder:"#374151",rowBorder:"#d1d5db",altRowBg:"#ffffff",borderWidth:2,textColor:"#111827"},{value:"minimal",label:"Minimal",headerBg:"#ffffff",headerBorder:"#f3f4f6",rowBorder:"#f9fafb",altRowBg:"#ffffff",borderWidth:.5,textColor:"#6b7280"},{value:"modern",label:"Moderne",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",headerBorder:"#5b21b6",rowBorder:"#e9d5ff",altRowBg:"#faf5ff",borderWidth:1,textColor:"#ffffff"},{value:"blue_ocean",label:"Oc√©an Bleu",gradient:"linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)",headerBorder:"#1e40af",rowBorder:"#dbeafe",altRowBg:"#eff6ff",borderWidth:1.5,textColor:"#ffffff"},{value:"emerald_forest",label:"For√™t √âmeraude",gradient:"linear-gradient(135deg, #064e3b 0%, #10b981 100%)",headerBorder:"#065f46",rowBorder:"#d1fae5",altRowBg:"#a7f3d0",borderWidth:1.5,textColor:"#ffffff"},{value:"sunset_orange",label:"Coucher Orange",gradient:"linear-gradient(135deg, #9a3412 0%, #f97316 100%)",headerBorder:"#c2410c",rowBorder:"#fed7aa",altRowBg:"#fff7ed",borderWidth:1.5,textColor:"#ffffff"},{value:"royal_purple",label:"Royal Violet",gradient:"linear-gradient(135deg, #581c87 0%, #a855f7 100%)",headerBorder:"#7c3aed",rowBorder:"#e9d5ff",altRowBg:"#faf5ff",borderWidth:1.5,textColor:"#ffffff"},{value:"rose_pink",label:"Rose Bonbon",gradient:"linear-gradient(135deg, #be185d 0%, #f472b6 100%)",headerBorder:"#db2777",rowBorder:"#fce7f3",altRowBg:"#fdf2f8",borderWidth:1.5,textColor:"#ffffff"},{value:"teal_aqua",label:"Aigue-marine",gradient:"linear-gradient(135deg, #0f766e 0%, #14b8a6 100%)",headerBorder:"#0d9488",rowBorder:"#ccfbf1",altRowBg:"#f0fdfa",borderWidth:1.5,textColor:"#ffffff"},{value:"crimson_red",label:"Rouge Cramoisi",gradient:"linear-gradient(135deg, #991b1b 0%, #ef4444 100%)",headerBorder:"#dc2626",rowBorder:"#fecaca",altRowBg:"#fef2f2",borderWidth:1.5,textColor:"#ffffff"},{value:"amber_gold",label:"Or Ambr√©",gradient:"linear-gradient(135deg, #92400e 0%, #f59e0b 100%)",headerBorder:"#d97706",rowBorder:"#fef3c7",altRowBg:"#fffbeb",borderWidth:1.5,textColor:"#ffffff"},{value:"indigo_night",label:"Nuit Indigo",gradient:"linear-gradient(135deg, #312e81 0%, #6366f1 100%)",headerBorder:"#4338ca",rowBorder:"#e0e7ff",altRowBg:"#eef2ff",borderWidth:1.5,textColor:"#ffffff"},{value:"slate_gray",label:"Ardoise",headerBg:"#374151",headerBorder:"#4b5563",rowBorder:"#f3f4f6",altRowBg:"#f9fafb",borderWidth:1.5,textColor:"#ffffff"},{value:"coral",label:"Corail",headerBg:"#f87171",headerBorder:"#fca5a5",rowBorder:"#fef2f2",altRowBg:"#fef2f2",borderWidth:1.5,textColor:"#ffffff"},{value:"teal",label:"Sarcelle",headerBg:"#14b8a6",headerBorder:"#0d9488",rowBorder:"#ccfbf1",altRowBg:"#f0fdfa",borderWidth:1.5,textColor:"#ffffff"},{value:"indigo",label:"Indigo",headerBg:"#6366f1",headerBorder:"#818cf8",rowBorder:"#e0e7ff",altRowBg:"#eef2ff",borderWidth:1.5,textColor:"#ffffff"},{value:"amber",label:"Ambre",headerBg:"#f59e0b",headerBorder:"#fbbf24",rowBorder:"#fef3c7",altRowBg:"#fffbeb",borderWidth:1.5,textColor:"#92400e"}].map(function(e){return React.createElement("button",{key:e.value,type:"button",className:"table-style-option ".concat(P.tableStyle===e.value?"active":""),onClick:function(){return H(q.id,"tableStyle",e.value)},title:"".concat(e.label," - Style ").concat(e.label.toLowerCase()," avec d√©grad√© moderne")},React.createElement("div",{className:"table-sample",style:{maxHeight:"60px",overflow:"hidden"}},React.createElement("div",{className:"table-header",style:{background:e.gradient||e.headerBg,border:"".concat(e.borderWidth,"px solid ").concat(e.headerBorder),borderBottom:"none",color:e.textColor}},React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.headerBorder)}},"Produit"),React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.headerBorder)}},"Qt√©"),React.createElement("div",{className:"table-cell"},"Prix")),React.createElement("div",{className:"table-row",style:{backgroundColor:e.altRowBg,border:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder),borderTop:"none",color:e.textColor}},React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder)}},"Article 1"),React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder)}},"2"),React.createElement("div",{className:"table-cell"},"15.99‚Ç¨")),React.createElement("div",{className:"table-row",style:{backgroundColor:"white",border:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder),borderTop:"none",color:e.textColor}},React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder)}},"Article 2"),React.createElement("div",{className:"table-cell",style:{borderRight:"".concat(e.borderWidth,"px solid ").concat(e.rowBorder)}},"1"),React.createElement("div",{className:"table-cell"},"8.50‚Ç¨"))),React.createElement("span",{className:"style-label"},e.label))}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Lignes de totaux:"),React.createElement("div",{className:"checkbox-group"},[{key:"showSubtotal",label:"Sous-total"},{key:"showShipping",label:"Frais de port"},{key:"showTaxes",label:"Taxes"},{key:"showDiscount",label:"Remise"},{key:"showTotal",label:"Total g√©n√©ral"}].map(function(e){var t=e.key,a=e.label;return React.createElement("label",{key:t,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:P[t]||!1,onChange:function(e){return H(q.id,t,e.target.checked)}}),a)}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher les bordures des cellules:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null===(e=P.showBorders)||void 0===e||e,onChange:function(e){return H(q.id,"showBorders",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),React.createElement("div",{className:"property-row"},React.createElement("label",{style:{fontWeight:"600",color:"#2563eb",marginBottom:"8px",display:"block"}},"üé® Couleurs individuelles des produits"),React.createElement("div",{className:"product-colors-editor"},React.createElement("div",{className:"color-scheme-info"},React.createElement("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 12px 0"}},"D√©finissez les couleurs pour les produits pairs et impairs :")),React.createElement("div",{className:"product-color-item"},React.createElement("div",{className:"product-header"},React.createElement("span",{className:"product-name"},"üìè Produits pairs (1er, 3√®me, 5√®me...)"),React.createElement("span",{className:"product-index"},"Even")),React.createElement("div",{className:"color-controls"},React.createElement("div",{className:"color-control"},React.createElement("label",null,"üéØ Fond:"),React.createElement("div",{className:"color-input-wrapper"},React.createElement("input",{type:"color",value:P.evenRowBg||"#ffffff",onChange:function(e){return H(q.id,"evenRowBg",e.target.value)}}),React.createElement("span",{className:"color-value"},P.evenRowBg||"#ffffff"))),React.createElement("div",{className:"color-control"},React.createElement("label",null,"üìù Texte:"),React.createElement("div",{className:"color-input-wrapper"},React.createElement("input",{type:"color",value:P.evenRowTextColor||"#000000",onChange:function(e){return H(q.id,"evenRowTextColor",e.target.value)}}),React.createElement("span",{className:"color-value"},P.evenRowTextColor||"#000000"))))),React.createElement("div",{className:"product-color-item"},React.createElement("div",{className:"product-header"},React.createElement("span",{className:"product-name"},"üìê Produits impairs (2√®me, 4√®me, 6√®me...)"),React.createElement("span",{className:"product-index"},"Odd")),React.createElement("div",{className:"color-controls"},React.createElement("div",{className:"color-control"},React.createElement("label",null,"üéØ Fond:"),React.createElement("div",{className:"color-input-wrapper"},React.createElement("input",{type:"color",value:P.oddRowBg||"#f9fafb",onChange:function(e){return H(q.id,"oddRowBg",e.target.value)}}),React.createElement("span",{className:"color-value"},P.oddRowBg||"#f9fafb"))),React.createElement("div",{className:"color-control"},React.createElement("label",null,"üìù Texte:"),React.createElement("div",{className:"color-input-wrapper"},React.createElement("input",{type:"color",value:P.oddRowTextColor||"#000000",onChange:function(e){return H(q.id,"oddRowTextColor",e.target.value)}}),React.createElement("span",{className:"color-value"},P.oddRowTextColor||"#000000")))))))),y.includes("customer_fields")&&"customer_info"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üë§ Informations client"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Champs √† afficher:"),React.createElement("div",{className:"checkbox-group"},[{key:"name",label:"Nom"},{key:"email",label:"Email"},{key:"phone",label:"T√©l√©phone"},{key:"address",label:"Adresse"},{key:"company",label:"Soci√©t√©"},{key:"vat",label:"N¬∞ TVA"},{key:"siret",label:"SIRET"}].map(function(e){var t,a,n=e.key,r=e.label;return React.createElement("label",{key:n,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:null===(t=null===(a=P.fields)||void 0===a?void 0:a.includes(n))||void 0===t||t,onChange:function(e){var t=P.fields||["name","email","phone","address","company","vat","siret"],a=e.target.checked?[].concat(k(t),[n]):t.filter(function(e){return e!==n});H(q.id,"fields",a)}}),r)}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Disposition:"),React.createElement("select",{value:P.layout||"vertical",onChange:function(e){return H(q.id,"layout",e.target.value)}},React.createElement("option",{value:"vertical"},"Verticale"),React.createElement("option",{value:"horizontal"},"Horizontale"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher les √©tiquettes:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null===(a=P.showLabels)||void 0===a||a,onChange:function(e){return H(q.id,"showLabels",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),P.showLabels&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style des √©tiquettes:"),React.createElement("select",{value:P.labelStyle||"normal",onChange:function(e){return H(q.id,"labelStyle",e.target.value)}},React.createElement("option",{value:"normal"},"Normal"),React.createElement("option",{value:"bold"},"Gras"),React.createElement("option",{value:"uppercase"},"Majuscules"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Espacement:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"20",value:P.spacing||8,onChange:function(e){return H(q.id,"spacing",O(e.target.value,10))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.spacing||8,"px")))),y.includes("mentions")&&"mentions"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìÑ Mentions l√©gales"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Informations √† afficher:"),React.createElement("div",{className:"checkbox-group"},[{key:"showEmail",label:"Email"},{key:"showPhone",label:"T√©l√©phone"},{key:"showSiret",label:"SIRET"},{key:"showVat",label:"N¬∞ TVA"},{key:"showAddress",label:"Adresse"},{key:"showWebsite",label:"Site web"},{key:"showCustomText",label:"Texte personnalis√©"}].map(function(e){var t=e.key,a=e.label;return React.createElement("label",{key:t,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:P[t]||!1,onChange:function(e){return H(q.id,t,e.target.checked)}}),a)}))),P.showCustomText&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte personnalis√©:"),React.createElement("input",{type:"text",value:P.customText||"",onChange:function(e){return H(q.id,"customText",e.target.value)},placeholder:"Ex: Mentions l√©gales personnalis√©es..."})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Disposition:"),React.createElement("select",{value:P.layout||"horizontal",onChange:function(e){return H(q.id,"layout",e.target.value)}},React.createElement("option",{value:"horizontal"},"Horizontale"),React.createElement("option",{value:"vertical"},"Verticale"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"S√©parateur:"),React.createElement("input",{type:"text",value:P.separator||" ‚Ä¢ ",onChange:function(e){return H(q.id,"separator",e.target.value)},placeholder:" ‚Ä¢ ",style:{width:"60px"}})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Interligne:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0.8",max:"2.0",step:"0.1",value:P.lineHeight||1.2,onChange:function(e){return H(q.id,"lineHeight",parseFloat(e.target.value))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.lineHeight||1.2)))),y.includes("dynamic_text")&&"dynamic-text"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìù Texte Dynamique"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Mod√®le:"),React.createElement("select",{value:P.template||"total_only",onChange:function(e){var t=e.target.value,a=P.template;if(H(q.id,"template",t),t!==a){var n=_[t];n&&Object.entries(n).forEach(function(e){var t=C(e,2),n=t[0],r=t[1],o=P[n],l=a?_[a]:null,c=l?l[n]:null;void 0!==o&&o!==c||H(q.id,n,r)})}}},React.createElement("option",{value:"total_only"},"üí∞ Total uniquement"),React.createElement("option",{value:"order_info"},"üìã Informations commande"),React.createElement("option",{value:"customer_info"},"üë§ Informations client"),React.createElement("option",{value:"customer_address"},"üè† Adresse client compl√®te"),React.createElement("option",{value:"full_header"},"üìÑ En-t√™te complet"),React.createElement("option",{value:"invoice_header"},"üìã En-t√™te facture d√©taill√©"),React.createElement("option",{value:"order_summary"},"üßæ R√©capitulatif commande"),React.createElement("option",{value:"payment_info"},"üí≥ Informations paiement"),React.createElement("option",{value:"payment_terms"},"üìÖ Conditions de paiement"),React.createElement("option",{value:"shipping_info"},"üöö Adresse de livraison"),React.createElement("option",{value:"thank_you"},"üôè Message de remerciement"),React.createElement("option",{value:"legal_notice"},"‚öñÔ∏è Mentions l√©gales"),React.createElement("option",{value:"bank_details"},"üè¶ Coordonn√©es bancaires"),React.createElement("option",{value:"contact_info"},"üìû Informations de contact"),React.createElement("option",{value:"order_confirmation"},"‚úÖ Confirmation de commande"),React.createElement("option",{value:"delivery_note"},"üì¶ Bon de livraison"),React.createElement("option",{value:"warranty_info"},"üõ°Ô∏è Garantie produit"),React.createElement("option",{value:"return_policy"},"‚Ü©Ô∏è Politique de retour"),React.createElement("option",{value:"signature_line"},"‚úçÔ∏è Ligne de signature"),React.createElement("option",{value:"invoice_footer"},"üìÑ Pied de facture"),React.createElement("option",{value:"terms_conditions"},"üìã CGV"),React.createElement("option",{value:"quality_guarantee"},"‚≠ê Garantie qualit√©"),React.createElement("option",{value:"eco_friendly"},"üå± Engagement √©cologique"),React.createElement("option",{value:"follow_up"},"üìä Suivi commande"),React.createElement("option",{value:"custom"},"üé® Personnalis√©"))),P.template&&"custom"!==P.template&&React.createElement("div",{className:"property-row"},React.createElement("label",null),React.createElement("button",{className:"reset-template-btn",onClick:function(){var e=_[P.template];e&&Object.entries(e).forEach(function(e){var t=C(e,2),a=t[0],n=t[1];H(q.id,a,n)})},title:"R√©initialiser aux valeurs par d√©faut du template",style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"12px",cursor:"pointer",marginTop:"4px"}},"üîÑ Valeurs par d√©faut")),"custom"===P.template&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Contenu personnalis√©:"),React.createElement("textarea",{value:P.customContent||"",onChange:function(e){return H(q.id,"customContent",e.target.value)},placeholder:"Utilisez des variables comme {{order_total}}, {{customer_name}}, etc.",rows:4,style:{width:"100%",resize:"vertical",minHeight:"80px"}})),React.createElement("div",{className:"property-row",style:{marginTop:"12px",padding:"8px",backgroundColor:"#f8fafc",borderRadius:"4px"}},React.createElement("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block"}},"Variables disponibles:"),React.createElement("div",{className:"variables-badges"},React.createElement("div",{className:"variable-group"},React.createElement("span",{className:"group-icon"},"üí∞"),React.createElement("span",{className:"group-label"},"Commande:"),React.createElement("span",{className:"variable-badges"},React.createElement("span",{className:"variable-badge",title:"Montant total de la commande"},"{{order_total}}"),React.createElement("span",{className:"variable-badge",title:"Num√©ro de commande"},"{{order_number}}"),React.createElement("span",{className:"variable-badge",title:"Date de la commande"},"{{order_date}}"),React.createElement("span",{className:"variable-badge",title:"Sous-total HT"},"{{order_subtotal}}"),React.createElement("span",{className:"variable-badge",title:"Montant TVA"},"{{order_tax}}"),React.createElement("span",{className:"variable-badge",title:"Frais de port"},"{{order_shipping}}"))),React.createElement("div",{className:"variable-group"},React.createElement("span",{className:"group-icon"},"üë§"),React.createElement("span",{className:"group-label"},"Client:"),React.createElement("span",{className:"variable-badges"},React.createElement("span",{className:"variable-badge",title:"Nom du client"},"{{customer_name}}"),React.createElement("span",{className:"variable-badge",title:"Email du client"},"{{customer_email}}"),React.createElement("span",{className:"variable-badge",title:"Adresse de facturation"},"{{billing_address}}"),React.createElement("span",{className:"variable-badge",title:"Adresse de livraison"},"{{shipping_address}}"))),React.createElement("div",{className:"variable-group"},React.createElement("span",{className:"group-icon"},"üìÖ"),React.createElement("span",{className:"group-label"},"Dates:"),React.createElement("span",{className:"variable-badges"},React.createElement("span",{className:"variable-badge",title:"Date actuelle"},"{{date}}"),React.createElement("span",{className:"variable-badge",title:"Date d'√©ch√©ance"},"{{due_date}}")))))),y.includes("company_fields")&&"company_info"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üè¢ Informations Entreprise"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Champs √† afficher:"),React.createElement("div",{className:"checkbox-group"},[{key:"name",label:"Nom"},{key:"address",label:"Adresse"},{key:"phone",label:"T√©l√©phone"},{key:"email",label:"Email"},{key:"website",label:"Site web"},{key:"vat",label:"N¬∞ TVA"},{key:"rcs",label:"RCS"},{key:"siret",label:"SIRET"}].map(function(e){var t,a,n=e.key,r=e.label;return React.createElement("label",{key:n,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:null===(t=null===(a=P.fields)||void 0===a?void 0:a.includes(n))||void 0===t||t,onChange:function(e){var t=P.fields||["name","address","phone","email","website","vat","rcs","siret"],a=e.target.checked?[].concat(k(t),[n]):t.filter(function(e){return e!==n});H(q.id,"fields",a)}}),r)}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Disposition:"),React.createElement("select",{value:P.layout||"vertical",onChange:function(e){return H(q.id,"layout",e.target.value)}},React.createElement("option",{value:"vertical"},"Verticale"),React.createElement("option",{value:"horizontal"},"Horizontale"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher les √©tiquettes:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null!==(n=P.showLabels)&&void 0!==n&&n,onChange:function(e){return H(q.id,"showLabels",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),P.showLabels&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Style des √©tiquettes:"),React.createElement("select",{value:P.labelStyle||"normal",onChange:function(e){return H(q.id,"labelStyle",e.target.value)}},React.createElement("option",{value:"normal"},"Normal"),React.createElement("option",{value:"bold"},"Gras"),React.createElement("option",{value:"uppercase"},"Majuscules"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Espacement:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"20",value:P.spacing||8,onChange:function(e){return H(q.id,"spacing",O(e.target.value,10))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.spacing||8,"px")))),y.includes("document_type")&&"document_type"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìã Type de Document"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Type de document:"),React.createElement("select",{value:P.documentType||"invoice",onChange:function(e){return H(q.id,"documentType",e.target.value)}},React.createElement("option",{value:"invoice"},"Facture"),React.createElement("option",{value:"quote"},"Devis"),React.createElement("option",{value:"receipt"},"Re√ßu"),React.createElement("option",{value:"order"},"Commande"),React.createElement("option",{value:"credit_note"},"Avoir")))),y.includes("order_number")&&"order_number"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üî¢ Num√©ro de Commande"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Format d'affichage:"),React.createElement("input",{type:"text",value:P.format||"Commande #{order_number} - {order_date}",onChange:function(e){return H(q.id,"format",e.target.value)},placeholder:"Commande #{order_number} - {order_date}"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher l'√©tiquette:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null===(r=P.showLabel)||void 0===r||r,onChange:function(e){return H(q.id,"showLabel",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),P.showLabel&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte de l'√©tiquette:"),React.createElement("input",{type:"text",value:P.labelText||"N¬∞ de commande:",onChange:function(e){return H(q.id,"labelText",e.target.value)},placeholder:"N¬∞ de commande:"}))),y.includes("font")&&React.createElement(D,{elementId:q.id,properties:P,onPropertyChange:H}),y.includes("image")&&("logo"===q.type||"company_logo"===q.type)&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"[Img] Image"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"URL de l'image:"),React.createElement("div",{className:"input-with-button"},React.createElement("input",{type:"text",value:P.imageUrl||P.src||"",onChange:function(e){H(q.id,"imageUrl",e.target.value),H(q.id,"src",e.target.value)},placeholder:"https://exemple.com/image.png"}),React.createElement("button",{type:"button",className:"media-button",onClick:N(R().m(function e(){var t,a,n,r,o,l,c;return R().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/wp-json/wp/v2/media?media_type=image&per_page=50&_embed");case 1:return t=e.v,e.n=2,t.json();case 2:a=e.v,(n=document.createElement("div")).style.cssText="\n                          position: fixed;\n                          top: 0;\n                          left: 0;\n                          width: 100%;\n                          height: 100%;\n                          background: rgba(0,0,0,0.8);\n                          z-index: 100;\n                          display: flex;\n                          align-items: center;\n                          justify-content: center;\n                        ",(r=document.createElement("div")).style.cssText="\n                          background: white;\n                          padding: 20px;\n                          border-radius: 8px;\n                          max-width: 600px;\n                          max-height: 80vh;\n                          overflow-y: auto;\n                          width: 90%;\n                        ",(o=document.createElement("h3")).textContent="S√©lectionner une image depuis la m√©diath√®que",o.style.marginBottom="15px",(l=document.createElement("button")).textContent="‚úï",l.style.cssText="\n                          position: absolute;\n                          top: 10px;\n                          right: 10px;\n                          background: none;\n                          border: none;\n                          font-size: 20px;\n                          cursor: pointer;\n                        ",l.onclick=function(){n&&n.parentNode===document.body&&document.body.removeChild(n)},(c=document.createElement("div")).style.cssText="\n                          display: grid;\n                          grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n                          gap: 10px;\n                          margin-top: 15px;\n                        ",a.forEach(function(e){var t=document.createElement("div");t.style.cssText="\n                            border: 2px solid #ddd;\n                            border-radius: 4px;\n                            padding: 5px;\n                            cursor: pointer;\n                            transition: border-color 0.2s;\n                          ",t.onmouseover=function(){return t.style.borderColor="#007cba"},t.onmouseout=function(){return t.style.borderColor="#ddd"};var a=document.createElement("img");a.src=e.source_url,a.style.cssText="\n                            width: 100%;\n                            height: 80px;\n                            object-fit: cover;\n                            border-radius: 2px;\n                          ";var r=document.createElement("div");r.textContent=e.title.rendered.length>15?e.title.rendered.substring(0,15)+"...":e.title.rendered,r.style.cssText="\n                            font-size: 11px;\n                            text-align: center;\n                            margin-top: 5px;\n                            color: #666;\n                          ",t.onclick=function(){H(q.id,"imageUrl",e.source_url),H(q.id,"src",e.source_url),n&&n.parentNode===document.body&&document.body.removeChild(n)},t.appendChild(a),t.appendChild(r),c.appendChild(t)}),r.appendChild(o),r.appendChild(l),r.appendChild(c),n.appendChild(r),document.body.appendChild(n),e.n=4;break;case 3:e.p=3,e.v,alert("Erreur lors de l'acc√®s √† la m√©diath√®que WordPress");case 4:return e.a(2)}},e,null,[[0,3]])}))},"üìÅ M√©diath√®que"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte alternatif:"),React.createElement("input",{type:"text",value:P.alt||"",onChange:function(e){return H(q.id,"alt",e.target.value)},placeholder:"Description de l'image"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Ajustement:"),React.createElement("select",{value:P.objectFit||P.fit||"cover",onChange:function(e){H(q.id,"objectFit",e.target.value),H(q.id,"fit",e.target.value)}},React.createElement("option",{value:"cover"},"Couvrir"),React.createElement("option",{value:"contain"},"Contenir"),React.createElement("option",{value:"fill"},"Remplir"),React.createElement("option",{value:"none"},"Aucun"),React.createElement("option",{value:"scale-down"},"R√©duire")))),"document_type"===q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìã Type de Document"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Type de document:"),React.createElement("select",{value:P.documentType||"invoice",onChange:function(e){return H(q.id,"documentType",e.target.value)}},React.createElement("option",{value:"invoice"},"Facture"),React.createElement("option",{value:"quote"},"Devis"),React.createElement("option",{value:"receipt"},"Re√ßu"),React.createElement("option",{value:"order"},"Commande"),React.createElement("option",{value:"credit_note"},"Avoir"))),React.createElement(D,{elementId:q.id,properties:P,onPropertyChange:H}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Alignement du texte:"),React.createElement("select",{value:P.textAlign||"center",onChange:function(e){return H(q.id,"textAlign",e.target.value)}},React.createElement("option",{value:"left"},"Gauche"),React.createElement("option",{value:"center"},"Centre"),React.createElement("option",{value:"right"},"Droite"))),React.createElement(W,{label:"Couleur du texte",value:P.color,onChange:function(e){return H(q.id,"color",e)},presets:["#1e293b","#334155","#475569","#64748b","#000000","#dc2626","#059669","#7c3aed"],defaultColor:"#333333"}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher la bordure:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:P.showBorder||!1,onChange:function(e){return H(q.id,"showBorder",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),React.createElement(W,{label:"Couleur de fond",value:P.backgroundColor,onChange:function(e){return H(q.id,"backgroundColor",e)},presets:["transparent","#ffffff","#f8fafc","#fef3c7","#ecfdf5","#f0f9ff"]})),"product_table"!==q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"ÔøΩ Contenu"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte/Contenu:"),React.createElement("input",{type:"text",value:P.content||"",onChange:function(e){return H(q.id,"content",e.target.value)},placeholder:"Texte √† afficher"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Format:"),React.createElement("input",{type:"text",value:P.format||"",onChange:function(e){return H(q.id,"format",e.target.value)},placeholder:"Format d'affichage (optionnel)"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Type de document:"),React.createElement("select",{value:P.documentType||"invoice",onChange:function(e){return H(q.id,"documentType",e.target.value)}},React.createElement("option",{value:"invoice"},"Facture"),React.createElement("option",{value:"quote"},"Devis"),React.createElement("option",{value:"receipt"},"Re√ßu"),React.createElement("option",{value:"order"},"Commande"),React.createElement("option",{value:"credit_note"},"Avoir")))),"product_table"!==q.type&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üìã Champs & Options"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Champs √† afficher:"),React.createElement("div",{className:"checkbox-group"},[{key:"name",label:"Nom"},{key:"address",label:"Adresse"},{key:"phone",label:"T√©l√©phone"},{key:"email",label:"Email"},{key:"website",label:"Site web"},{key:"vat",label:"N¬∞ TVA"},{key:"image",label:"Image"},{key:"sku",label:"SKU"},{key:"quantity",label:"Quantit√©"},{key:"price",label:"Prix"},{key:"total",label:"Total"}].map(function(e){var t,a,n=e.key,r=e.label;return React.createElement("label",{key:n,className:"checkbox-item"},React.createElement("input",{type:"checkbox",checked:null!==(t=null===(a=P.fields)||void 0===a?void 0:a.includes(n))&&void 0!==t&&t,onChange:function(e){var t=P.fields||[],a=e.target.checked?[].concat(k(t),[n]):t.filter(function(e){return e!==n});H(q.id,"fields",a)}}),r)}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher l'√©tiquette:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null!==(o=P.showLabel)&&void 0!==o&&o,onChange:function(e){return H(q.id,"showLabel",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),P.showLabel&&React.createElement("div",{className:"property-row"},React.createElement("label",null,"Texte de l'√©tiquette:"),React.createElement("input",{type:"text",value:P.labelText||"",onChange:function(e){return H(q.id,"labelText",e.target.value)},placeholder:"Texte de l'√©tiquette"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher les bordures:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null===(l=P.showBorders)||void 0===l||l,onChange:function(e){return H(q.id,"showBorders",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Afficher les en-t√™tes:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:null!==(c=P.showHeaders)&&void 0!==c&&c,onChange:function(e){return H(q.id,"showHeaders",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"})))));case"effects":return React.createElement("div",{className:"tab-content"},y.includes("opacity")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üåü Transparence & Visibilit√©"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Opacit√©:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"100",value:P.opacity||100,onChange:function(e){return H(q.id,"opacity",O(e.target.value,100))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.opacity||100,"%"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Visibilit√©:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:!1!==P.visible,onChange:function(e){return H(q.id,"visible",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"})))),y.includes("shadows")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"‚ú® Ombres & Effets"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Ombre:"),React.createElement("label",{className:"toggle"},React.createElement("input",{type:"checkbox",checked:P.shadow||!1,onChange:function(e){return H(q.id,"shadow",e.target.checked)}}),React.createElement("span",{className:"toggle-slider"}))),P.shadow&&React.createElement(React.Fragment,null,React.createElement(W,{label:"Couleur ombre",value:P.shadowColor,onChange:function(e){return H(q.id,"shadowColor",e)},presets:["#000000","#374151","#6b7280","#9ca3af"]}),React.createElement("div",{className:"property-row"},React.createElement("label",null,"D√©calage X:"),React.createElement("input",{type:"number",value:P.shadowOffsetX||2,onChange:function(e){return H(q.id,"shadowOffsetX",O(e.target.value,0))},min:"-20",max:"20"})),React.createElement("div",{className:"property-row"},React.createElement("label",null,"D√©calage Y:"),React.createElement("input",{type:"number",value:P.shadowOffsetY||2,onChange:function(e){return H(q.id,"shadowOffsetY",O(e.target.value,0))},min:"-20",max:"20"})))),y.includes("filters")&&React.createElement("div",{className:"properties-group"},React.createElement("h4",null,"üé≠ Filtres visuels"),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Luminosit√©:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"200",value:P.brightness||100,onChange:function(e){return H(q.id,"brightness",O(e.target.value,100))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.brightness||100,"%"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Contraste:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"200",value:P.contrast||100,onChange:function(e){return H(q.id,"contrast",parseInt(e.target.value))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.contrast||100,"%"))),React.createElement("div",{className:"property-row"},React.createElement("label",null,"Saturation:"),React.createElement("div",{className:"slider-container"},React.createElement("input",{type:"range",min:"0",max:"200",value:P.saturate||100,onChange:function(e){return H(q.id,"saturate",parseInt(e.target.value))},className:"slider"}),React.createElement("span",{className:"slider-value"},P.saturate||100,"%")))));default:return null}},[j,q,P,H,t.length]);return React.createElement("div",{className:"properties-panel"},React.createElement("div",{className:"properties-header"},React.createElement("h3",null,"Propri√©t√©s"),q&&React.createElement("div",{className:"element-info"},React.createElement("span",{className:"element-type"},q.type),React.createElement("span",{className:"element-id"},"#",q.id))),L(),React.createElement("div",{className:"properties-content"},V()))});function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach(function(t){I(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,l,c=[],i=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=o.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const H=function(e){var t=e.isOpen,a=e.onClose,r=e.onCreateTemplate,o=G((0,n.useState)({name:"",defaultModel:"Facture",description:"",isPublic:!1,paperFormat:"A4 (210 √ó 297 mm)",orientation:"Portrait",category:"Facture"}),2),l=o[0],c=o[1],i=G((0,n.useState)(!1),2),s=i[0],u=i[1],d=G((0,n.useState)({}),2),m=d[0],p=d[1],f=function(e,t){c(function(a){return F(F({},a),{},I({},e,t))}),m[e]&&p(function(t){return F(F({},t),{},I({},e,""))})};return t?n.createElement("div",{className:"modal-overlay",onClick:a},n.createElement("div",{className:"modal-content new-template-modal",onClick:function(e){return e.stopPropagation()}},n.createElement("div",{className:"modal-header"},n.createElement("h3",null,"Nouveau template"),n.createElement("button",{className:"modal-close",onClick:a},"√ó")),n.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),t={},l.name.trim()||(t.name="Le nom du template est obligatoire"),p(t),0===Object.keys(t).length&&(r(l),a(),c({name:"",defaultModel:"Facture",description:"",isPublic:!1,paperFormat:"A4 (210 √ó 297 mm)",orientation:"Portrait",category:"Facture"}),u(!1))},className:"modal-body"},n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"template-name"},"Nom du template *"),n.createElement("input",{id:"template-name",type:"text",value:l.name,onChange:function(e){return f("name",e.target.value)},className:m.name?"error":"",placeholder:"Ex: Facture Standard"}),m.name&&n.createElement("span",{className:"error-message"},m.name)),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"default-model"},"Mod√®le par d√©faut"),n.createElement("select",{id:"default-model",value:l.defaultModel,onChange:function(e){return f("defaultModel",e.target.value)}},n.createElement("option",{value:"Facture"},"Facture"),n.createElement("option",{value:"Devis"},"Devis"),n.createElement("option",{value:"Bon de commande"},"Bon de commande"),n.createElement("option",{value:"Bon de livraison"},"Bon de livraison"))),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"description"},"Description"),n.createElement("textarea",{id:"description",value:l.description,onChange:function(e){return f("description",e.target.value)},placeholder:"Description du template...",rows:3})),n.createElement("div",{className:"form-group"},n.createElement("button",{type:"button",className:"advanced-toggle",onClick:function(){return u(!s)}},"Param√®tres avanc√©s ",s?"‚ñº":"‚ñ∂")),s&&n.createElement("div",{className:"advanced-settings"},n.createElement("div",{className:"form-group checkbox-group"},n.createElement("label",{className:"checkbox-label"},n.createElement("input",{type:"checkbox",checked:l.isPublic,onChange:function(e){return f("isPublic",e.target.checked)}}),n.createElement("span",null,"Template public (visible par tous les utilisateurs)"))),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"paper-format"},"Format de papier"),n.createElement("select",{id:"paper-format",value:l.paperFormat,onChange:function(e){return f("paperFormat",e.target.value)}},n.createElement("option",{value:"A4 (210 √ó 297 mm)"},"A4 (210 √ó 297 mm)"),n.createElement("option",{value:"A5 (148 √ó 210 mm)"},"A5 (148 √ó 210 mm)"),n.createElement("option",{value:"Lettre (8.5 √ó 11 pouces)"},"Lettre (8.5 √ó 11 pouces)"),n.createElement("option",{value:"Legal (8.5 √ó 14 pouces)"},"Legal (8.5 √ó 14 pouces)"))),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"orientation"},"Orientation"),n.createElement("select",{id:"orientation",value:l.orientation,onChange:function(e){return f("orientation",e.target.value)}},n.createElement("option",{value:"Portrait"},"Portrait"),n.createElement("option",{value:"Paysage"},"Paysage"))),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"category"},"Cat√©gorie"),n.createElement("select",{id:"category",value:l.category,onChange:function(e){return f("category",e.target.value)}},n.createElement("option",{value:"Facture"},"Facture"),n.createElement("option",{value:"Devis"},"Devis"),n.createElement("option",{value:"Bon de commande"},"Bon de commande"),n.createElement("option",{value:"Bon de livraison"},"Bon de livraison"),n.createElement("option",{value:"Re√ßu"},"Re√ßu"),n.createElement("option",{value:"Autre"},"Autre")))),n.createElement("div",{className:"modal-footer"},n.createElement("button",{type:"button",className:"btn-secondary",onClick:a},"Annuler"),n.createElement("button",{type:"submit",className:"btn-primary"},"Ouvrir le template"))))):null};function L(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function o(a,n,r,o){var i=n&&n.prototype instanceof c?n:c,s=Object.create(i.prototype);return V(s,"_invoke",function(a,n,r){var o,c,i,s=0,u=r||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,a){return o=t,c=0,i=e,m.n=a,l}};function p(a,n){for(c=a,i=n,t=0;!d&&s&&!r&&t<u.length;t++){var r,o=u[t],p=m.p,f=o[2];a>3?(r=f===n)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=a<2&&p<o[1])?(c=0,m.v=n,m.n=o[1]):p<f&&(r=a<3||o[0]>n||n>f)&&(o[4]=a,o[5]=n,m.n=f,c=0))}if(r||a>1)return l;throw d=!0,n}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,i=f;(t=c<2?e:i)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,i)):m.n=i:m.v=i);try{if(s=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(d=m.n<0)?i:a.call(n,m))!==l)break}catch(t){o=e,c=1,i=t}finally{s=1}}return{value:t,done:d}}}(a,r,o),!0),s}var l={};function c(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(V(t={},n,function(){return this}),t),d=s.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,V(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=s,V(d,"constructor",s),V(s,"constructor",i),i.displayName="GeneratorFunction",V(s,r,"GeneratorFunction"),V(d),V(d,r,"Generator"),V(d,n,function(){return this}),V(d,"toString",function(){return"[object Generator]"}),(L=function(){return{w:o,m}})()}function V(e,t,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}V=function(e,t,a,n){function o(t,a){V(e,t,function(e){return this._invoke(t,a,e)})}t?r?r(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a:(o("next",0),o("throw",1),o("return",2))},V(e,t,a,n)}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function Y(e,t,a,n,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void a(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function X(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var o=e.apply(t,a);function l(e){Y(o,n,r,l,c,"next",e)}function c(e){Y(o,n,r,l,c,"throw",e)}l(void 0)})}}function Z(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach(function(t){Q(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Q(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,l,c=[],i=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=o.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw r}}return c}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var ae=(0,n.forwardRef)(function(e,t){var a=e.options,l=$((0,n.useState)("select"),2),c=l[0],f=l[1],b=$((0,n.useState)(!1),2),v=b[0],y=b[1],E=$((0,n.useState)(!1),2),R=E[0],w=E[1],x=$((0,n.useState)({x:0,y:0}),2),N=x[0],C=x[1],k=$((0,n.useState)(!1),2),S=k[0],T=k[1],_=$((0,n.useState)({x:0,y:0}),2),A=_[0],z=_[1],B=$((0,n.useState)({horizontal:[],vertical:[]}),2),O=B[0],W=B[1],D=$((0,n.useState)(!1),2),j=(D[0],D[1],$((0,n.useState)(null),2)),M=(j[0],j[1],(0,d.k)()),F=(0,n.useCallback)(function(e){M.settings.lockGuides||W(function(t){return K(K({},t),{},{horizontal:[].concat(Z(t.horizontal),[e]).sort(function(e,t){return e-t})})})},[M.settings.lockGuides]),I=(0,n.useCallback)(function(e){M.settings.lockGuides||W(function(t){return K(K({},t),{},{vertical:[].concat(Z(t.vertical),[e]).sort(function(e,t){return e-t})})})},[M.settings.lockGuides]),G=(0,n.useCallback)(function(e,t){M.settings.lockGuides||W(function(a){return K(K({},a),{},Q({},e,a[e].filter(function(e){return e!==t})))})},[M.settings.lockGuides]),q=a.orderData||{invoice_number:"INV-001",invoice_date:"15/10/2025",order_number:"#12345",order_date:"15/10/2025",customer_name:"John Doe",customer_email:"john.doe@example.com",billing_address:"123 Rue de Test\n75001 Paris\nFrance",shipping_address:"456 Rue de Livraison\n75002 Paris\nFrance",payment_method:"Carte bancaire",order_status:"Trait√©e",subtotal:"45,00 ‚Ç¨",discount:"-5,00 ‚Ç¨",shipping:"5,00 ‚Ç¨",tax:"9,00 ‚Ç¨",total:"54,00 ‚Ç¨",refund:"0,00 ‚Ç¨",fees:"1,50 ‚Ç¨",quote_number:"QUO-001",quote_date:"15/10/2025",quote_validity:"30 jours",quote_notes:"Conditions sp√©ciales : paiement √† 30 jours.",products:[{name:"Produit Test 1",quantity:1,price:"25,00 ‚Ç¨",total:"25,00 ‚Ç¨"},{name:"Produit Test 2",quantity:2,price:"10,00 ‚Ç¨",total:"20,00 ‚Ç¨"}]},V=(0,s.v)({initialElements:a.initialElements||[],templateId:a.templateId||null,canvasWidth:a.width||595,canvasHeight:a.height||842,globalSettings:M.settings}),Y=(0,n.useCallback)(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Modifier √©l√©ment",n=V.getAllElements();V.history.addToHistory(n,a),V.updateElement(e,t)},[V]),J=(0,n.useCallback)(function(){V.undo()},[V]),ee=(0,n.useCallback)(function(){V.redo()},[V]),te=(0,n.useCallback)(function(e){alert('Template "'.concat(e.name,'" cr√©√© avec succ√®s!\n\nMod√®le: ').concat(e.defaultModel,"\nFormat: ").concat(e.paperFormat,"\nOrientation: ").concat(e.orientation,"\nCat√©gorie: ").concat(e.category))},[]),ae=(0,n.useCallback)(function(e){M.updateSettings({showGrid:e})},[M]),ne=(0,n.useCallback)(function(e){M.updateSettings({snapToGrid:e})},[M]),re=(0,n.useRef)(null),oe=(0,n.useRef)(null),le=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,function(){return{getElements:function(){return V.getAllElements()},getRenderedHtml:function(){return"<div>HTML rendering not yet implemented</div>"}}},[V]);var ce=(0,o.g)({onElementMove:function(e,t){Y(e,t,"D√©placer √©l√©ment")},onElementDrop:function(e,t){Y(e,t,"D√©poser √©l√©ment")},snapToGrid:M.settings.snapToGrid,gridSize:M.settings.gridSize,zoom:V.zoom.zoom,canvasWidth:V.canvasWidth,canvasHeight:V.canvasHeight,guides:O,snapToGuides:M.settings.snapToElements});(0,u.K)({onDelete:V.deleteSelectedElements,onCopy:V.copySelectedElements,onPaste:V.pasteElements,onUndo:J,onRedo:ee,onSave:V.saveTemplate,onZoomIn:V.zoom.zoomIn,onZoomOut:V.zoom.zoomOut});var ie=(0,n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.addElement(e,t),f("select")},[V]),se=(0,n.useCallback)(function(e,t){var a=(null==t?void 0:t.ctrlKey)||(null==t?void 0:t.metaKey);V.selection.selectElement(e,a)},[V.selection]),ue=((0,n.useCallback)(X(L().m(function e(){var t,a,n,r,o,l,c,i,s,u;return L().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,0!==(n=V.getAllElements()).length){e.n=1;break}return alert("Aucun √©l√©ment √† imprimer. Ajoutez des √©l√©ments au canvas d'abord."),e.a(2);case 1:e.p=1,r=JSON.stringify(n),e.n=5;break;case 2:e.p=2,e.v,e.p=3,o=n.map(function(e){var t=K({},e);return Object.keys(t).forEach(function(e){("function"==typeof t[e]||void 0===t[e]||"object"===U(t[e])&&null!==t[e]&&!Array.isArray(t[e]))&&("string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e]||Array.isArray(t[e])||delete t[e])}),t}),r=JSON.stringify(o),e.n=5;break;case 4:return e.p=4,e.v,alert("Erreur critique lors de la pr√©paration des donn√©es. Veuillez recharger la page et r√©essayer."),e.a(2);case 5:return(l=new FormData).append("action","pdf_builder_generate_pdf"),l.append("nonce",null===(t=window.pdfBuilderAjax)||void 0===t?void 0:t.nonce),l.append("elements",r),e.n=6,fetch(null===(a=window.pdfBuilderAjax)||void 0===a?void 0:a.ajaxurl,{method:"POST",body:l});case 6:if((c=e.v).ok){e.n=7;break}throw new Error("Erreur HTTP: ".concat(c.status));case 7:return e.n=8,c.json();case 8:if(!(i=e.v).success){e.n=9;break}e.n=10;break;case 9:throw new Error((null===(s=i.data)||void 0===s?void 0:s.message)||"Erreur lors de la g√©n√©ration du PDF");case 10:e.n=12;break;case 11:e.p=11,u=e.v,alert("Erreur lors de la g√©n√©ration du PDF: "+u.message);case 12:return e.a(2)}},e,null,[[3,4],[1,2],[0,11]])})),[V]),(0,n.useCallback)(function(e){if(e.ctrlKey&&M.settings.showGuides&&!M.settings.lockGuides){var t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top,r=(a-N.x)/V.zoom.zoom,o=(n-N.y)/V.zoom.zoom,l=V.canvasWidth/2,i=V.canvasHeight/2;Math.abs(r-l)<Math.abs(o-i)?F(Math.round(o)):I(Math.round(r))}else{if(!e.target.closest("[data-element-id]")){if(c.startsWith("add-")){var s=e.currentTarget.getBoundingClientRect(),u=e.clientX-s.left,d=e.clientY-s.top,m=u/V.zoom.zoom,p=d/V.zoom.zoom,b="text",g={};switch(c){case"add-text":b="text";break;case"add-text-title":b="text",g={fontSize:24,fontWeight:"bold"};break;case"add-text-subtitle":b="text",g={fontSize:18,fontWeight:"bold"};break;case"add-rectangle":b="rectangle";break;case"add-circle":b="shape-circle";break;case"add-line":b="line";break;case"add-arrow":b="shape-arrow";break;case"add-triangle":b="shape-triangle";break;case"add-star":b="shape-star";break;case"add-divider":b="divider";break;case"add-image":b="image";break;default:c.startsWith("add-")&&(b=c.replace("add-",""))}return V.addElement(b,K({x:Math.max(0,m-50),y:Math.max(0,p-25)},g)),void f("select")}V.selection.clearSelection()}}},[V,c])),de=(0,n.useCallback)(function(e,t,a){var n=V.getElementById(e);if(n){var r={};if(t.includes(".")){var o=function(e,t,a){for(var n=t.split("."),r=n.pop(),o=K({},e),l=o,c=0;c<n.length-1;c++){var i=n[c];l[i]&&"object"===U(l[i])?l[i]=K({},l[i]):l[i]={},l=l[i]}var s=n[n.length-1];return s?(l[s]&&"object"===U(l[s])?l[s]=K({},l[s]):l[s]={},l[s][r]=a):l[r]=a,o}(n,t,a);Object.assign(r,o)}else r[t]=a;Y(e,r,"Modifier ".concat(t))}},[V,Y]),me=(0,n.useCallback)(function(e){e.forEach(function(e){var t=e.elementId,a=e.property,n=e.value;V.updateElement(t,Q({},a,n))})},[V]),pe=(0,n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault();var a=[];t?V.getElementById(t)&&a.push({label:"Copier",action:function(){return V.copySelectedElements()}},{label:"Dupliquer",action:function(){return V.duplicateElement(t)}},{type:"separator"},{label:"Supprimer",action:function(){return V.deleteElement(t)}}):(V.selection.selectedElements.length>0&&a.push({label:"Copier",action:function(){return V.copySelectedElements()}},{label:"Dupliquer",action:function(){return V.duplicateSelectedElements()}},{type:"separator"},{label:"Supprimer",action:function(){return V.deleteSelectedElements()}}),a.push({type:"separator"},{label:"Coller",action:function(){return V.pasteElements()}},{type:"separator"},{label:"Tout s√©lectionner",action:function(){return V.selectAll()}},{label:"D√©s√©lectionner",action:function(){return V.selection.clearSelection()}}));V.showContextMenu(e.clientX,e.clientY,a)},[V]),fe=(0,n.useCallback)(function(e){"function"==typeof e&&e()},[]),be=(0,n.useCallback)(function(){if(S)return"grabbing";switch(c){case"select":default:return"default";case"add-text":case"add-text-title":case"add-text-subtitle":return"text";case"add-rectangle":case"add-circle":case"add-line":case"add-arrow":case"add-triangle":case"add-star":case"add-divider":case"add-image":return"crosshair"}},[c,S]),ge=(0,n.useCallback)(function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},[]),he=(0,n.useCallback)(function(e){e.preventDefault();try{var t=e.dataTransfer.getData("application/json");if(!t||""===t.trim())return;var a=JSON.parse(t);if("new-element"===a.type){var n=e.currentTarget.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top,l=r/V.zoom.zoom,c=o/V.zoom.zoom;V.addElement(a.elementType,K({x:Math.max(0,l-50),y:Math.max(0,c-25)},a.defaultProps))}}catch(i){i instanceof SyntaxError&&e.dataTransfer.getData("application/json")}},[V]),ve=(0,n.useCallback)(function(e){if(M.settings.zoomWithWheel){e.preventDefault();var t=1+M.settings.zoomStep/100,a=e.deltaY>0?-1:1,n=le.current;if(n){var r=n.getBoundingClientRect(),o=e.clientX-r.left,l=e.clientY-r.top,c=a>0?t:1/t;V.zoom.zoomToPoint(o,l,c)}}},[M.settings.zoomWithWheel,M.settings.zoomStep,V.zoom]);(0,n.useEffect)(function(){var e=le.current;if(e&&M.settings.zoomWithWheel){var t=function(e){ve(e)};return e.addEventListener("wheel",t,{passive:!1}),function(){e.removeEventListener("wheel",t)}}},[ve,M.settings.zoomWithWheel]);var ye=(0,n.useCallback)(function(e){M.settings.panWithMouse&&(1===e.button||0===e.button&&e.altKey)&&(e.preventDefault(),T(!0),z({x:e.clientX,y:e.clientY}))},[M.settings.panWithMouse]),Ee=(0,n.useCallback)(function(e){if(S){var t=e.clientX-A.x,a=e.clientY-A.y;C(function(e){return{x:e.x+t,y:e.y+a}}),z({x:e.clientX,y:e.clientY})}},[S,A]),Re=(0,n.useCallback)(function(){T(!1)},[]),we=(0,n.useCallback)(function(e){M.settings.zoomToSelection&&(e.target.closest("[data-element-id]")||V.selection.selectedElements.length>0&&V.zoomToSelection())},[M.settings.zoomToSelection,V]);return n.createElement("div",{className:"pdf-canvas-editor",ref:re},n.createElement("header",{className:"editor-header"},n.createElement("h2",null,"√âditeur PDF - ",a.isNew?"Nouveau Template":a.templateName),n.createElement("nav",{className:"editor-actions"},n.createElement("button",{className:"btn btn-outline",onClick:function(){return y(!0)},title:"Cr√©er un nouveau template"},"‚ûï Nouveau template"),n.createElement("button",{className:"btn btn-primary",onClick:function(){return V.saveTemplate()},disabled:V.isSaving},V.isSaving?"‚è≥ Sauvegarde...":a.isNew?"üíæ Sauvegarder":"‚úèÔ∏è Modifier"))),n.createElement(i,{selectedTool:c,onToolSelect:f,zoom:V.zoom.zoom,onZoomChange:V.zoom.setZoomLevel,showGrid:M.settings.showGrid,onShowGridChange:ae,snapToGrid:M.settings.snapToGrid,onSnapToGridChange:ne,onUndo:J,onRedo:ee,canUndo:V.history.canUndo(),canRedo:V.history.canRedo()}),n.createElement("main",{className:"editor-workspace"},n.createElement("aside",{className:"editor-sidebar left-sidebar"},n.createElement(h.A,{onAddElement:ie,selectedTool:c,onToolSelect:f})),n.createElement("section",{className:"canvas-section",ref:le,onContextMenu:pe,onDragOver:ge,onDrop:he,onMouseDown:ye,onMouseMove:Ee,onMouseUp:Re,onMouseLeave:Re,onDoubleClick:we,style:{cursor:be(),backgroundColor:M.settings.containerShowTransparency?"transparent":M.settings.containerBackgroundColor||"#f8f9fa",backgroundImage:M.settings.containerShowTransparency?"linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%)":"none",backgroundSize:M.settings.containerShowTransparency?"20px 20px":"auto",backgroundPosition:M.settings.containerShowTransparency?"0 0, 0 10px, 10px -10px, -10px 0px":"0 0"}},n.createElement("div",{className:"canvas-zoom-wrapper",style:{transform:"translate(".concat(N.x,"px, ").concat(N.y,"px) scale(").concat(V.zoom.zoom,")"),transformOrigin:"center",cursor:S?"grabbing":"default",transition:M.settings.smoothZoom?"transform 0.2s ease-out":"none",willChange:M.settings.enableHardwareAcceleration?"transform":"auto"}},n.createElement("div",{className:"canvas",ref:oe,onClick:ue,style:{width:V.canvasWidth,height:"auto",minHeight:V.canvasHeight,position:"relative",backgroundColor:M.settings.canvasShowTransparency?"transparent":M.settings.canvasBackgroundColor||"#ffffff",backgroundImage:M.settings.canvasShowTransparency?"linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%)":"none",backgroundSize:M.settings.canvasShowTransparency?"20px 20px":"auto",backgroundPosition:M.settings.canvasShowTransparency?"0 0, 0 10px, 10px -10px, -10px 0px":"0 0"}},M.settings.showGrid&&n.createElement("div",{className:"canvas-grid",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"\n                      linear-gradient(to right, ".concat(M.settings.gridColor).concat(Math.round(2.55*M.settings.gridOpacity).toString(16).padStart(2,"0")," 1px, transparent 1px),\n                      linear-gradient(to bottom, ").concat(M.settings.gridColor).concat(Math.round(2.55*M.settings.gridOpacity).toString(16).padStart(2,"0")," 1px, transparent 1px)\n                    "),backgroundSize:"".concat(M.settings.gridSize,"px ").concat(M.settings.gridSize,"px"),pointerEvents:"none",zIndex:1}}),M.settings.showGuides&&n.createElement("div",{className:"canvas-guides"},O.horizontal.map(function(e,t){return n.createElement("div",{key:"h-guide-".concat(t),className:"canvas-guide horizontal-guide",onClick:function(t){t.stopPropagation(),M.settings.lockGuides||G("horizontal",e)},style:{position:"absolute",top:"".concat(e,"px"),left:0,width:"100%",height:"2px",backgroundColor:"#007cba",cursor:M.settings.lockGuides?"default":"pointer",zIndex:2,opacity:.7},title:"Guide horizontal √† ".concat(e,"px - ").concat(M.settings.lockGuides?"Verrouill√©":"Cliquer pour supprimer")})}),O.vertical.map(function(e,t){return n.createElement("div",{key:"v-guide-".concat(t),className:"canvas-guide vertical-guide",onClick:function(t){t.stopPropagation(),M.settings.lockGuides||G("vertical",e)},style:{position:"absolute",top:0,left:"".concat(e,"px"),height:"100%",width:"2px",backgroundColor:"#007cba",cursor:M.settings.lockGuides?"default":"pointer",zIndex:2,opacity:.7},title:"Guide vertical √† ".concat(e,"px - ").concat(M.settings.lockGuides?"Verrouill√©":"Cliquer pour supprimer")})})),V.elements.filter(function(e){return!e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(r.H,{key:e.id,element:e,isSelected:V.selection.selectedElements.includes(e.id),zoom:1,snapToGrid:M.settings.snapToGrid,gridSize:M.settings.gridSize,canvasWidth:V.canvasWidth,canvasHeight:V.canvasHeight,onSelect:function(){return se(e.id)},onUpdate:function(t){return V.updateElement(e.id,t)},onRemove:function(){return V.deleteElement(e.id)},onContextMenu:function(t){return pe(t,e.id)},dragAndDrop:ce,enableRotation:M.settings.enableRotation,rotationStep:M.settings.rotationStep,rotationSnap:M.settings.rotationSnap,guides:O,snapToGuides:M.settings.snapToElements})}),V.elements.filter(function(e){return e.type.startsWith("woocommerce-")}).map(function(e){return n.createElement(g,{key:e.id,element:e,isSelected:V.selection.selectedElements.includes(e.id),onSelect:se,onUpdate:V.updateElement,dragAndDrop:ce,zoom:1,canvasWidth:V.canvasWidth,canvasHeight:V.canvasHeight,orderData:q,onContextMenu:function(t){return pe(t,e.id)},snapToGrid:M.settings.snapToGrid,gridSize:M.settings.gridSize,guides:O,snapToGuides:M.settings.snapToElements})})))),n.createElement("aside",{className:"editor-sidebar right-sidebar ".concat(R?"collapsed":"")},!R&&n.createElement(P,{selectedElements:V.selection.selectedElements,elements:V.elements,onPropertyChange:de,onBatchUpdate:me}))),n.createElement("button",{className:"sidebar-toggle-fixed",onClick:function(){return w(!R)},title:R?"Agrandir le panneau":"R√©duire le panneau",style:{position:"fixed",top:"50%",right:R?"0px":"350px",transform:"translateY(-50%)",zIndex:999999}},R?"‚óÄ":"‚ñ∂"),V.contextMenu.contextMenu&&n.createElement(p.A,{menu:V.contextMenu.contextMenu,onAction:fe,isAnimating:V.contextMenu.isAnimating||!1,onClose:V.contextMenu.hideContextMenu}),n.createElement("footer",{className:"editor-status"},n.createElement("span",null,"√âl√©ments: ",V.elements.length),n.createElement("span",null,"|"),M.settings.showZoomIndicator&&n.createElement(n.Fragment,null,n.createElement("span",null,"Zoom: ",Math.round(100*V.zoom.zoom),"%"),n.createElement("span",null,"|")),n.createElement("span",null,"Outil: ",c),V.selection.selectedElements.length>0&&n.createElement(n.Fragment,null,n.createElement("span",null,"|"),n.createElement("span",null,"√âl√©ments s√©lectionn√©s: ",V.selection.selectedElements.length))),n.createElement(H,{isOpen:v,onClose:function(){return y(!1)},onCreateTemplate:te}),n.createElement(m.o,{showFps:M.settings.showFps}))});ae.displayName="PDFCanvasEditor"}}]);