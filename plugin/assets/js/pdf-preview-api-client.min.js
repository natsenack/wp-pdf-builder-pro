"use strict";(Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2=Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2||[]).push([[297],{151(e,n,t){var r;t.r(n),r=jQuery,window.pdfPreviewApiClient={generatePreview:function(e,n){const t=new FormData;return t.append("action","pdf_builder_generate_preview"),t.append("template_data",JSON.stringify(e.template_data)),t.append("preview_type",e.context||"editor"),t.append("format",e.format||"png"),t.append("quality",(e.quality||150).toString()),e.template_id&&t.append("template_id",e.template_id.toString()),e.order_id&&t.append("order_id",e.order_id.toString()),t.append("_wpnonce",window.pdfBuilderAjax?.nonce||""),r.ajax({url:ajaxurl||"/wp-admin/admin-ajax.php",type:"POST",data:t,processData:!1,contentType:!1,success:function(e){if(e&&"object"==typeof e&&e.data,"string"==typeof e)try{e=JSON.parse(e)}catch(e){}n&&n(null,e)},error:function(e,t,r){n&&n(r,null)}})},getPreviewStatus:function(e,n){const t=new FormData;return t.append("action","pdf_builder_get_preview_status"),t.append("preview_id",e),t.append("_wpnonce",window.pdfBuilderAjax?.nonce||""),r.ajax({url:ajaxurl||"/wp-admin/admin-ajax.php",type:"POST",data:t,processData:!1,contentType:!1,success:function(e){n&&n(null,e)},error:function(e,t,r){n&&n(r,null)}})}},window.pdfPreviewAPI={generateEditorPreview:function(e,n){return new Promise(function(t,r){window.pdfPreviewApiClient&&window.pdfPreviewApiClient.generatePreview?window.pdfPreviewApiClient.generatePreview({template_data:e,context:"editor",format:n?.format||"png",quality:n?.quality||150},function(e,n){e?r(new Error(e)):t(n)}):r(new Error("pdfPreviewApiClient.generatePreview not available"))})},generateOrderPreview:function(e,n,t){return new Promise(function(r,i){window.pdfPreviewApiClient.generatePreview({template_data:e,order_id:n,context:"metabox",format:t?.format||"png",quality:t?.quality||150},function(e,n){e?i(new Error(e)):r(n)})})}}}},e=>{var n=e(e.s=151),t=window;for(var r in n)t[r]=n[r];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})}]);