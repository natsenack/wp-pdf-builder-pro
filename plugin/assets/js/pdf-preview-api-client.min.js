"use strict";(Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2=Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2||[]).push([[297],{151(e,t,n){var r;n.r(t),r=jQuery,window.pdfPreviewApiClient={generatePreview:function(e,t){const n=new FormData;return n.append("action","pdf_builder_generate_preview"),n.append("template_data",JSON.stringify(e.template_data)),n.append("preview_type",e.context||"editor"),n.append("format",e.format||"png"),n.append("quality",(e.quality||150).toString()),e.template_id&&n.append("template_id",e.template_id.toString()),e.order_id&&n.append("order_id",e.order_id.toString()),n.append("_wpnonce",window.pdfBuilderAjax?.nonce||""),r.ajax({url:ajaxurl||"/wp-admin/admin-ajax.php",type:"POST",data:n,processData:!1,contentType:!1,success:function(e){if(e&&"object"==typeof e&&e.data,"string"==typeof e)try{e=JSON.parse(e)}catch(e){}t&&t(null,e)},error:function(e,n,r){t&&t(r,null)}})},getPreviewStatus:function(e,t){const n=new FormData;return n.append("action","pdf_builder_get_preview_status"),n.append("preview_id",e),n.append("_wpnonce",window.pdfBuilderAjax?.nonce||""),r.ajax({url:ajaxurl||"/wp-admin/admin-ajax.php",type:"POST",data:n,processData:!1,contentType:!1,success:function(e){t&&t(null,e)},error:function(e,n,r){t&&t(r,null)}})}},window.pdfPreviewAPI={generateEditorPreview:function(e,t){return new Promise(function(n,r){window.pdfPreviewApiClient&&window.pdfPreviewApiClient.generatePreview?window.pdfPreviewApiClient.generatePreview({template_data:e,template_id:e?.template_id||null,context:"editor",format:t?.format||"png",quality:t?.quality||150},function(e,t){e?r(new Error(e)):n(t)}):r(new Error("pdfPreviewApiClient.generatePreview not available"))})},generateOrderPreview:function(e,t,n){return new Promise(function(r,i){window.pdfPreviewApiClient.generatePreview({template_data:e,order_id:t,context:"metabox",format:n?.format||"png",quality:n?.quality||150},function(e,t){e?i(new Error(e)):r(t)})})}}}},e=>{var t=e(e.s=151),n=window;for(var r in t)n[r]=t[r];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})}]);