"use strict";(Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2=Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2||[]).push([[835],{932(e,a,t){t.r(a),function(e){function a(e,a){"undefined"!=typeof showPdfBuilderNotification?showPdfBuilderNotification(e,a):alert(e)}e(document).ready(function(){window.pdf_builder_canvas_settings,e(".canvas-modal-apply").on("click",function(t){t.preventDefault();var n=e(this),o=(n.data("category"),n.closest(".canvas-modal-overlay")),i=(o.attr("id"),o.find("form"));if(0===i.length){var r=new FormData;o.find("input, select, textarea").each(function(){var a=e(this),t=a.attr("name"),n=a.attr("type"),o=a.val(),i=a.prop("checked"),s=a.prop("disabled");if(t&&!s)if("checkbox"===n){if(i)if(t.endsWith("[]")){var c=t.slice(0,-2);r.has(c)||r.set(c,[]);var d=r.get(c);Array.isArray(d)&&(d.push(o),r.set(c,d))}else r.append(t,o)}else"radio"===n?i&&r.append(t,o):r.append(t,o)});for(let[e,a]of r.entries());r.append("action","pdf_builder_save_canvas_settings"),r.append("nonce",pdf_builder_canvas_settings.nonce||""),n.prop("disabled",!0).text("⏳ Sauvegarde..."),e.ajax({url:pdf_builder_canvas_settings.ajax_url||ajaxurl,type:"POST",data:r,processData:!1,contentType:!1,success:function(e){e.success?(a("Paramètres canvas sauvegardés avec succès !","success"),o.hide(),setTimeout(function(){window.location.reload()},1e3)):a("Erreur lors de la sauvegarde : "+(e.data||"Erreur inconnue"),"error")},error:function(e,t,n){a("Erreur AJAX : "+n,"error")},complete:function(){n.prop("disabled",!1).text("✅ Appliquer")}})}else i.submit()}),e(".canvas-modal-cancel").on("click",function(a){a.preventDefault(),e(this).closest(".canvas-modal-overlay").hide()}),e(".canvas-modal-close").on("click",function(a){a.preventDefault(),e(this).closest(".canvas-modal-overlay").hide()}),e(".canvas-modal-overlay").on("click",function(a){a.target===this&&(e(this),e(this).hide())}),e(document).on("click","[data-modal], .open-modal, .modal-trigger",function(e){}),e(".canvas-modal-overlay").each(function(){var a=e(this);a.attr("id"),new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&"style"===e.attributeName&&a.css("display")})}).observe(a[0],{attributes:!0,attributeFilter:["style"]})})})}(jQuery)}},e=>{var a=e(e.s=932),t=window;for(var n in a)t[n]=a[n];a.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})}]);