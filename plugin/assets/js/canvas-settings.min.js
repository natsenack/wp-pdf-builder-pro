"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] = Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] || []).push([[835],{

/***/ 932
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/**\r\n * PDF Builder Canvas Settings JavaScript\r\n */\r\n\r\n// LOG ABSOLU AU DÃ‰BUT - AVANT TOUT\r\nconsole.log('ðŸ”¥ðŸ”¥ðŸ”¥ CANVAS-SETTINGS.JS - FICHIER CHARGÃ‰ IMMÃ‰DIATEMENT ðŸ”¥ðŸ”¥ðŸ”¥');\r\nconsole.log('â° Timestamp absolu:', Date.now());\r\n\r\n// LOG AVEC DÃ‰LAI - POUR VOIR SI LE SCRIPT S'EXÃ‰CUTE PLUS TARD\r\nsetTimeout(function() {\r\n    console.log('â³â³â³ CANVAS-SETTINGS.JS - EXÃ‰CUTÃ‰ APRÃˆS 1 SECONDE â³â³â³');\r\n    console.log('â° Timestamp aprÃ¨s dÃ©lai:', Date.now());\r\n}, 1000);\r\n\r\n// LOG AVEC DÃ‰LAI PLUS LONG\r\nsetTimeout(function() {\r\n    console.log('ðŸŒðŸŒðŸŒ CANVAS-SETTINGS.JS - EXÃ‰CUTÃ‰ APRÃˆS 5 SECONDES ðŸŒðŸŒðŸŒ');\r\n    console.log('â° Timestamp aprÃ¨s 5s:', Date.now());\r\n}, 5000);\r\n\r\n(function($) {\r\n    'use strict';\r\n\r\n    // LOG DE TEST - Fichier chargÃ©\r\n    console.log('ðŸš€ðŸš€ðŸš€ CANVAS-SETTINGS.JS CHARGÃ‰ ET EXÃ‰CUTÃ‰ ðŸš€ðŸš€ðŸš€');\r\n    console.log('â° Timestamp de chargement:', new Date().toISOString());\r\n\r\n    console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Loading...');\r\n\r\n    // Initialize canvas settings functionality\r\n    $(document).ready(function() {\r\n        console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Document Ready');\r\n        console.log('â° Timestamp:', new Date().toISOString());\r\n\r\n        // Add any canvas-specific initialization here\r\n        if (typeof window.pdf_builder_canvas_settings !== 'undefined') {\r\n            console.log('âœ… Canvas settings initialized successfully!');\r\n            console.log('ðŸ”§ Localized variables:', window.pdf_builder_canvas_settings);\r\n        } else {\r\n            console.log('âŒ Canvas settings variables not found!');\r\n            console.log('ðŸ” Available window properties:', Object.keys(window).filter(key => key.includes('pdf_builder')));\r\n        }\r\n\r\n        // Handle modal apply buttons\r\n        $('.canvas-modal-apply').on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            console.log('=== CANVAS MODAL APPLY STARTED ===');\r\n            console.log('Timestamp:', new Date().toISOString());\r\n\r\n            var $button = $(this);\r\n            var category = $button.data('category');\r\n            var $modal = $button.closest('.canvas-modal-overlay');\r\n            var modalId = $modal.attr('id') || 'unknown-modal';\r\n\r\n            console.log('ðŸŽ¯ Modal Category:', category);\r\n            console.log('ðŸŽ¯ Modal ID:', modalId);\r\n            console.log('ðŸŽ¯ Modal Element:', $modal);\r\n\r\n            var $form = $modal.find('form');\r\n\r\n            console.log('ðŸ“‹ Form found:', $form.length > 0);\r\n            console.log('ðŸ”§ Available variables:', {\r\n                ajaxurl: typeof ajaxurl !== 'undefined' ? ajaxurl : 'undefined',\r\n                pdf_builder_ajax: typeof pdf_builder_ajax !== 'undefined' ? pdf_builder_ajax : 'undefined',\r\n                pdf_builder_canvas_settings: typeof pdf_builder_canvas_settings !== 'undefined' ? pdf_builder_canvas_settings : 'undefined'\r\n            });\r\n\r\n            // If no form, create one from modal inputs\r\n            if ($form.length === 0) {\r\n                console.log('ðŸ“ No form found, collecting inputs manually...');\r\n\r\n                var formData = new FormData();\r\n                var inputCount = 0;\r\n                var inputs = $modal.find('input, select, textarea');\r\n\r\n                console.log('ðŸ“Š Found', inputs.length, 'input elements to process');\r\n\r\n                // Collect all inputs from the modal\r\n                inputs.each(function() {\r\n                    var $input = $(this);\r\n                    var name = $input.attr('name');\r\n                    var type = $input.attr('type');\r\n                    var value = $input.val();\r\n                    var checked = $input.prop('checked');\r\n                    var disabled = $input.prop('disabled');\r\n\r\n                    console.log('ðŸ” Processing input:', {\r\n                        name: name,\r\n                        type: type,\r\n                        value: value,\r\n                        checked: checked,\r\n                        disabled: disabled,\r\n                        element: $input\r\n                    });\r\n\r\n                    if (name && !disabled) {\r\n                        inputCount++;\r\n                        if (type === 'checkbox') {\r\n                            if (checked) {\r\n                                if (name.endsWith('[]')) {\r\n                                    // Handle array inputs\r\n                                    var arrayName = name.slice(0, -2);\r\n                                    console.log('ðŸ“¦ Array input detected:', arrayName);\r\n                                    if (!formData.has(arrayName)) {\r\n                                        formData.set(arrayName, []);\r\n                                    }\r\n                                    var currentValues = formData.get(arrayName);\r\n                                    if (Array.isArray(currentValues)) {\r\n                                        currentValues.push(value);\r\n                                        formData.set(arrayName, currentValues);\r\n                                        console.log('âž• Added to array', arrayName + ':', currentValues);\r\n                                    }\r\n                                } else {\r\n                                    formData.append(name, value);\r\n                                    console.log('âœ… Checkbox added:', name + '=', value);\r\n                                }\r\n                            } else {\r\n                                console.log('âŒ Checkbox not checked, skipped:', name);\r\n                            }\r\n                        } else if (type === 'radio') {\r\n                            if (checked) {\r\n                                formData.append(name, value);\r\n                                console.log('ðŸ“» Radio selected:', name + '=', value);\r\n                            } else {\r\n                                console.log('ðŸ“» Radio not selected, skipped:', name);\r\n                            }\r\n                        } else {\r\n                            formData.append(name, value);\r\n                            console.log('ðŸ“ Input added:', name + '=', value);\r\n                        }\r\n                    } else {\r\n                        console.log('âš ï¸ Input skipped:', { name: name, disabled: disabled });\r\n                    }\r\n                });\r\n\r\n                console.log('ðŸ“ˆ Total inputs processed:', inputCount);\r\n                console.log('ðŸ“‹ Final collected form data entries (' + formData.getAll.length + ' entries):');\r\n                var entryIndex = 0;\r\n                for (let [key, value] of formData.entries()) {\r\n                    entryIndex++;\r\n                    console.log('  ' + entryIndex + '. ' + key + ':', value);\r\n                }\r\n\r\n                // Add nonce and action\r\n                console.log('ðŸ” Adding security data...');\r\n                formData.append('action', 'pdf_builder_save_canvas_settings');\r\n                formData.append('nonce', pdf_builder_canvas_settings.nonce || '');\r\n                console.log('ðŸ” Action:', 'pdf_builder_save_canvas_settings');\r\n                console.log('ðŸ” Nonce present:', !!(pdf_builder_canvas_settings.nonce));\r\n\r\n                // Show loading state\r\n                console.log('â³ Setting loading state...');\r\n                $button.prop('disabled', true).text('â³ Sauvegarde...');\r\n\r\n                // Send AJAX request\r\n                console.log('ðŸš€ Preparing AJAX request...');\r\n                console.log('ðŸŒ AJAX URL:', pdf_builder_canvas_settings.ajax_url || ajaxurl);\r\n\r\n                $.ajax({\r\n                    url: pdf_builder_canvas_settings.ajax_url || ajaxurl,\r\n                    type: 'POST',\r\n                    data: formData,\r\n                    processData: false,\r\n                    contentType: false,\r\n                    success: function(response) {\r\n                        console.log('âœ… AJAX SUCCESS - Response received:');\r\n                        console.log('ðŸ“„ Raw response:', response);\r\n\r\n                        if (response.success) {\r\n                            console.log('ðŸŽ‰ Settings saved successfully!');\r\n                            console.log('ðŸ“ Response data:', response.data);\r\n\r\n                            // Show success message\r\n                            showNotification('ParamÃ¨tres canvas sauvegardÃ©s avec succÃ¨s !', 'success');\r\n\r\n                            // Close modal\r\n                            console.log('ðŸ”’ Closing modal...');\r\n                            $modal.hide();\r\n\r\n                            // Reload page to reflect changes\r\n                            console.log('ðŸ”„ Reloading page in 1 second...');\r\n                            setTimeout(function() {\r\n                                window.location.reload();\r\n                            }, 1000);\r\n                        } else {\r\n                            console.log('âŒ Server returned error:', response.data || 'Unknown error');\r\n                            showNotification('Erreur lors de la sauvegarde : ' + (response.data || 'Erreur inconnue'), 'error');\r\n                        }\r\n                    },\r\n                    error: function(xhr, status, error) {\r\n                        console.log('ðŸ’¥ AJAX ERROR:');\r\n                        console.log('ðŸ“Š Status:', status);\r\n                        console.log('âŒ Error:', error);\r\n                        console.log('ðŸ“„ XHR:', xhr);\r\n                        showNotification('Erreur AJAX : ' + error, 'error');\r\n                    },\r\n                    complete: function() {\r\n                        console.log('ðŸ AJAX Complete - Resetting button state');\r\n                        // Reset button state\r\n                        $button.prop('disabled', false).text('âœ… Appliquer');\r\n                    }\r\n                });\r\n            } else {\r\n                console.log('ðŸ“‹ Form found, submitting normally...');\r\n                $form.submit();\r\n            }\r\n\r\n            console.log('=== CANVAS MODAL APPLY PROCESSING ===');\r\n        });\r\n\r\n        // Handle modal cancel buttons\r\n        $('.canvas-modal-cancel').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal cancel button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (cancel):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Handle modal close buttons\r\n        $('.canvas-modal-close').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal close button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (close):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Close modal when clicking outside\r\n        $('.canvas-modal-overlay').on('click', function(e) {\r\n            if (e.target === this) {\r\n                console.log('âŒ Modal overlay clicked (outside)');\r\n                var $modal = $(this);\r\n                console.log('ðŸ”’ Closing modal (overlay):', $modal.attr('id'));\r\n                $(this).hide();\r\n            }\r\n        });\r\n\r\n        // Add logs for modal opening (if triggered by external buttons)\r\n        $(document).on('click', '[data-modal], .open-modal, .modal-trigger', function(e) {\r\n            console.log('ðŸšª Modal trigger clicked:', {\r\n                element: this,\r\n                className: $(this).attr('class'),\r\n                dataModal: $(this).data('modal'),\r\n                targetModal: $(this).attr('data-target') || $(this).data('modal')\r\n            });\r\n        });\r\n\r\n        // Monitor modal visibility changes\r\n        $('.canvas-modal-overlay').each(function() {\r\n            var $modal = $(this);\r\n            var modalId = $modal.attr('id');\r\n            \r\n            // Create a mutation observer to detect when modal becomes visible\r\n            var observer = new MutationObserver(function(mutations) {\r\n                mutations.forEach(function(mutation) {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {\r\n                        var display = $modal.css('display');\r\n                        if (display === 'flex' || display === 'block') {\r\n                            console.log('ðŸ“‚ Modal opened:', modalId);\r\n                        } else if (display === 'none') {\r\n                            console.log('ðŸ“ Modal closed:', modalId);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            \r\n            observer.observe($modal[0], {\r\n                attributes: true,\r\n                attributeFilter: ['style']\r\n            });\r\n        });\r\n    });\r\n\r\n    // Helper function to show notifications\r\n    function showNotification(message, type) {\r\n        // Try to use existing notification system\r\n        if (typeof showPdfBuilderNotification !== 'undefined') {\r\n            showPdfBuilderNotification(message, type);\r\n        } else {\r\n            // Fallback to alert\r\n            alert(message);\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMyLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsMkRBQTJELGdDQUFnQztBQUMzRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AtcGRmLWJ1aWxkZXItcHJvLXYyLy4vc3JjL2pzL2FkbWluL2NhbnZhcy1zZXR0aW5ncy5qcz9kMGY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBQREYgQnVpbGRlciBDYW52YXMgU2V0dGluZ3MgSmF2YVNjcmlwdFxyXG4gKi9cclxuXHJcbi8vIExPRyBBQlNPTFUgQVUgRMOJQlVUIC0gQVZBTlQgVE9VVFxyXG5jb25zb2xlLmxvZygn8J+UpfCflKXwn5SlIENBTlZBUy1TRVRUSU5HUy5KUyAtIEZJQ0hJRVIgQ0hBUkfDiSBJTU3DiURJQVRFTUVOVCDwn5Sl8J+UpfCflKUnKTtcclxuY29uc29sZS5sb2coJ+KPsCBUaW1lc3RhbXAgYWJzb2x1OicsIERhdGUubm93KCkpO1xyXG5cclxuLy8gTE9HIEFWRUMgRMOJTEFJIC0gUE9VUiBWT0lSIFNJIExFIFNDUklQVCBTJ0VYw4lDVVRFIFBMVVMgVEFSRFxyXG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc29sZS5sb2coJ+KPs+KPs+KPsyBDQU5WQVMtU0VUVElOR1MuSlMgLSBFWMOJQ1VUw4kgQVBSw4hTIDEgU0VDT05ERSDij7Pij7Pij7MnKTtcclxuICAgIGNvbnNvbGUubG9nKCfij7AgVGltZXN0YW1wIGFwcsOocyBkw6lsYWk6JywgRGF0ZS5ub3coKSk7XHJcbn0sIDEwMDApO1xyXG5cclxuLy8gTE9HIEFWRUMgRMOJTEFJIFBMVVMgTE9OR1xyXG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc29sZS5sb2coJ/CfkIzwn5CM8J+QjCBDQU5WQVMtU0VUVElOR1MuSlMgLSBFWMOJQ1VUw4kgQVBSw4hTIDUgU0VDT05ERVMg8J+QjPCfkIzwn5CMJyk7XHJcbiAgICBjb25zb2xlLmxvZygn4o+wIFRpbWVzdGFtcCBhcHLDqHMgNXM6JywgRGF0ZS5ub3coKSk7XHJcbn0sIDUwMDApO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyBMT0cgREUgVEVTVCAtIEZpY2hpZXIgY2hhcmfDqVxyXG4gICAgY29uc29sZS5sb2coJ/CfmoDwn5qA8J+agCBDQU5WQVMtU0VUVElOR1MuSlMgQ0hBUkfDiSBFVCBFWMOJQ1VUw4kg8J+agPCfmoDwn5qAJyk7XHJcbiAgICBjb25zb2xlLmxvZygn4o+wIFRpbWVzdGFtcCBkZSBjaGFyZ2VtZW50OicsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/CfjqggUERGIEJ1aWxkZXIgQ2FudmFzIFNldHRpbmdzIEpTIC0gTG9hZGluZy4uLicpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgY2FudmFzIHNldHRpbmdzIGZ1bmN0aW9uYWxpdHlcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46oIFBERiBCdWlsZGVyIENhbnZhcyBTZXR0aW5ncyBKUyAtIERvY3VtZW50IFJlYWR5Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KPsCBUaW1lc3RhbXA6JywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGFueSBjYW52YXMtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gaGVyZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBDYW52YXMgc2V0dGluZ3MgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBMb2NhbGl6ZWQgdmFyaWFibGVzOicsIHdpbmRvdy5wZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgQ2FudmFzIHNldHRpbmdzIHZhcmlhYmxlcyBub3QgZm91bmQhJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF2YWlsYWJsZSB3aW5kb3cgcHJvcGVydGllczonLCBPYmplY3Qua2V5cyh3aW5kb3cpLmZpbHRlcihrZXkgPT4ga2V5LmluY2x1ZGVzKCdwZGZfYnVpbGRlcicpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgbW9kYWwgYXBwbHkgYnV0dG9uc1xyXG4gICAgICAgICQoJy5jYW52YXMtbW9kYWwtYXBwbHknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0gQ0FOVkFTIE1PREFMIEFQUExZIFNUQVJURUQgPT09Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaW1lc3RhbXA6JywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gJGJ1dHRvbi5kYXRhKCdjYXRlZ29yeScpO1xyXG4gICAgICAgICAgICB2YXIgJG1vZGFsID0gJGJ1dHRvbi5jbG9zZXN0KCcuY2FudmFzLW1vZGFsLW92ZXJsYXknKTtcclxuICAgICAgICAgICAgdmFyIG1vZGFsSWQgPSAkbW9kYWwuYXR0cignaWQnKSB8fCAndW5rbm93bi1tb2RhbCc7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBNb2RhbCBDYXRlZ29yeTonLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIE1vZGFsIElEOicsIG1vZGFsSWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBNb2RhbCBFbGVtZW50OicsICRtb2RhbCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgJGZvcm0gPSAkbW9kYWwuZmluZCgnZm9ybScpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgRm9ybSBmb3VuZDonLCAkZm9ybS5sZW5ndGggPiAwKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgQXZhaWxhYmxlIHZhcmlhYmxlczonLCB7XHJcbiAgICAgICAgICAgICAgICBhamF4dXJsOiB0eXBlb2YgYWpheHVybCAhPT0gJ3VuZGVmaW5lZCcgPyBhamF4dXJsIDogJ3VuZGVmaW5lZCcsXHJcbiAgICAgICAgICAgICAgICBwZGZfYnVpbGRlcl9hamF4OiB0eXBlb2YgcGRmX2J1aWxkZXJfYWpheCAhPT0gJ3VuZGVmaW5lZCcgPyBwZGZfYnVpbGRlcl9hamF4IDogJ3VuZGVmaW5lZCcsXHJcbiAgICAgICAgICAgICAgICBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3M6IHR5cGVvZiBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MgIT09ICd1bmRlZmluZWQnID8gcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzIDogJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBubyBmb3JtLCBjcmVhdGUgb25lIGZyb20gbW9kYWwgaW5wdXRzXHJcbiAgICAgICAgICAgIGlmICgkZm9ybS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIE5vIGZvcm0gZm91bmQsIGNvbGxlY3RpbmcgaW5wdXRzIG1hbnVhbGx5Li4uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRzID0gJG1vZGFsLmZpbmQoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRm91bmQnLCBpbnB1dHMubGVuZ3RoLCAnaW5wdXQgZWxlbWVudHMgdG8gcHJvY2VzcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGlucHV0cyBmcm9tIHRoZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgaW5wdXRzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gJGlucHV0LmF0dHIoJ3R5cGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAkaW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSAkaW5wdXQucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9ICRpbnB1dC5wcm9wKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9jZXNzaW5nIGlucHV0OicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICRpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSAmJiAhZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aCgnW10nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYXJyYXkgaW5wdXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcnJheU5hbWUgPSBuYW1lLnNsaWNlKDAsIC0yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgQXJyYXkgaW5wdXQgZGV0ZWN0ZWQ6JywgYXJyYXlOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JtRGF0YS5oYXMoYXJyYXlOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuc2V0KGFycmF5TmFtZSwgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWVzID0gZm9ybURhdGEuZ2V0KGFycmF5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuc2V0KGFycmF5TmFtZSwgY3VycmVudFZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p6VIEFkZGVkIHRvIGFycmF5JywgYXJyYXlOYW1lICsgJzonLCBjdXJyZW50VmFsdWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2hlY2tib3ggYWRkZWQ6JywgbmFtZSArICc9JywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBDaGVja2JveCBub3QgY2hlY2tlZCwgc2tpcHBlZDonLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk7sgUmFkaW8gc2VsZWN0ZWQ6JywgbmFtZSArICc9JywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TuyBSYWRpbyBub3Qgc2VsZWN0ZWQsIHNraXBwZWQ6JywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gSW5wdXQgYWRkZWQ6JywgbmFtZSArICc9JywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBJbnB1dCBza2lwcGVkOicsIHsgbmFtZTogbmFtZSwgZGlzYWJsZWQ6IGRpc2FibGVkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OIIFRvdGFsIGlucHV0cyBwcm9jZXNzZWQ6JywgaW5wdXRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBGaW5hbCBjb2xsZWN0ZWQgZm9ybSBkYXRhIGVudHJpZXMgKCcgKyBmb3JtRGF0YS5nZXRBbGwubGVuZ3RoICsgJyBlbnRyaWVzKTonKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyAgJyArIGVudHJ5SW5kZXggKyAnLiAnICsga2V5ICsgJzonLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIG5vbmNlIGFuZCBhY3Rpb25cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEFkZGluZyBzZWN1cml0eSBkYXRhLi4uJyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsICdwZGZfYnVpbGRlcl9zYXZlX2NhbnZhc19zZXR0aW5ncycpO1xyXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdub25jZScsIHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncy5ub25jZSB8fCAnJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBBY3Rpb246JywgJ3BkZl9idWlsZGVyX3NhdmVfY2FudmFzX3NldHRpbmdzJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBOb25jZSBwcmVzZW50OicsICEhKHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncy5ub25jZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KPsyBTZXR0aW5nIGxvYWRpbmcgc3RhdGUuLi4nKTtcclxuICAgICAgICAgICAgICAgICRidXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS50ZXh0KCfij7MgU2F1dmVnYXJkZS4uLicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgQUpBWCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBQcmVwYXJpbmcgQUpBWCByZXF1ZXN0Li4uJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+MkCBBSkFYIFVSTDonLCBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MuYWpheF91cmwgfHwgYWpheHVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncy5hamF4X3VybCB8fCBhamF4dXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQUpBWCBTVUNDRVNTIC0gUmVzcG9uc2UgcmVjZWl2ZWQ6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OEIFJhdyByZXNwb25zZTonLCByZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjokgU2V0dGluZ3Mgc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gUmVzcG9uc2UgZGF0YTonLCByZXNwb25zZS5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbignUGFyYW3DqHRyZXMgY2FudmFzIHNhdXZlZ2FyZMOpcyBhdmVjIHN1Y2PDqHMgIScsICdzdWNjZXNzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SSIENsb3NpbmcgbW9kYWwuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtb2RhbC5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVsb2FkIHBhZ2UgdG8gcmVmbGVjdCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBSZWxvYWRpbmcgcGFnZSBpbiAxIHNlY29uZC4uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgU2VydmVyIHJldHVybmVkIGVycm9yOicsIHJlc3BvbnNlLmRhdGEgfHwgJ1Vua25vd24gZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUgOiAnICsgKHJlc3BvbnNlLmRhdGEgfHwgJ0VycmV1ciBpbmNvbm51ZScpLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SpSBBSkFYIEVSUk9SOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBTdGF0dXM6Jywgc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBFcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OEIFhIUjonLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKCdFcnJldXIgQUpBWCA6ICcgKyBlcnJvciwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4+BIEFKQVggQ29tcGxldGUgLSBSZXNldHRpbmcgYnV0dG9uIHN0YXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGJ1dHRvbiBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnRleHQoJ+KchSBBcHBsaXF1ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEZvcm0gZm91bmQsIHN1Ym1pdHRpbmcgbm9ybWFsbHkuLi4nKTtcclxuICAgICAgICAgICAgICAgICRmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IENBTlZBUyBNT0RBTCBBUFBMWSBQUk9DRVNTSU5HID09PScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgbW9kYWwgY2FuY2VsIGJ1dHRvbnNcclxuICAgICAgICAkKCcuY2FudmFzLW1vZGFsLWNhbmNlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIE1vZGFsIGNhbmNlbCBidXR0b24gY2xpY2tlZCcpO1xyXG4gICAgICAgICAgICB2YXIgJG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcuY2FudmFzLW1vZGFsLW92ZXJsYXknKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJIgQ2xvc2luZyBtb2RhbCAoY2FuY2VsKTonLCAkbW9kYWwuYXR0cignaWQnKSk7XHJcbiAgICAgICAgICAgICRtb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCBjbG9zZSBidXR0b25zXHJcbiAgICAgICAgJCgnLmNhbnZhcy1tb2RhbC1jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIE1vZGFsIGNsb3NlIGJ1dHRvbiBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5jYW52YXMtbW9kYWwtb3ZlcmxheScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBDbG9zaW5nIG1vZGFsIChjbG9zZSk6JywgJG1vZGFsLmF0dHIoJ2lkJykpO1xyXG4gICAgICAgICAgICAkbW9kYWwuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDbG9zZSBtb2RhbCB3aGVuIGNsaWNraW5nIG91dHNpZGVcclxuICAgICAgICAkKCcuY2FudmFzLW1vZGFsLW92ZXJsYXknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBNb2RhbCBvdmVybGF5IGNsaWNrZWQgKG91dHNpZGUpJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJG1vZGFsID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SSIENsb3NpbmcgbW9kYWwgKG92ZXJsYXkpOicsICRtb2RhbC5hdHRyKCdpZCcpKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBsb2dzIGZvciBtb2RhbCBvcGVuaW5nIChpZiB0cmlnZ2VyZWQgYnkgZXh0ZXJuYWwgYnV0dG9ucylcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtbW9kYWxdLCAub3Blbi1tb2RhbCwgLm1vZGFsLXRyaWdnZXInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qqIE1vZGFsIHRyaWdnZXIgY2xpY2tlZDonLCB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAkKHRoaXMpLmF0dHIoJ2NsYXNzJyksXHJcbiAgICAgICAgICAgICAgICBkYXRhTW9kYWw6ICQodGhpcykuZGF0YSgnbW9kYWwnKSxcclxuICAgICAgICAgICAgICAgIHRhcmdldE1vZGFsOiAkKHRoaXMpLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgJCh0aGlzKS5kYXRhKCdtb2RhbCcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNb25pdG9yIG1vZGFsIHZpc2liaWxpdHkgY2hhbmdlc1xyXG4gICAgICAgICQoJy5jYW52YXMtbW9kYWwtb3ZlcmxheScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgbW9kYWxJZCA9ICRtb2RhbC5hdHRyKCdpZCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gZGV0ZWN0IHdoZW4gbW9kYWwgYmVjb21lcyB2aXNpYmxlXHJcbiAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXkgPSAkbW9kYWwuY3NzKCdkaXNwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ID09PSAnZmxleCcgfHwgZGlzcGxheSA9PT0gJ2Jsb2NrJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4IgTW9kYWwgb3BlbmVkOicsIG1vZGFsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4EgTW9kYWwgY2xvc2VkOicsIG1vZGFsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSgkbW9kYWxbMF0sIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnc3R5bGUnXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzaG93IG5vdGlmaWNhdGlvbnNcclxuICAgIGZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24obWVzc2FnZSwgdHlwZSkge1xyXG4gICAgICAgIC8vIFRyeSB0byB1c2UgZXhpc3Rpbmcgbm90aWZpY2F0aW9uIHN5c3RlbVxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2hvd1BkZkJ1aWxkZXJOb3RpZmljYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHNob3dQZGZCdWlsZGVyTm90aWZpY2F0aW9uKG1lc3NhZ2UsIHR5cGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGFsZXJ0XHJcbiAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///932\n\n}");

/***/ }

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__(932));
/******/ var __webpack_export_target__ = window;
/******/ for(var __webpack_i__ in __webpack_exports__) __webpack_export_target__[__webpack_i__] = __webpack_exports__[__webpack_i__];
/******/ if(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, "__esModule", { value: true });
/******/ }
]);