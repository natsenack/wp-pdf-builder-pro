"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] = Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] || []).push([[835],{

/***/ 932
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/**\r\n * PDF Builder Canvas Settings JavaScript\r\n */\r\n(function($) {\r\n    'use strict';\r\n\r\n    // LOG DE TEST - Fichier chargÃ©\r\n    console.log('ðŸš€ðŸš€ðŸš€ CANVAS-SETTINGS.JS CHARGÃ‰ ET EXÃ‰CUTÃ‰ ðŸš€ðŸš€ðŸš€');\r\n    console.log('â° Timestamp de chargement:', new Date().toISOString());\r\n\r\n    console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Loading...');\r\n\r\n    // Initialize canvas settings functionality\r\n    $(document).ready(function() {\r\n        console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Document Ready');\r\n        console.log('â° Timestamp:', new Date().toISOString());\r\n\r\n        // Add any canvas-specific initialization here\r\n        if (typeof window.pdf_builder_canvas_settings !== 'undefined') {\r\n            console.log('âœ… Canvas settings initialized successfully!');\r\n            console.log('ðŸ”§ Localized variables:', window.pdf_builder_canvas_settings);\r\n        } else {\r\n            console.log('âŒ Canvas settings variables not found!');\r\n            console.log('ðŸ” Available window properties:', Object.keys(window).filter(key => key.includes('pdf_builder')));\r\n        }\r\n\r\n        // Handle modal apply buttons\r\n        $('.canvas-modal-apply').on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            console.log('=== CANVAS MODAL APPLY STARTED ===');\r\n            console.log('Timestamp:', new Date().toISOString());\r\n\r\n            var $button = $(this);\r\n            var category = $button.data('category');\r\n            var $modal = $button.closest('.canvas-modal-overlay');\r\n            var modalId = $modal.attr('id') || 'unknown-modal';\r\n\r\n            console.log('ðŸŽ¯ Modal Category:', category);\r\n            console.log('ðŸŽ¯ Modal ID:', modalId);\r\n            console.log('ðŸŽ¯ Modal Element:', $modal);\r\n\r\n            var $form = $modal.find('form');\r\n\r\n            console.log('ðŸ“‹ Form found:', $form.length > 0);\r\n            console.log('ðŸ”§ Available variables:', {\r\n                ajaxurl: typeof ajaxurl !== 'undefined' ? ajaxurl : 'undefined',\r\n                pdf_builder_ajax: typeof pdf_builder_ajax !== 'undefined' ? pdf_builder_ajax : 'undefined',\r\n                pdf_builder_canvas_settings: typeof pdf_builder_canvas_settings !== 'undefined' ? pdf_builder_canvas_settings : 'undefined'\r\n            });\r\n\r\n            // If no form, create one from modal inputs\r\n            if ($form.length === 0) {\r\n                console.log('ðŸ“ No form found, collecting inputs manually...');\r\n\r\n                var formData = new FormData();\r\n                var inputCount = 0;\r\n                var inputs = $modal.find('input, select, textarea');\r\n\r\n                console.log('ðŸ“Š Found', inputs.length, 'input elements to process');\r\n\r\n                // Collect all inputs from the modal\r\n                inputs.each(function() {\r\n                    var $input = $(this);\r\n                    var name = $input.attr('name');\r\n                    var type = $input.attr('type');\r\n                    var value = $input.val();\r\n                    var checked = $input.prop('checked');\r\n                    var disabled = $input.prop('disabled');\r\n\r\n                    console.log('ðŸ” Processing input:', {\r\n                        name: name,\r\n                        type: type,\r\n                        value: value,\r\n                        checked: checked,\r\n                        disabled: disabled,\r\n                        element: $input\r\n                    });\r\n\r\n                    if (name && !disabled) {\r\n                        inputCount++;\r\n                        if (type === 'checkbox') {\r\n                            if (checked) {\r\n                                if (name.endsWith('[]')) {\r\n                                    // Handle array inputs\r\n                                    var arrayName = name.slice(0, -2);\r\n                                    console.log('ðŸ“¦ Array input detected:', arrayName);\r\n                                    if (!formData.has(arrayName)) {\r\n                                        formData.set(arrayName, []);\r\n                                    }\r\n                                    var currentValues = formData.get(arrayName);\r\n                                    if (Array.isArray(currentValues)) {\r\n                                        currentValues.push(value);\r\n                                        formData.set(arrayName, currentValues);\r\n                                        console.log('âž• Added to array', arrayName + ':', currentValues);\r\n                                    }\r\n                                } else {\r\n                                    formData.append(name, value);\r\n                                    console.log('âœ… Checkbox added:', name + '=', value);\r\n                                }\r\n                            } else {\r\n                                console.log('âŒ Checkbox not checked, skipped:', name);\r\n                            }\r\n                        } else if (type === 'radio') {\r\n                            if (checked) {\r\n                                formData.append(name, value);\r\n                                console.log('ðŸ“» Radio selected:', name + '=', value);\r\n                            } else {\r\n                                console.log('ðŸ“» Radio not selected, skipped:', name);\r\n                            }\r\n                        } else {\r\n                            formData.append(name, value);\r\n                            console.log('ðŸ“ Input added:', name + '=', value);\r\n                        }\r\n                    } else {\r\n                        console.log('âš ï¸ Input skipped:', { name: name, disabled: disabled });\r\n                    }\r\n                });\r\n\r\n                console.log('ðŸ“ˆ Total inputs processed:', inputCount);\r\n                console.log('ðŸ“‹ Final collected form data entries (' + formData.getAll.length + ' entries):');\r\n                var entryIndex = 0;\r\n                for (let [key, value] of formData.entries()) {\r\n                    entryIndex++;\r\n                    console.log('  ' + entryIndex + '. ' + key + ':', value);\r\n                }\r\n\r\n                // Add nonce and action\r\n                console.log('ðŸ” Adding security data...');\r\n                formData.append('action', 'pdf_builder_save_canvas_settings');\r\n                formData.append('nonce', pdf_builder_canvas_settings.nonce || '');\r\n                console.log('ðŸ” Action:', 'pdf_builder_save_canvas_settings');\r\n                console.log('ðŸ” Nonce present:', !!(pdf_builder_canvas_settings.nonce));\r\n\r\n                // Show loading state\r\n                console.log('â³ Setting loading state...');\r\n                $button.prop('disabled', true).text('â³ Sauvegarde...');\r\n\r\n                // Send AJAX request\r\n                console.log('ðŸš€ Preparing AJAX request...');\r\n                console.log('ðŸŒ AJAX URL:', pdf_builder_canvas_settings.ajax_url || ajaxurl);\r\n\r\n                $.ajax({\r\n                    url: pdf_builder_canvas_settings.ajax_url || ajaxurl,\r\n                    type: 'POST',\r\n                    data: formData,\r\n                    processData: false,\r\n                    contentType: false,\r\n                    success: function(response) {\r\n                        console.log('âœ… AJAX SUCCESS - Response received:');\r\n                        console.log('ðŸ“„ Raw response:', response);\r\n\r\n                        if (response.success) {\r\n                            console.log('ðŸŽ‰ Settings saved successfully!');\r\n                            console.log('ðŸ“ Response data:', response.data);\r\n\r\n                            // Show success message\r\n                            showNotification('ParamÃ¨tres canvas sauvegardÃ©s avec succÃ¨s !', 'success');\r\n\r\n                            // Close modal\r\n                            console.log('ðŸ”’ Closing modal...');\r\n                            $modal.hide();\r\n\r\n                            // Reload page to reflect changes\r\n                            console.log('ðŸ”„ Reloading page in 1 second...');\r\n                            setTimeout(function() {\r\n                                window.location.reload();\r\n                            }, 1000);\r\n                        } else {\r\n                            console.log('âŒ Server returned error:', response.data || 'Unknown error');\r\n                            showNotification('Erreur lors de la sauvegarde : ' + (response.data || 'Erreur inconnue'), 'error');\r\n                        }\r\n                    },\r\n                    error: function(xhr, status, error) {\r\n                        console.log('ðŸ’¥ AJAX ERROR:');\r\n                        console.log('ðŸ“Š Status:', status);\r\n                        console.log('âŒ Error:', error);\r\n                        console.log('ðŸ“„ XHR:', xhr);\r\n                        showNotification('Erreur AJAX : ' + error, 'error');\r\n                    },\r\n                    complete: function() {\r\n                        console.log('ðŸ AJAX Complete - Resetting button state');\r\n                        // Reset button state\r\n                        $button.prop('disabled', false).text('âœ… Appliquer');\r\n                    }\r\n                });\r\n            } else {\r\n                console.log('ðŸ“‹ Form found, submitting normally...');\r\n                $form.submit();\r\n            }\r\n\r\n            console.log('=== CANVAS MODAL APPLY PROCESSING ===');\r\n        });\r\n\r\n        // Handle modal cancel buttons\r\n        $('.canvas-modal-cancel').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal cancel button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (cancel):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Handle modal close buttons\r\n        $('.canvas-modal-close').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal close button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (close):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Close modal when clicking outside\r\n        $('.canvas-modal-overlay').on('click', function(e) {\r\n            if (e.target === this) {\r\n                console.log('âŒ Modal overlay clicked (outside)');\r\n                var $modal = $(this);\r\n                console.log('ðŸ”’ Closing modal (overlay):', $modal.attr('id'));\r\n                $(this).hide();\r\n            }\r\n        });\r\n\r\n        // Add logs for modal opening (if triggered by external buttons)\r\n        $(document).on('click', '[data-modal], .open-modal, .modal-trigger', function(e) {\r\n            console.log('ðŸšª Modal trigger clicked:', {\r\n                element: this,\r\n                className: $(this).attr('class'),\r\n                dataModal: $(this).data('modal'),\r\n                targetModal: $(this).attr('data-target') || $(this).data('modal')\r\n            });\r\n        });\r\n\r\n        // Monitor modal visibility changes\r\n        $('.canvas-modal-overlay').each(function() {\r\n            var $modal = $(this);\r\n            var modalId = $modal.attr('id');\r\n            \r\n            // Create a mutation observer to detect when modal becomes visible\r\n            var observer = new MutationObserver(function(mutations) {\r\n                mutations.forEach(function(mutation) {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {\r\n                        var display = $modal.css('display');\r\n                        if (display === 'flex' || display === 'block') {\r\n                            console.log('ðŸ“‚ Modal opened:', modalId);\r\n                        } else if (display === 'none') {\r\n                            console.log('ðŸ“ Modal closed:', modalId);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            \r\n            observer.observe($modal[0], {\r\n                attributes: true,\r\n                attributeFilter: ['style']\r\n            });\r\n        });\r\n    });\r\n\r\n    // Helper function to show notifications\r\n    function showNotification(message, type) {\r\n        // Try to use existing notification system\r\n        if (typeof showPdfBuilderNotification !== 'undefined') {\r\n            showPdfBuilderNotification(message, type);\r\n        } else {\r\n            // Fallback to alert\r\n            alert(message);\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMyLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLDJEQUEyRCxnQ0FBZ0M7QUFDM0Y7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLXBkZi1idWlsZGVyLXByby12Mi8uL3NyYy9qcy9hZG1pbi9jYW52YXMtc2V0dGluZ3MuanM/ZDBmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUERGIEJ1aWxkZXIgQ2FudmFzIFNldHRpbmdzIEphdmFTY3JpcHRcclxuICovXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLy8gTE9HIERFIFRFU1QgLSBGaWNoaWVyIGNoYXJnw6lcclxuICAgIGNvbnNvbGUubG9nKCfwn5qA8J+agPCfmoAgQ0FOVkFTLVNFVFRJTkdTLkpTIENIQVJHw4kgRVQgRVjDiUNVVMOJIPCfmoDwn5qA8J+agCcpO1xyXG4gICAgY29uc29sZS5sb2coJ+KPsCBUaW1lc3RhbXAgZGUgY2hhcmdlbWVudDonLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn46oIFBERiBCdWlsZGVyIENhbnZhcyBTZXR0aW5ncyBKUyAtIExvYWRpbmcuLi4nKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGNhbnZhcyBzZXR0aW5ncyBmdW5jdGlvbmFsaXR5XHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+OqCBQREYgQnVpbGRlciBDYW52YXMgU2V0dGluZ3MgSlMgLSBEb2N1bWVudCBSZWFkeScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfij7AgVGltZXN0YW1wOicsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBhbnkgY2FudmFzLXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGhlcmVcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5wZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2FudmFzIHNldHRpbmdzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgTG9jYWxpemVkIHZhcmlhYmxlczonLCB3aW5kb3cucGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIENhbnZhcyBzZXR0aW5ncyB2YXJpYWJsZXMgbm90IGZvdW5kIScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBBdmFpbGFibGUgd2luZG93IHByb3BlcnRpZXM6JywgT2JqZWN0LmtleXMod2luZG93KS5maWx0ZXIoa2V5ID0+IGtleS5pbmNsdWRlcygncGRmX2J1aWxkZXInKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIG1vZGFsIGFwcGx5IGJ1dHRvbnNcclxuICAgICAgICAkKCcuY2FudmFzLW1vZGFsLWFwcGx5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IENBTlZBUyBNT0RBTCBBUFBMWSBTVEFSVEVEID09PScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZXN0YW1wOicsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9ICRidXR0b24uZGF0YSgnY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgdmFyICRtb2RhbCA9ICRidXR0b24uY2xvc2VzdCgnLmNhbnZhcy1tb2RhbC1vdmVybGF5Jyk7XHJcbiAgICAgICAgICAgIHZhciBtb2RhbElkID0gJG1vZGFsLmF0dHIoJ2lkJykgfHwgJ3Vua25vd24tbW9kYWwnO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gTW9kYWwgQ2F0ZWdvcnk6JywgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBNb2RhbCBJRDonLCBtb2RhbElkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gTW9kYWwgRWxlbWVudDonLCAkbW9kYWwpO1xyXG5cclxuICAgICAgICAgICAgdmFyICRmb3JtID0gJG1vZGFsLmZpbmQoJ2Zvcm0nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEZvcm0gZm91bmQ6JywgJGZvcm0ubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEF2YWlsYWJsZSB2YXJpYWJsZXM6Jywge1xyXG4gICAgICAgICAgICAgICAgYWpheHVybDogdHlwZW9mIGFqYXh1cmwgIT09ICd1bmRlZmluZWQnID8gYWpheHVybCA6ICd1bmRlZmluZWQnLFxyXG4gICAgICAgICAgICAgICAgcGRmX2J1aWxkZXJfYWpheDogdHlwZW9mIHBkZl9idWlsZGVyX2FqYXggIT09ICd1bmRlZmluZWQnID8gcGRmX2J1aWxkZXJfYWpheCA6ICd1bmRlZmluZWQnLFxyXG4gICAgICAgICAgICAgICAgcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzOiB0eXBlb2YgcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzICE9PSAndW5kZWZpbmVkJyA/IHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncyA6ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgbm8gZm9ybSwgY3JlYXRlIG9uZSBmcm9tIG1vZGFsIGlucHV0c1xyXG4gICAgICAgICAgICBpZiAoJGZvcm0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBObyBmb3JtIGZvdW5kLCBjb2xsZWN0aW5nIGlucHV0cyBtYW51YWxseS4uLicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0cyA9ICRtb2RhbC5maW5kKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEZvdW5kJywgaW5wdXRzLmxlbmd0aCwgJ2lucHV0IGVsZW1lbnRzIHRvIHByb2Nlc3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBpbnB1dHMgZnJvbSB0aGUgbW9kYWxcclxuICAgICAgICAgICAgICAgIGlucHV0cy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gJGlucHV0LmF0dHIoJ25hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9ICRpbnB1dC5hdHRyKCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJGlucHV0LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gJGlucHV0LnByb3AoJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZWQgPSAkaW5wdXQucHJvcCgnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gUHJvY2Vzc2luZyBpbnB1dDonLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAkaW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgIWRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoJ1tdJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFycmF5IGlucHV0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXlOYW1lID0gbmFtZS5zbGljZSgwLCAtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIEFycmF5IGlucHV0IGRldGVjdGVkOicsIGFycmF5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9ybURhdGEuaGFzKGFycmF5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLnNldChhcnJheU5hbWUsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlcyA9IGZvcm1EYXRhLmdldChhcnJheU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLnNldChhcnJheU5hbWUsIGN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KelSBBZGRlZCB0byBhcnJheScsIGFycmF5TmFtZSArICc6JywgY3VycmVudFZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIENoZWNrYm94IGFkZGVkOicsIG5hbWUgKyAnPScsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgQ2hlY2tib3ggbm90IGNoZWNrZWQsIHNraXBwZWQ6JywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5O7IFJhZGlvIHNlbGVjdGVkOicsIG5hbWUgKyAnPScsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk7sgUmFkaW8gbm90IHNlbGVjdGVkLCBza2lwcGVkOicsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIElucHV0IGFkZGVkOicsIG5hbWUgKyAnPScsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gSW5wdXQgc2tpcHBlZDonLCB7IG5hbWU6IG5hbWUsIGRpc2FibGVkOiBkaXNhYmxlZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiCBUb3RhbCBpbnB1dHMgcHJvY2Vzc2VkOicsIGlucHV0Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgRmluYWwgY29sbGVjdGVkIGZvcm0gZGF0YSBlbnRyaWVzICgnICsgZm9ybURhdGEuZ2V0QWxsLmxlbmd0aCArICcgZW50cmllcyk6Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50cnlJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICcgKyBlbnRyeUluZGV4ICsgJy4gJyArIGtleSArICc6JywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCBub25jZSBhbmQgYWN0aW9uXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBBZGRpbmcgc2VjdXJpdHkgZGF0YS4uLicpO1xyXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCAncGRmX2J1aWxkZXJfc2F2ZV9jYW52YXNfc2V0dGluZ3MnKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbm9uY2UnLCBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3Mubm9uY2UgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJAgQWN0aW9uOicsICdwZGZfYnVpbGRlcl9zYXZlX2NhbnZhc19zZXR0aW5ncycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJAgTm9uY2UgcHJlc2VudDonLCAhIShwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3Mubm9uY2UpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7MgU2V0dGluZyBsb2FkaW5nIHN0YXRlLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAkYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkudGV4dCgn4o+zIFNhdXZlZ2FyZGUuLi4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZW5kIEFKQVggcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgUHJlcGFyaW5nIEFKQVggcmVxdWVzdC4uLicpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjJAgQUpBWCBVUkw6JywgcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzLmFqYXhfdXJsIHx8IGFqYXh1cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MuYWpheF91cmwgfHwgYWpheHVybCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFKQVggU1VDQ0VTUyAtIFJlc3BvbnNlIHJlY2VpdmVkOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ThCBSYXcgcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46JIFNldHRpbmdzIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFJlc3BvbnNlIGRhdGE6JywgcmVzcG9uc2UuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ1BhcmFtw6h0cmVzIGNhbnZhcyBzYXV2ZWdhcmTDqXMgYXZlYyBzdWNjw6hzICEnLCAnc3VjY2VzcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBDbG9zaW5nIG1vZGFsLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbW9kYWwuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbG9hZCBwYWdlIHRvIHJlZmxlY3QgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUmVsb2FkaW5nIHBhZ2UgaW4gMSBzZWNvbmQuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIFNlcnZlciByZXR1cm5lZCBlcnJvcjonLCByZXNwb25zZS5kYXRhIHx8ICdVbmtub3duIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKCdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlIDogJyArIChyZXNwb25zZS5kYXRhIHx8ICdFcnJldXIgaW5jb25udWUnKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqUgQUpBWCBFUlJPUjonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogU3RhdHVzOicsIHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ThCBYSFI6JywgeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbignRXJyZXVyIEFKQVggOiAnICsgZXJyb3IsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+PgSBBSkFYIENvbXBsZXRlIC0gUmVzZXR0aW5nIGJ1dHRvbiBzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBidXR0b24gc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS50ZXh0KCfinIUgQXBwbGlxdWVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBGb3JtIGZvdW5kLCBzdWJtaXR0aW5nIG5vcm1hbGx5Li4uJyk7XHJcbiAgICAgICAgICAgICAgICAkZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBDQU5WQVMgTU9EQUwgQVBQTFkgUFJPQ0VTU0lORyA9PT0nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIG1vZGFsIGNhbmNlbCBidXR0b25zXHJcbiAgICAgICAgJCgnLmNhbnZhcy1tb2RhbC1jYW5jZWwnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBNb2RhbCBjYW5jZWwgYnV0dG9uIGNsaWNrZWQnKTtcclxuICAgICAgICAgICAgdmFyICRtb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLmNhbnZhcy1tb2RhbC1vdmVybGF5Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SSIENsb3NpbmcgbW9kYWwgKGNhbmNlbCk6JywgJG1vZGFsLmF0dHIoJ2lkJykpO1xyXG4gICAgICAgICAgICAkbW9kYWwuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgbW9kYWwgY2xvc2UgYnV0dG9uc1xyXG4gICAgICAgICQoJy5jYW52YXMtbW9kYWwtY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBNb2RhbCBjbG9zZSBidXR0b24gY2xpY2tlZCcpO1xyXG4gICAgICAgICAgICB2YXIgJG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcuY2FudmFzLW1vZGFsLW92ZXJsYXknKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJIgQ2xvc2luZyBtb2RhbCAoY2xvc2UpOicsICRtb2RhbC5hdHRyKCdpZCcpKTtcclxuICAgICAgICAgICAgJG1vZGFsLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgbW9kYWwgd2hlbiBjbGlja2luZyBvdXRzaWRlXHJcbiAgICAgICAgJCgnLmNhbnZhcy1tb2RhbC1vdmVybGF5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgTW9kYWwgb3ZlcmxheSBjbGlja2VkIChvdXRzaWRlKScpO1xyXG4gICAgICAgICAgICAgICAgdmFyICRtb2RhbCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBDbG9zaW5nIG1vZGFsIChvdmVybGF5KTonLCAkbW9kYWwuYXR0cignaWQnKSk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBZGQgbG9ncyBmb3IgbW9kYWwgb3BlbmluZyAoaWYgdHJpZ2dlcmVkIGJ5IGV4dGVybmFsIGJ1dHRvbnMpXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLW1vZGFsXSwgLm9wZW4tbW9kYWwsIC5tb2RhbC10cmlnZ2VyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+aqiBNb2RhbCB0cmlnZ2VyIGNsaWNrZWQ6Jywge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJCh0aGlzKS5hdHRyKCdjbGFzcycpLFxyXG4gICAgICAgICAgICAgICAgZGF0YU1vZGFsOiAkKHRoaXMpLmRhdGEoJ21vZGFsJyksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRNb2RhbDogJCh0aGlzKS5hdHRyKCdkYXRhLXRhcmdldCcpIHx8ICQodGhpcykuZGF0YSgnbW9kYWwnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9uaXRvciBtb2RhbCB2aXNpYmlsaXR5IGNoYW5nZXNcclxuICAgICAgICAkKCcuY2FudmFzLW1vZGFsLW92ZXJsYXknKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgJG1vZGFsID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIG1vZGFsSWQgPSAkbW9kYWwuYXR0cignaWQnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG11dGF0aW9uIG9ic2VydmVyIHRvIGRldGVjdCB3aGVuIG1vZGFsIGJlY29tZXMgdmlzaWJsZVxyXG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKG11dGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5ID0gJG1vZGFsLmNzcygnZGlzcGxheScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gJ2ZsZXgnIHx8IGRpc3BsYXkgPT09ICdibG9jaycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OCIE1vZGFsIG9wZW5lZDonLCBtb2RhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OBIE1vZGFsIGNsb3NlZDonLCBtb2RhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoJG1vZGFsWzBdLCB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJ11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc2hvdyBub3RpZmljYXRpb25zXHJcbiAgICBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UsIHR5cGUpIHtcclxuICAgICAgICAvLyBUcnkgdG8gdXNlIGV4aXN0aW5nIG5vdGlmaWNhdGlvbiBzeXN0ZW1cclxuICAgICAgICBpZiAodHlwZW9mIHNob3dQZGZCdWlsZGVyTm90aWZpY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBzaG93UGRmQnVpbGRlck5vdGlmaWNhdGlvbihtZXNzYWdlLCB0eXBlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBhbGVydFxyXG4gICAgICAgICAgICBhbGVydChtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG5cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///932\n\n}");

/***/ }

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__(932));
/******/ var __webpack_export_target__ = window;
/******/ for(var __webpack_i__ in __webpack_exports__) __webpack_export_target__[__webpack_i__] = __webpack_exports__[__webpack_i__];
/******/ if(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, "__esModule", { value: true });
/******/ }
]);