"use strict";(Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2=Object("undefined"!=typeof window?window:global).webpackChunkwp_pdf_builder_pro_v2||[]).push([[835],{932(a,e,n){n.r(e),function(a){a(document).ready(function(){a(".canvas-configure-btn").each(function(a){}),a(".canvas-card").each(function(e){a(this).data("category")}),a(document).on("click",".canvas-configure-btn",function(a){return a.preventDefault(),!1})}),a(document).on("pdfBuilderTabChanged",function(e,n){var o=a("#canvas-cards-container");"contenu"===n?o.show():o.hide()});var e={init:function(){a(document).on("click",".canvas-configure-btn",function(n){n.preventDefault();var o=a(this).closest(".canvas-card").data("category");o&&e.openModal(o)}),a(document).on("click",".canvas-modal-close, .canvas-modal-cancel",function(n){n.preventDefault();var o=a(this).closest(".canvas-modal-overlay");e.closeModal(o)}),a(document).on("click",".canvas-modal-overlay",function(n){n.target===this&&e.closeModal(a(this))}),a(document).on("click",".canvas-modal-apply",function(n){n.preventDefault();var o=a(this),t=o.closest(".canvas-modal-overlay"),c=o.data("category")||t.data("category");c&&e.saveModal(t,c)})},openModal:function(e){var n=a("#canvas-"+e+"-modal-overlay");0!==n.length&&(a(".canvas-modal-overlay").hide(),n.show(),a("body").css("overflow","hidden"))},closeModal:function(e){e.hide(),a("body").css("overflow","")},saveModal:function(n,o){var t=n.find(".canvas-modal-apply"),c=t.text();t.prop("disabled",!0).text("â³ Sauvegarde...");var d=new FormData;d.append("action","pdf_builder_save_canvas_modal"),d.append("category",o),d.append("nonce",window.pdfBuilderCanvasSettings?window.pdfBuilderCanvasSettings.nonce:""),n.find("input, select, textarea").each(function(){var e=a(this),n=e.attr("name"),o=e.attr("type");if(n&&!e.prop("disabled")){var t;if("checkbox"===o)t=e.prop("checked")?"1":"0";else if("radio"===o){if(!e.prop("checked"))return;t=e.val()}else t=e.val();null!=t&&d.append(n,t)}}),a.ajax({url:window.pdfBuilderCanvasSettings?window.pdfBuilderCanvasSettings.ajax_url:ajaxurl,type:"POST",data:d,processData:!1,contentType:!1,success:function(a){a.success?(e.closeModal(n),setTimeout(function(){window.location.reload()},1e3)):alert("Erreur lors de la sauvegarde: "+(a.data?a.data.message:"Erreur inconnue"))},error:function(a,e,n){alert("Erreur AJAX: "+n)},complete:function(){t.prop("disabled",!1).text(c)}})}};a(document).ready(function(){-1!==window.location.href.indexOf("page=pdf-builder-settings")&&setTimeout(function(){e.init()},500)}),window.CanvasModalManager=e}(jQuery)}},a=>{var e=a(a.s=932),n=window;for(var o in e)n[o]=e[o];e.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})}]);