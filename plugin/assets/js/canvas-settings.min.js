"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] = Object(typeof window !== "undefined" ? window : global)["webpackChunkwp_pdf_builder_pro_v2"] || []).push([[835],{

/***/ 932
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/**\r\n * PDF Builder Canvas Settings JavaScript\r\n */\r\n\r\n// LOG ABSOLU AU DÃ‰BUT - AVANT TOUT\r\nconsole.log('ðŸ”¥ðŸ”¥ðŸ”¥ CANVAS-SETTINGS.JS - FICHIER CHARGÃ‰ IMMÃ‰DIATEMENT ðŸ”¥ðŸ”¥ðŸ”¥');\r\nconsole.log('â° Timestamp absolu:', Date.now());\r\n\r\n(function($) {\r\n    'use strict';\r\n\r\n    // LOG DE TEST - Fichier chargÃ©\r\n    console.log('ðŸš€ðŸš€ðŸš€ CANVAS-SETTINGS.JS CHARGÃ‰ ET EXÃ‰CUTÃ‰ ðŸš€ðŸš€ðŸš€');\r\n    console.log('â° Timestamp de chargement:', new Date().toISOString());\r\n\r\n    console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Loading...');\r\n\r\n    // Initialize canvas settings functionality\r\n    $(document).ready(function() {\r\n        console.log('ðŸŽ¨ PDF Builder Canvas Settings JS - Document Ready');\r\n        console.log('â° Timestamp:', new Date().toISOString());\r\n\r\n        // Add any canvas-specific initialization here\r\n        if (typeof window.pdf_builder_canvas_settings !== 'undefined') {\r\n            console.log('âœ… Canvas settings initialized successfully!');\r\n            console.log('ðŸ”§ Localized variables:', window.pdf_builder_canvas_settings);\r\n        } else {\r\n            console.log('âŒ Canvas settings variables not found!');\r\n            console.log('ðŸ” Available window properties:', Object.keys(window).filter(key => key.includes('pdf_builder')));\r\n        }\r\n\r\n        // Handle modal apply buttons\r\n        $('.canvas-modal-apply').on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            console.log('=== CANVAS MODAL APPLY STARTED ===');\r\n            console.log('Timestamp:', new Date().toISOString());\r\n\r\n            var $button = $(this);\r\n            var category = $button.data('category');\r\n            var $modal = $button.closest('.canvas-modal-overlay');\r\n            var modalId = $modal.attr('id') || 'unknown-modal';\r\n\r\n            console.log('ðŸŽ¯ Modal Category:', category);\r\n            console.log('ðŸŽ¯ Modal ID:', modalId);\r\n            console.log('ðŸŽ¯ Modal Element:', $modal);\r\n\r\n            var $form = $modal.find('form');\r\n\r\n            console.log('ðŸ“‹ Form found:', $form.length > 0);\r\n            console.log('ðŸ”§ Available variables:', {\r\n                ajaxurl: typeof ajaxurl !== 'undefined' ? ajaxurl : 'undefined',\r\n                pdf_builder_ajax: typeof pdf_builder_ajax !== 'undefined' ? pdf_builder_ajax : 'undefined',\r\n                pdf_builder_canvas_settings: typeof pdf_builder_canvas_settings !== 'undefined' ? pdf_builder_canvas_settings : 'undefined'\r\n            });\r\n\r\n            // If no form, create one from modal inputs\r\n            if ($form.length === 0) {\r\n                console.log('ðŸ“ No form found, collecting inputs manually...');\r\n\r\n                var formData = new FormData();\r\n                var inputCount = 0;\r\n                var inputs = $modal.find('input, select, textarea');\r\n\r\n                console.log('ðŸ“Š Found', inputs.length, 'input elements to process');\r\n\r\n                // Collect all inputs from the modal\r\n                inputs.each(function() {\r\n                    var $input = $(this);\r\n                    var name = $input.attr('name');\r\n                    var type = $input.attr('type');\r\n                    var value = $input.val();\r\n                    var checked = $input.prop('checked');\r\n                    var disabled = $input.prop('disabled');\r\n\r\n                    console.log('ðŸ” Processing input:', {\r\n                        name: name,\r\n                        type: type,\r\n                        value: value,\r\n                        checked: checked,\r\n                        disabled: disabled,\r\n                        element: $input\r\n                    });\r\n\r\n                    if (name && !disabled) {\r\n                        inputCount++;\r\n                        if (type === 'checkbox') {\r\n                            if (checked) {\r\n                                if (name.endsWith('[]')) {\r\n                                    // Handle array inputs\r\n                                    var arrayName = name.slice(0, -2);\r\n                                    console.log('ðŸ“¦ Array input detected:', arrayName);\r\n                                    if (!formData.has(arrayName)) {\r\n                                        formData.set(arrayName, []);\r\n                                    }\r\n                                    var currentValues = formData.get(arrayName);\r\n                                    if (Array.isArray(currentValues)) {\r\n                                        currentValues.push(value);\r\n                                        formData.set(arrayName, currentValues);\r\n                                        console.log('âž• Added to array', arrayName + ':', currentValues);\r\n                                    }\r\n                                } else {\r\n                                    formData.append(name, value);\r\n                                    console.log('âœ… Checkbox added:', name + '=', value);\r\n                                }\r\n                            } else {\r\n                                console.log('âŒ Checkbox not checked, skipped:', name);\r\n                            }\r\n                        } else if (type === 'radio') {\r\n                            if (checked) {\r\n                                formData.append(name, value);\r\n                                console.log('ðŸ“» Radio selected:', name + '=', value);\r\n                            } else {\r\n                                console.log('ðŸ“» Radio not selected, skipped:', name);\r\n                            }\r\n                        } else {\r\n                            formData.append(name, value);\r\n                            console.log('ðŸ“ Input added:', name + '=', value);\r\n                        }\r\n                    } else {\r\n                        console.log('âš ï¸ Input skipped:', { name: name, disabled: disabled });\r\n                    }\r\n                });\r\n\r\n                console.log('ðŸ“ˆ Total inputs processed:', inputCount);\r\n                console.log('ðŸ“‹ Final collected form data entries (' + formData.getAll.length + ' entries):');\r\n                var entryIndex = 0;\r\n                for (let [key, value] of formData.entries()) {\r\n                    entryIndex++;\r\n                    console.log('  ' + entryIndex + '. ' + key + ':', value);\r\n                }\r\n\r\n                // Add nonce and action\r\n                console.log('ðŸ” Adding security data...');\r\n                formData.append('action', 'pdf_builder_save_canvas_settings');\r\n                formData.append('nonce', pdf_builder_canvas_settings.nonce || '');\r\n                console.log('ðŸ” Action:', 'pdf_builder_save_canvas_settings');\r\n                console.log('ðŸ” Nonce present:', !!(pdf_builder_canvas_settings.nonce));\r\n\r\n                // Show loading state\r\n                console.log('â³ Setting loading state...');\r\n                $button.prop('disabled', true).text('â³ Sauvegarde...');\r\n\r\n                // Send AJAX request\r\n                console.log('ðŸš€ Preparing AJAX request...');\r\n                console.log('ðŸŒ AJAX URL:', pdf_builder_canvas_settings.ajax_url || ajaxurl);\r\n\r\n                $.ajax({\r\n                    url: pdf_builder_canvas_settings.ajax_url || ajaxurl,\r\n                    type: 'POST',\r\n                    data: formData,\r\n                    processData: false,\r\n                    contentType: false,\r\n                    success: function(response) {\r\n                        console.log('âœ… AJAX SUCCESS - Response received:');\r\n                        console.log('ðŸ“„ Raw response:', response);\r\n\r\n                        if (response.success) {\r\n                            console.log('ðŸŽ‰ Settings saved successfully!');\r\n                            console.log('ðŸ“ Response data:', response.data);\r\n\r\n                            // Show success message\r\n                            showNotification('ParamÃ¨tres canvas sauvegardÃ©s avec succÃ¨s !', 'success');\r\n\r\n                            // Close modal\r\n                            console.log('ðŸ”’ Closing modal...');\r\n                            $modal.hide();\r\n\r\n                            // Reload page to reflect changes\r\n                            console.log('ðŸ”„ Reloading page in 1 second...');\r\n                            setTimeout(function() {\r\n                                window.location.reload();\r\n                            }, 1000);\r\n                        } else {\r\n                            console.log('âŒ Server returned error:', response.data || 'Unknown error');\r\n                            showNotification('Erreur lors de la sauvegarde : ' + (response.data || 'Erreur inconnue'), 'error');\r\n                        }\r\n                    },\r\n                    error: function(xhr, status, error) {\r\n                        console.log('ðŸ’¥ AJAX ERROR:');\r\n                        console.log('ðŸ“Š Status:', status);\r\n                        console.log('âŒ Error:', error);\r\n                        console.log('ðŸ“„ XHR:', xhr);\r\n                        showNotification('Erreur AJAX : ' + error, 'error');\r\n                    },\r\n                    complete: function() {\r\n                        console.log('ðŸ AJAX Complete - Resetting button state');\r\n                        // Reset button state\r\n                        $button.prop('disabled', false).text('âœ… Appliquer');\r\n                    }\r\n                });\r\n            } else {\r\n                console.log('ðŸ“‹ Form found, submitting normally...');\r\n                $form.submit();\r\n            }\r\n\r\n            console.log('=== CANVAS MODAL APPLY PROCESSING ===');\r\n        });\r\n\r\n        // Handle modal cancel buttons\r\n        $('.canvas-modal-cancel').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal cancel button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (cancel):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Handle modal close buttons\r\n        $('.canvas-modal-close').on('click', function(e) {\r\n            e.preventDefault();\r\n            console.log('âŒ Modal close button clicked');\r\n            var $modal = $(this).closest('.canvas-modal-overlay');\r\n            console.log('ðŸ”’ Closing modal (close):', $modal.attr('id'));\r\n            $modal.hide();\r\n        });\r\n\r\n        // Close modal when clicking outside\r\n        $('.canvas-modal-overlay').on('click', function(e) {\r\n            if (e.target === this) {\r\n                console.log('âŒ Modal overlay clicked (outside)');\r\n                var $modal = $(this);\r\n                console.log('ðŸ”’ Closing modal (overlay):', $modal.attr('id'));\r\n                $(this).hide();\r\n            }\r\n        });\r\n\r\n        // Add logs for modal opening (if triggered by external buttons)\r\n        $(document).on('click', '[data-modal], .open-modal, .modal-trigger', function(e) {\r\n            console.log('ðŸšª Modal trigger clicked:', {\r\n                element: this,\r\n                className: $(this).attr('class'),\r\n                dataModal: $(this).data('modal'),\r\n                targetModal: $(this).attr('data-target') || $(this).data('modal')\r\n            });\r\n        });\r\n\r\n        // Monitor modal visibility changes\r\n        $('.canvas-modal-overlay').each(function() {\r\n            var $modal = $(this);\r\n            var modalId = $modal.attr('id');\r\n            \r\n            // Create a mutation observer to detect when modal becomes visible\r\n            var observer = new MutationObserver(function(mutations) {\r\n                mutations.forEach(function(mutation) {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {\r\n                        var display = $modal.css('display');\r\n                        if (display === 'flex' || display === 'block') {\r\n                            console.log('ðŸ“‚ Modal opened:', modalId);\r\n                        } else if (display === 'none') {\r\n                            console.log('ðŸ“ Modal closed:', modalId);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            \r\n            observer.observe($modal[0], {\r\n                attributes: true,\r\n                attributeFilter: ['style']\r\n            });\r\n        });\r\n    });\r\n\r\n    // Helper function to show notifications\r\n    function showNotification(message, type) {\r\n        // Try to use existing notification system\r\n        if (typeof showPdfBuilderNotification !== 'undefined') {\r\n            showPdfBuilderNotification(message, type);\r\n        } else {\r\n            // Fallback to alert\r\n            alert(message);\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMyLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiwyREFBMkQsZ0NBQWdDO0FBQzNGO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC1wZGYtYnVpbGRlci1wcm8tdjIvLi9zcmMvanMvYWRtaW4vY2FudmFzLXNldHRpbmdzLmpzP2QwZjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFBERiBCdWlsZGVyIENhbnZhcyBTZXR0aW5ncyBKYXZhU2NyaXB0XHJcbiAqL1xyXG5cclxuLy8gTE9HIEFCU09MVSBBVSBEw4lCVVQgLSBBVkFOVCBUT1VUXHJcbmNvbnNvbGUubG9nKCfwn5Sl8J+UpfCflKUgQ0FOVkFTLVNFVFRJTkdTLkpTIC0gRklDSElFUiBDSEFSR8OJIElNTcOJRElBVEVNRU5UIPCflKXwn5Sl8J+UpScpO1xyXG5jb25zb2xlLmxvZygn4o+wIFRpbWVzdGFtcCBhYnNvbHU6JywgRGF0ZS5ub3coKSk7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8vIExPRyBERSBURVNUIC0gRmljaGllciBjaGFyZ8OpXHJcbiAgICBjb25zb2xlLmxvZygn8J+agPCfmoDwn5qAIENBTlZBUy1TRVRUSU5HUy5KUyBDSEFSR8OJIEVUIEVYw4lDVVTDiSDwn5qA8J+agPCfmoAnKTtcclxuICAgIGNvbnNvbGUubG9nKCfij7AgVGltZXN0YW1wIGRlIGNoYXJnZW1lbnQ6JywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygn8J+OqCBQREYgQnVpbGRlciBDYW52YXMgU2V0dGluZ3MgSlMgLSBMb2FkaW5nLi4uJyk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBjYW52YXMgc2V0dGluZ3MgZnVuY3Rpb25hbGl0eVxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjqggUERGIEJ1aWxkZXIgQ2FudmFzIFNldHRpbmdzIEpTIC0gRG9jdW1lbnQgUmVhZHknKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4o+wIFRpbWVzdGFtcDonLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAvLyBBZGQgYW55IGNhbnZhcy1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBoZXJlXHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cucGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIENhbnZhcyBzZXR0aW5ncyBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIExvY2FsaXplZCB2YXJpYWJsZXM6Jywgd2luZG93LnBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBDYW52YXMgc2V0dGluZ3MgdmFyaWFibGVzIG5vdCBmb3VuZCEnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQXZhaWxhYmxlIHdpbmRvdyBwcm9wZXJ0aWVzOicsIE9iamVjdC5rZXlzKHdpbmRvdykuZmlsdGVyKGtleSA9PiBrZXkuaW5jbHVkZXMoJ3BkZl9idWlsZGVyJykpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCBhcHBseSBidXR0b25zXHJcbiAgICAgICAgJCgnLmNhbnZhcy1tb2RhbC1hcHBseScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBDQU5WQVMgTU9EQUwgQVBQTFkgU1RBUlRFRCA9PT0nKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RpbWVzdGFtcDonLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSAkYnV0dG9uLmRhdGEoJ2NhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkYnV0dG9uLmNsb3Nlc3QoJy5jYW52YXMtbW9kYWwtb3ZlcmxheScpO1xyXG4gICAgICAgICAgICB2YXIgbW9kYWxJZCA9ICRtb2RhbC5hdHRyKCdpZCcpIHx8ICd1bmtub3duLW1vZGFsJztcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIE1vZGFsIENhdGVnb3J5OicsIGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gTW9kYWwgSUQ6JywgbW9kYWxJZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIE1vZGFsIEVsZW1lbnQ6JywgJG1vZGFsKTtcclxuXHJcbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICRtb2RhbC5maW5kKCdmb3JtJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBGb3JtIGZvdW5kOicsICRmb3JtLmxlbmd0aCA+IDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBBdmFpbGFibGUgdmFyaWFibGVzOicsIHtcclxuICAgICAgICAgICAgICAgIGFqYXh1cmw6IHR5cGVvZiBhamF4dXJsICE9PSAndW5kZWZpbmVkJyA/IGFqYXh1cmwgOiAndW5kZWZpbmVkJyxcclxuICAgICAgICAgICAgICAgIHBkZl9idWlsZGVyX2FqYXg6IHR5cGVvZiBwZGZfYnVpbGRlcl9hamF4ICE9PSAndW5kZWZpbmVkJyA/IHBkZl9idWlsZGVyX2FqYXggOiAndW5kZWZpbmVkJyxcclxuICAgICAgICAgICAgICAgIHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5nczogdHlwZW9mIHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcgPyBwZGZfYnVpbGRlcl9jYW52YXNfc2V0dGluZ3MgOiAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIG5vIGZvcm0sIGNyZWF0ZSBvbmUgZnJvbSBtb2RhbCBpbnB1dHNcclxuICAgICAgICAgICAgaWYgKCRmb3JtLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gTm8gZm9ybSBmb3VuZCwgY29sbGVjdGluZyBpbnB1dHMgbWFudWFsbHkuLi4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dHMgPSAkbW9kYWwuZmluZCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBGb3VuZCcsIGlucHV0cy5sZW5ndGgsICdpbnB1dCBlbGVtZW50cyB0byBwcm9jZXNzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgaW5wdXRzIGZyb20gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICBpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9ICRpbnB1dC5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSAkaW5wdXQuYXR0cigndHlwZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICRpbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9ICRpbnB1dC5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2FibGVkID0gJGlucHV0LnByb3AoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFByb2Nlc3NpbmcgaW5wdXQ6Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lICYmICFkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmVuZHNXaXRoKCdbXScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhcnJheSBpbnB1dHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5TmFtZSA9IG5hbWUuc2xpY2UoMCwgLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpiBBcnJheSBpbnB1dCBkZXRlY3RlZDonLCBhcnJheU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvcm1EYXRhLmhhcyhhcnJheU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5zZXQoYXJyYXlOYW1lLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZXMgPSBmb3JtRGF0YS5nZXQoYXJyYXlOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5zZXQoYXJyYXlOYW1lLCBjdXJyZW50VmFsdWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinpUgQWRkZWQgdG8gYXJyYXknLCBhcnJheU5hbWUgKyAnOicsIGN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBDaGVja2JveCBhZGRlZDonLCBuYW1lICsgJz0nLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIENoZWNrYm94IG5vdCBjaGVja2VkLCBza2lwcGVkOicsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TuyBSYWRpbyBzZWxlY3RlZDonLCBuYW1lICsgJz0nLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5O7IFJhZGlvIG5vdCBzZWxlY3RlZCwgc2tpcHBlZDonLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBJbnB1dCBhZGRlZDonLCBuYW1lICsgJz0nLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIElucHV0IHNraXBwZWQ6JywgeyBuYW1lOiBuYW1lLCBkaXNhYmxlZDogZGlzYWJsZWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ggVG90YWwgaW5wdXRzIHByb2Nlc3NlZDonLCBpbnB1dENvdW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEZpbmFsIGNvbGxlY3RlZCBmb3JtIGRhdGEgZW50cmllcyAoJyArIGZvcm1EYXRhLmdldEFsbC5sZW5ndGggKyAnIGVudHJpZXMpOicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5SW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5SW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnICAnICsgZW50cnlJbmRleCArICcuICcgKyBrZXkgKyAnOicsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgbm9uY2UgYW5kIGFjdGlvblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJAgQWRkaW5nIHNlY3VyaXR5IGRhdGEuLi4nKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWN0aW9uJywgJ3BkZl9idWlsZGVyX3NhdmVfY2FudmFzX3NldHRpbmdzJyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ25vbmNlJywgcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzLm5vbmNlIHx8ICcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEFjdGlvbjonLCAncGRmX2J1aWxkZXJfc2F2ZV9jYW52YXNfc2V0dGluZ3MnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SQIE5vbmNlIHByZXNlbnQ6JywgISEocGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzLm5vbmNlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+zIFNldHRpbmcgbG9hZGluZyBzdGF0ZS4uLicpO1xyXG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnRleHQoJ+KPsyBTYXV2ZWdhcmRlLi4uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2VuZCBBSkFYIHJlcXVlc3RcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIFByZXBhcmluZyBBSkFYIHJlcXVlc3QuLi4nKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4yQIEFKQVggVVJMOicsIHBkZl9idWlsZGVyX2NhbnZhc19zZXR0aW5ncy5hamF4X3VybCB8fCBhamF4dXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogcGRmX2J1aWxkZXJfY2FudmFzX3NldHRpbmdzLmFqYXhfdXJsIHx8IGFqYXh1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBBSkFYIFNVQ0NFU1MgLSBSZXNwb25zZSByZWNlaXZlZDonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4QgUmF3IHJlc3BvbnNlOicsIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OiSBTZXR0aW5ncyBzYXZlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBSZXNwb25zZSBkYXRhOicsIHJlc3BvbnNlLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKCdQYXJhbcOodHJlcyBjYW52YXMgc2F1dmVnYXJkw6lzIGF2ZWMgc3VjY8OocyAhJywgJ3N1Y2Nlc3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJIgQ2xvc2luZyBtb2RhbC4uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1vZGFsLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWxvYWQgcGFnZSB0byByZWZsZWN0IGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFJlbG9hZGluZyBwYWdlIGluIDEgc2Vjb25kLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBTZXJ2ZXIgcmV0dXJuZWQgZXJyb3I6JywgcmVzcG9uc2UuZGF0YSB8fCAnVW5rbm93biBlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbignRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZSA6ICcgKyAocmVzcG9uc2UuZGF0YSB8fCAnRXJyZXVyIGluY29ubnVlJyksICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KlIEFKQVggRVJST1I6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFN0YXR1czonLCBzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIEVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4QgWEhSOicsIHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ0VycmV1ciBBSkFYIDogJyArIGVycm9yLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfj4EgQUpBWCBDb21wbGV0ZSAtIFJlc2V0dGluZyBidXR0b24gc3RhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgYnV0dG9uIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRidXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudGV4dCgn4pyFIEFwcGxpcXVlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgRm9ybSBmb3VuZCwgc3VibWl0dGluZyBub3JtYWxseS4uLicpO1xyXG4gICAgICAgICAgICAgICAgJGZvcm0uc3VibWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0gQ0FOVkFTIE1PREFMIEFQUExZIFBST0NFU1NJTkcgPT09Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCBjYW5jZWwgYnV0dG9uc1xyXG4gICAgICAgICQoJy5jYW52YXMtbW9kYWwtY2FuY2VsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgTW9kYWwgY2FuY2VsIGJ1dHRvbiBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5jYW52YXMtbW9kYWwtb3ZlcmxheScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBDbG9zaW5nIG1vZGFsIChjYW5jZWwpOicsICRtb2RhbC5hdHRyKCdpZCcpKTtcclxuICAgICAgICAgICAgJG1vZGFsLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIG1vZGFsIGNsb3NlIGJ1dHRvbnNcclxuICAgICAgICAkKCcuY2FudmFzLW1vZGFsLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgTW9kYWwgY2xvc2UgYnV0dG9uIGNsaWNrZWQnKTtcclxuICAgICAgICAgICAgdmFyICRtb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLmNhbnZhcy1tb2RhbC1vdmVybGF5Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SSIENsb3NpbmcgbW9kYWwgKGNsb3NlKTonLCAkbW9kYWwuYXR0cignaWQnKSk7XHJcbiAgICAgICAgICAgICRtb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlIG1vZGFsIHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxyXG4gICAgICAgICQoJy5jYW52YXMtbW9kYWwtb3ZlcmxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIE1vZGFsIG92ZXJsYXkgY2xpY2tlZCAob3V0c2lkZSknKTtcclxuICAgICAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflJIgQ2xvc2luZyBtb2RhbCAob3ZlcmxheSk6JywgJG1vZGFsLmF0dHIoJ2lkJykpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGxvZ3MgZm9yIG1vZGFsIG9wZW5pbmcgKGlmIHRyaWdnZXJlZCBieSBleHRlcm5hbCBidXR0b25zKVxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1tb2RhbF0sIC5vcGVuLW1vZGFsLCAubW9kYWwtdHJpZ2dlcicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmqogTW9kYWwgdHJpZ2dlciBjbGlja2VkOicsIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICQodGhpcykuYXR0cignY2xhc3MnKSxcclxuICAgICAgICAgICAgICAgIGRhdGFNb2RhbDogJCh0aGlzKS5kYXRhKCdtb2RhbCcpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0TW9kYWw6ICQodGhpcykuYXR0cignZGF0YS10YXJnZXQnKSB8fCAkKHRoaXMpLmRhdGEoJ21vZGFsJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE1vbml0b3IgbW9kYWwgdmlzaWJpbGl0eSBjaGFuZ2VzXHJcbiAgICAgICAgJCgnLmNhbnZhcy1tb2RhbC1vdmVybGF5JykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICRtb2RhbCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBtb2RhbElkID0gJG1vZGFsLmF0dHIoJ2lkJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBtdXRhdGlvbiBvYnNlcnZlciB0byBkZXRlY3Qgd2hlbiBtb2RhbCBiZWNvbWVzIHZpc2libGVcclxuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtdXRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzcGxheSA9ICRtb2RhbC5jc3MoJ2Rpc3BsYXknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09ICdmbGV4JyB8fCBkaXNwbGF5ID09PSAnYmxvY2snKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TgiBNb2RhbCBvcGVuZWQ6JywgbW9kYWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TgSBNb2RhbCBjbG9zZWQ6JywgbW9kYWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKCRtb2RhbFswXSwge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydzdHlsZSddXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNob3cgbm90aWZpY2F0aW9uc1xyXG4gICAgZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbihtZXNzYWdlLCB0eXBlKSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIHVzZSBleGlzdGluZyBub3RpZmljYXRpb24gc3lzdGVtXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzaG93UGRmQnVpbGRlck5vdGlmaWNhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgc2hvd1BkZkJ1aWxkZXJOb3RpZmljYXRpb24obWVzc2FnZSwgdHlwZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYWxlcnRcclxuICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoalF1ZXJ5KTtcclxuXHJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///932\n\n}");

/***/ }

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__(932));
/******/ var __webpack_export_target__ = window;
/******/ for(var __webpack_i__ in __webpack_exports__) __webpack_export_target__[__webpack_i__] = __webpack_exports__[__webpack_i__];
/******/ if(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, "__esModule", { value: true });
/******/ }
]);