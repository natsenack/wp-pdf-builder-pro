{"version":3,"file":"js/pdf-builder-react.bundle.js","mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACHA;AAGA;AACA;AACA;AACA;AACA;AACA;AASA;AAAA;AAvBA;AACA;AAEA;AAEA;AAGA;AAiBA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAOA;AAEA;AACA;AAAA;AAAA;AAAA;AApCA;AAAA;AAAA;AACA;AAAA;AAAA;AAuCA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AAAA;AAIA;AAEA;;AAEA;AACA;AACA","sources":["webpack://PDFBuilder/webpack/universalModuleDefinition","webpack://PDFBuilder/./assets/js/pdf-builder-react/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PDFBuilder\"] = factory();\n\telse\n\t\troot[\"PDFBuilder\"] = factory();\n})(self, () => {\nreturn ","// ============================================================================\n// PDF Builder React Bundle - Entry Point\n// ============================================================================\n\n// Note: Performance patch is loaded separately as 'pdf-builder-react-performance-patch' entry point\n\n// Import du diagnostic de compatibilit√©\nimport '../fallbacks/browser-compatibility.js';\n\n// Import des composants React\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { PDFBuilder } from './PDFBuilder.tsx';\nimport { DEFAULT_CANVAS_WIDTH, DEFAULT_CANVAS_HEIGHT } from './constants/canvas.ts';\nimport { debugLog, debugError } from './utils/debug';\nimport { \n  registerEditorInstance,\n  loadTemplate,\n  getEditorState,\n  setEditorState,\n  getCurrentTemplate,\n  exportTemplate,\n  saveTemplate,\n  resetAPI\n} from './api/global-api';\n\n// Composant ErrorBoundary pour capturer les erreurs de rendu\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(_error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    debugError('‚ùå React Error Boundary caught an error:', error);\n    debugError('‚ùå Error Info:', errorInfo);\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return React.createElement('div', {\n        style: {\n          padding: '20px',\n          border: '1px solid #ff6b6b',\n          borderRadius: '5px',\n          backgroundColor: '#ffe6e6',\n          color: '#d63031',\n          fontFamily: 'Arial, sans-serif'\n        }\n      }, \n        React.createElement('h2', null, 'Erreur dans l\\'√©diteur PDF'),\n        React.createElement('p', null, 'Une erreur s\\'est produite lors du rendu de l\\'√©diteur. Veuillez rafra√Æchir la page.'),\n        React.createElement('details', { style: { whiteSpace: 'pre-wrap' } },\n          React.createElement('summary', null, 'D√©tails de l\\'erreur'),\n          this.state.error && this.state.error.toString(),\n          React.createElement('br'),\n          this.state.errorInfo && this.state.errorInfo.componentStack\n        )\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// √âtat de l'application\n// let currentTemplate = null;\n// let isModified = false;\n\n// Flag pour afficher les logs d'initialisation d√©taill√©s\nconst DEBUG_VERBOSE = false;\n\nif (DEBUG_VERBOSE) debugLog('üöÄ PDF Builder React bundle starting execution...');\n\nfunction initPDFBuilderReact() {\n  if (DEBUG_VERBOSE) debugLog('‚úÖ initPDFBuilderReact function called');\n\n  try {\n    // V√©rifier si le container existe\n    const container = document.getElementById('pdf-builder-react-root');\n    if (DEBUG_VERBOSE) debugLog('üîç Container element:', container);\n    if (!container) {\n      debugError('‚ùå Container #pdf-builder-react-root not found');\n      return false;\n    }\n\n    if (DEBUG_VERBOSE) debugLog('‚úÖ Container found, checking dependencies...');\n\n    // V√©rifier les d√©pendances\n    if (typeof React === 'undefined') {\n      debugError('‚ùå React is not available');\n      return false;\n    }\n    if (typeof ReactDOM === 'undefined') {\n      debugError('‚ùå ReactDOM is not available');\n      return false;\n    }\n    if (DEBUG_VERBOSE) debugLog('‚úÖ React dependencies available');\n\n    if (DEBUG_VERBOSE) debugLog('üéØ All dependencies loaded, initializing React...');\n\n    // Masquer le loading et afficher l'√©diteur\n    const loadingEl = document.getElementById('pdf-builder-react-loading');\n    const editorEl = document.getElementById('pdf-builder-react-editor');\n\n    if (loadingEl) loadingEl.style.display = 'none';\n    if (editorEl) editorEl.style.display = 'block';\n\n    if (DEBUG_VERBOSE) debugLog('üé® Creating React root...');\n\n    // Cr√©er et rendre l'application React\n    const root = ReactDOM.createRoot(container);\n    if (DEBUG_VERBOSE) debugLog('üé® React root created, rendering component...');\n\n    root.render(React.createElement(ErrorBoundary, null, \n      React.createElement(PDFBuilder, { width: DEFAULT_CANVAS_WIDTH, height: DEFAULT_CANVAS_HEIGHT })\n    ));\n    if (DEBUG_VERBOSE) debugLog('‚úÖ React component rendered successfully');\n\n    return true;\n\n  } catch (error) {\n    debugError('‚ùå Error in initPDFBuilderReact:', error);\n    debugError('‚ùå Error stack:', error.stack);\n    const container = document.getElementById('pdf-builder-react-root');\n    if (container) {\n      container.innerHTML = '<p>‚ùå Erreur lors du rendu React: ' + error.message + '</p><pre>' + error.stack + '</pre>';\n    }\n    return false;\n  }\n}\n\nif (DEBUG_VERBOSE) debugLog('üì¶ Creating exports object...');\n\n// Export default pour webpack\nconst exports = {\n  initPDFBuilderReact,\n  loadTemplate,\n  getEditorState,\n  setEditorState,\n  getCurrentTemplate,\n  exportTemplate,\n  saveTemplate,\n  registerEditorInstance,\n  resetAPI\n};\n\nif (DEBUG_VERBOSE) debugLog('üåê Assigning to window...');\n\n// Wrapper IIFE for immediate execution\n(function() {\n  if (typeof window === 'undefined') {\n\n    return;\n  }\n\n  // CRITICAL: Assign the exports object directly and immediately\n  window.pdfBuilderReact = exports;\n  \n  // Verify immediately\n  if (window.pdfBuilderReact && typeof window.pdfBuilderReact.initPDFBuilderReact === 'function') {\n    // Silent success - editor is ready\n  } else {\n\n  }\n}).call(window);\n\nif (DEBUG_VERBOSE) debugLog('üéâ PDF Builder React bundle execution completed');\n\n// NO MORE EXPORTS - webpack will handle this differently\n// Removed: export default exports;\n// Removed: if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') { module.exports = exports; }\n"],"names":[],"sourceRoot":""}