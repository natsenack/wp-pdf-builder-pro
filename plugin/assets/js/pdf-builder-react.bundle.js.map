{"version":3,"file":"js/pdf-builder-react.bundle.js","mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://pdfBuilderReact/./assets/js/pdf-builder-react/index.js","webpack://pdfBuilderReact/./assets/ts/components/PDFBuilder.tsx","webpack://pdfBuilderReact/./assets/ts/components/TemplateSelector.tsx"],"sourcesContent":["// ============================================================================\n// PDF Builder React Bundle - Entry Point\n// ============================================================================\n\nconsole.log('üî• [PDF Builder] BUNDLE EXECUTING - START - TIMESTAMP:', new Date().toISOString());\nconsole.log('üî• [PDF Builder] Document ready state:', document.readyState);\nconsole.log('üî• [PDF Builder] Window location:', window.location.href);\n\n// Import the main PDF Builder component\nimport PDFBuilder from '@/ts/components/PDFBuilder';\n\nconsole.log('üî• [PDF Builder] PDFBuilder import completed');\n\n// Use WordPress globals instead of imports\nvar React = window.React;\nvar ReactDOM = window.ReactDOM;\n\nconsole.log('üî• [PDF Builder] React globals:', { React: typeof React, ReactDOM: typeof ReactDOM });\nconsole.log('üî• [PDF Builder] window.React version:', window.React && window.React.version);\nconsole.log('üî• [PDF Builder] window.ReactDOM version:', window.ReactDOM && window.ReactDOM.version);\n\n// Flag pour afficher les logs d'initialisation d√©taill√©s\nvar DEBUG_VERBOSE = true;\n\nif (DEBUG_VERBOSE) console.log('üöÄ PDF Builder React bundle starting execution...');\n\nfunction initPDFBuilderReact() {\n  console.log('üîß [PDF Builder] initPDFBuilderReact function called');\n  console.log('üìä [PDF Builder] PDFBuilder type:', typeof PDFBuilder);\n  console.log('üìä [PDF Builder] PDFBuilder:', PDFBuilder);\n\n  try {\n    console.log('üîç [PDF Builder] Looking for container...');\n    // V√©rifier si le container existe\n    var container = document.getElementById('pdf-builder-react-root');\n    console.log('üîç [PDF Builder] Container element:', container);\n    if (!container) {\n      console.error('‚ùå [PDF Builder] Container #pdf-builder-react-root not found');\n      return false;\n    }\n\n    console.log('‚úÖ [PDF Builder] Container found, checking dependencies...');\n\n    // V√©rifier les d√©pendances\n    console.log('üîß [PDF Builder] Checking React availability:', typeof React, React);\n    if (typeof React === 'undefined') {\n      console.error('‚ùå [PDF Builder] React is not available');\n      return false;\n    }\n    console.log('üîß [PDF Builder] Checking ReactDOM availability:', typeof ReactDOM, ReactDOM);\n    if (typeof ReactDOM === 'undefined') {\n      console.error('‚ùå [PDF Builder] ReactDOM is not available');\n      return false;\n    }\n    console.log('üîß [PDF Builder] Checking ReactDOM.createRoot:', typeof ReactDOM.createRoot);\n    if (typeof ReactDOM.createRoot === 'undefined') {\n      console.error('‚ùå [PDF Builder] ReactDOM.createRoot is not available');\n      return false;\n    }\n\n    console.log('‚úÖ [PDF Builder] React dependencies available');\n\n    console.log('üéØ [PDF Builder] All dependencies loaded, initializing React...');\n\n    // Masquer le loading et afficher l'√©diteur\n    var loadingEl = document.getElementById('pdf-builder-react-loading');\n    var editorEl = document.getElementById('pdf-builder-react-editor');\n\n    console.log('üé® [PDF Builder] Hiding loading, showing editor:', { loadingEl, editorEl });\n    if (loadingEl) loadingEl.style.display = 'none';\n    if (editorEl) editorEl.style.display = 'block';\n\n    console.log('üé® [PDF Builder] Creating React root...');\n\n    // Cr√©er et rendre l'application React\n    var root = ReactDOM.createRoot(container);\n    console.log('üé® [PDF Builder] React root created, rendering PDF Builder component...');\n\n    console.log('üì¶ [PDF Builder] About to create element from PDFBuilder...');\n    var pdfBuilderElement = React.createElement(PDFBuilder);\n\n    console.log('üé® [PDF Builder] Created PDF Builder element:', pdfBuilderElement);\n    console.log('üé® [PDF Builder] Element type:', pdfBuilderElement.type);\n    console.log('üé® [PDF Builder] Element props:', pdfBuilderElement.props);\n\n    console.log('üî¥ [PDF Builder] ABOUT TO RENDER TO CONTAINER');\n    root.render(pdfBuilderElement);\n    console.log('‚úÖ [PDF Builder] PDF Builder component rendered successfully');\n\n    return true;\n\n  } catch (error) {\n    console.error('‚ùå [PDF Builder] Error in initPDFBuilderReact:', error);\n    console.error('‚ùå [PDF Builder] Error stack:', error.stack);\n    console.error('‚ùå [PDF Builder] Error message:', error.message);\n    var container = document.getElementById('pdf-builder-react-root');\n    if (container) {\n      container.innerHTML = '<p>‚ùå Erreur lors du rendu React: ' + error.message + '</p><pre>' + error.stack + '</pre>';\n    }\n    return false;\n  }\n}\n\nif (DEBUG_VERBOSE) console.log('üì¶ Creating exports object...');\n\n// Export default pour webpack\nvar exports = {\n  initPDFBuilderReact\n};\n\nif (DEBUG_VERBOSE) console.log('üåê Assigning to window...');\n\n// Wrapper IIFE for immediate execution\n(function() {\n  console.log('üîÑ [PDF Builder] IIFE starting at', new Date().toISOString());\n  if (typeof window === 'undefined') {\n    console.warn('‚ö†Ô∏è [PDF Builder] Window not available, skipping global assignment');\n    return;\n  }\n\n  console.log('üîÑ [PDF Builder] About to assign to window.pdfBuilderReact');\n  console.log('üîÑ [PDF Builder] exports object:', exports);\n  console.log('üîÑ [PDF Builder] exports.initPDFBuilderReact:', typeof exports.initPDFBuilderReact);\n\n  // CRITICAL: Assign the exports object directly and immediately\n  window.pdfBuilderReact = exports;\n  console.log('üåê [PDF Builder] Assigned to window.pdfBuilderReact:', window.pdfBuilderReact);\n  console.log('üåê [PDF Builder] window.pdfBuilderReact keys:', Object.keys(window.pdfBuilderReact));\n  \n  // Verify immediately\n  if (window.pdfBuilderReact && typeof window.pdfBuilderReact.initPDFBuilderReact === 'function') {\n    console.log('‚úÖ [PDF Builder] initPDFBuilderReact function is available globally');\n    console.log('‚úÖ [PDF Builder] initPDFBuilderReact:', window.pdfBuilderReact.initPDFBuilderReact);\n  } else {\n    console.error('‚ùå [PDF Builder] initPDFBuilderReact function NOT available globally');\n    console.error('‚ùå [PDF Builder] window.pdfBuilderReact:', window.pdfBuilderReact);\n    console.error('‚ùå [PDF Builder] typeof window.pdfBuilderReact:', typeof window.pdfBuilderReact);\n  }\n}).call(window);\n\nif (DEBUG_VERBOSE) console.log('üéâ PDF Builder React bundle execution completed at', new Date().toISOString());\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport React from 'react';\r\nimport TemplateSelector from '@/ts/components/TemplateSelector';\r\n/**\r\n * Main PDF Builder component\r\n */\r\nconst PDFBuilder = () => {\r\n    return (_jsxs(\"div\", { className: \"pdf-builder-container\", children: [_jsxs(\"div\", { className: \"pdf-builder-header\", children: [_jsx(\"h1\", { children: \"PDF Builder Pro\" }), _jsx(\"p\", { children: \"Cr\\u00E9ez vos templates PDF personnalis\\u00E9s\" })] }), _jsx(\"div\", { className: \"pdf-builder-content\", children: _jsx(TemplateSelector, { onTemplateSelect: (template) => {\r\n                        console.log('Template selected:', template);\r\n                        // TODO: Implement template selection logic\r\n                    } }) })] }));\r\n};\r\nexport default PDFBuilder;\r\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport React, { useState, useEffect } from 'react';\r\n/**\r\n * Composant pour s√©lectionner un template PDF\r\n * Exemple d'utilisation de la structure TypeScript\r\n */\r\nconst TemplateSelector = ({ selectedTemplate, onTemplateSelect, category, isLoading = false, className = '', ...props }) => {\r\n    const [templates, setTemplates] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    // Chargement des templates\r\n    useEffect(() => {\r\n        const loadTemplates = async () => {\r\n            var _a;\r\n            try {\r\n                setError(null);\r\n                // Exemple d'appel AJAX WordPress\r\n                const response = await fetch(window.ajaxurl, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                    body: new URLSearchParams({\r\n                        action: 'pdf_builder_get_templates',\r\n                        category: category || '',\r\n                        nonce: window.pdfBuilderPro.nonce,\r\n                    }),\r\n                }).then(res => res.json());\r\n                if (response.success) {\r\n                    setTemplates(response.data);\r\n                }\r\n                else {\r\n                    setError(((_a = response.data) === null || _a === void 0 ? void 0 : _a.message) || 'Erreur lors du chargement des templates');\r\n                }\r\n            }\r\n            catch (err) {\r\n                setError('Erreur de connexion');\r\n                console.error('Erreur lors du chargement des templates:', err);\r\n            }\r\n        };\r\n        loadTemplates();\r\n    }, [category]);\r\n    // Gestionnaire de s√©lection\r\n    const handleTemplateSelect = (template) => {\r\n        onTemplateSelect(template);\r\n    };\r\n    // Rendu en cas d'erreur\r\n    if (error) {\r\n        return (_jsx(\"div\", { className: `template-selector error ${className}`, ...props, children: _jsxs(\"div\", { className: \"error-message\", children: [_jsx(\"p\", { children: error }), _jsx(\"button\", { type: \"button\", onClick: () => window.location.reload(), className: \"button button-secondary\", children: \"R\\u00E9essayer\" })] }) }));\r\n    }\r\n    // Rendu en cours de chargement\r\n    if (isLoading) {\r\n        return (_jsx(\"div\", { className: `template-selector loading ${className}`, ...props, children: _jsxs(\"div\", { className: \"loading-spinner\", children: [_jsx(\"span\", { className: \"dashicons dashicons-update spin\" }), _jsx(\"p\", { children: \"Chargement des templates...\" })] }) }));\r\n    }\r\n    // Rendu normal\r\n    return (_jsxs(\"div\", { className: `template-selector ${className}`, ...props, children: [_jsx(\"h3\", { children: \"S\\u00E9lectionner un template\" }), _jsx(\"div\", { className: \"template-grid\", children: templates.map((template) => (_jsxs(\"div\", { className: `template-card ${(selectedTemplate === null || selectedTemplate === void 0 ? void 0 : selectedTemplate.id) === template.id ? 'selected' : ''}`, onClick: () => handleTemplateSelect(template), role: \"button\", tabIndex: 0, onKeyDown: (e) => {\r\n                        if (e.key === 'Enter' || e.key === ' ') {\r\n                            e.preventDefault();\r\n                            handleTemplateSelect(template);\r\n                        }\r\n                    }, children: [template.thumbnail && (_jsx(\"img\", { src: template.thumbnail, alt: template.name, className: \"template-thumbnail\" })), _jsxs(\"div\", { className: \"template-info\", children: [_jsx(\"h4\", { children: template.name }), _jsx(\"p\", { children: template.description }), _jsx(\"span\", { className: \"template-category\", children: template.category })] }), template.isDefault && (_jsx(\"span\", { className: \"template-badge default\", children: \"Par d\\u00E9faut\" }))] }, template.id))) }), templates.length === 0 && (_jsx(\"div\", { className: \"no-templates\", children: _jsx(\"p\", { children: \"Aucun template disponible\" }) }))] }));\r\n};\r\nexport default TemplateSelector;\r\n"],"names":[],"sourceRoot":""}