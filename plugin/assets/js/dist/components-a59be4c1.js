/*! For license information please see components-a59be4c1.js.LICENSE.txt */
"use strict";(this.webpackChunkwp_pdf_builder_pro=this.webpackChunkwp_pdf_builder_pro||[]).push([[948],{452:function(e,n,t){t.d(n,{Y:function(){return v}});var r=t(594),o=t(75),i=t(76),l=t(49),a=t(848);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var s=r&&r.prototype instanceof a?r:a,d=Object.create(s.prototype);return c(d,"_invoke",function(t,r,o){var i,a,s,d=0,p=o||[],c=!1,u={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(n,t){return i=n,a=0,s=e,u.n=t,l}};function f(t,r){for(a=t,s=r,n=0;!c&&d&&!o&&n<p.length;n++){var o,i=p[n],f=u.p,x=i[2];t>3?(o=x===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=t<2&&f<i[1])?(a=0,u.v=r,u.n=i[1]):f<x&&(o=t<3||i[0]>r||r>x)&&(i[4]=t,i[5]=r,u.n=x,a=0))}if(o||t>1)return l;throw c=!0,r}return function(o,p,x){if(d>1)throw TypeError("Generator is already running");for(c&&1===p&&f(p,x),a=p,s=x;(n=a<2?e:s)||!c;){i||(a?a<3?(a>1&&(u.n=-1),f(a,s)):u.n=s:u.v=s);try{if(d=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((n=(c=u.n<0)?s:t.call(r,u))!==l)break}catch(n){i=e,a=1,s=n}finally{d=1}}return{value:n,done:c}}}(t,o,i),!0),d}var l={};function a(){}function s(){}function d(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(c(n={},r,function(){return this}),n),f=d.prototype=a.prototype=Object.create(u);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=d,c(f,"constructor",d),c(d,"constructor",s),s.displayName="GeneratorFunction",c(d,o,"GeneratorFunction"),c(f),c(f,o,"Generator"),c(f,r,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:x}})()}function c(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}c=function(e,n,t,r){function i(n,t){c(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},c(e,n,t,r)}function u(e,n,t,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void t(e)}a.done?n(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function l(e){u(i,r,o,l,a,"next",e)}function a(e){u(i,r,o,l,a,"throw",e)}l(void 0)})}}function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){h(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,l,a=[],s=!0,d=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw o}}return a}}(e,n)||m(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"==typeof e)return y(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,n):void 0}}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var v=(0,r.memo)(function(e){var n=e.templateName,t=e.templateDescription,s=e.templateTags,c=e.canvasWidth,u=e.canvasHeight,x=e.marginTop,h=e.marginBottom,m=e.showGuides,y=e.snapToGrid,v=e.isNewTemplate,j=e.isModified,S=e.isSaving,w=e.isLoading,k=e.isEditingExistingTemplate,C=e.onSave,z=(e.onPreview,e.onNewTemplate),E=e.onUpdateTemplateSettings,T=(0,r.useDeferredValue)(j),O=(0,r.useDeferredValue)(S),W=(0,r.useDeferredValue)(w),I=(0,r.useDeferredValue)(k);(0,r.useEffect)(function(){},[]);var M=(0,o.nY)().state,R=(0,l.h)(),P=b((0,r.useState)(null),2),B=P[0],D=P[1],N=b((0,r.useState)(!1),2),A=N[0],L=N[1],F=b((0,r.useState)(!1),2),G=F[0],_=F[1],H=b((0,r.useState)(!1),2),J=H[0],q=H[1],U=b((0,r.useState)(!1),2),V=U[0],Y=U[1],K=b((0,r.useState)(n),2),$=K[0],Q=K[1],X=b((0,r.useState)(t),2),Z=X[0],ee=X[1],ne=b((0,r.useState)(s),2),te=ne[0],re=ne[1],oe=b((0,r.useState)(c),2),ie=oe[0],le=oe[1],ae=b((0,r.useState)(u),2),se=ae[0],de=ae[1],pe=b((0,r.useState)(x),2),ce=pe[0],ue=pe[1],fe=b((0,r.useState)(h),2),xe=fe[0],ge=fe[1],he=b((0,r.useState)(m),2),be=he[0],me=he[1],ye=b((0,r.useState)(y),2),ve=ye[0],je=ye[1],Se=b((0,r.useState)(""),2),we=Se[0],ke=Se[1],Ce=b((0,r.useState)(!1),2),ze=Ce[0],Ee=Ce[1],Te=(0,i.g)(),Oe=Te.isModalOpen,We=Te.openModal,Ie=Te.closeModal,Me=Te.isGenerating,Re=Te.previewUrl,Pe=Te.error,Be=Te.format,De=Te.setFormat,Ne=Te.generatePreview,Ae=Te.clearPreview;(0,r.useEffect)(function(){},[]),(0,r.useEffect)(function(){},[Oe]),(0,r.useEffect)(function(){Q(n)},[n]),(0,r.useEffect)(function(){ee(t)},[t]),(0,r.useEffect)(function(){re(s)},[s]),(0,r.useEffect)(function(){le(c)},[c]),(0,r.useEffect)(function(){de(u)},[u]),(0,r.useEffect)(function(){ue(x)},[x]),(0,r.useEffect)(function(){ge(h)},[h]),(0,r.useEffect)(function(){me(m)},[m]),(0,r.useEffect)(function(){R.guidesEnabled||me(!1)},[R.guidesEnabled]),(0,r.useEffect)(function(){je(y)},[y]);var Le=b((0,r.useState)(null),2),Fe=Le[0],Ge=Le[1],_e=(0,r.useCallback)(function(){Fe||Ge(setTimeout(function(){var e=window.pageYOffset||document.documentElement.scrollTop;Y(e>120),Ge(null)},50))},[Fe]);(0,r.useEffect)(function(){return window.addEventListener("scroll",_e,{passive:!0}),function(){return window.removeEventListener("scroll",_e)}},[_e]),(0,r.useEffect)(function(){var e=function(e){var n=e.target;ze&&!n.closest("[data-predefined-dropdown]")&&Ee(!1)};if(ze)return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[ze]);var He={padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},Je=g(g({},He),{},{backgroundColor:"#4CAF50",color:"#fff",boxShadow:"save"===B?"0 4px 12px rgba(76, 175, 80, 0.3)":"none"}),qe=g(g({},He),{},{backgroundColor:"#fff",border:"1px solid #ddd",color:"#333",boxShadow:"preview-image"===B||"preview-pdf"===B||"new"===B?"0 2px 8px rgba(0, 0, 0, 0.1)":"none"});return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:V?"16px":"12px",paddingLeft:V?"16px":"12px",paddingRight:V?"16px":"12px",backgroundColor:"#ffffff",borderBottom:"2px solid #e0e0e0",borderRadius:"0px",boxShadow:V?"0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1)":"none",gap:"16px",position:V?"fixed":"relative",top:V?"32px":"auto",left:V?"160px":"auto",right:V?"0":"auto",width:V?"calc(100% - 160px)":"auto",zIndex:1e3,boxSizing:"border-box",transition:"all 0.25s ease-in-out"},children:[(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"12px",minWidth:0,flex:1},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:"12px",minWidth:0},children:[(0,a.jsx)("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#1a1a1a",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n||"Sans titre"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[T&&(0,a.jsxs)("span",{style:{fontSize:"12px",padding:"4px 10px",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"4px",fontWeight:"500",border:"1px solid #ffeaa7",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("span",{style:{fontSize:"16px"},children:"‚óè"}),"Modifi√©"]}),v&&(0,a.jsx)("span",{style:{fontSize:"12px",padding:"4px 10px",backgroundColor:"#d1ecf1",color:"#0c5460",borderRadius:"4px",fontWeight:"500",border:"1px solid #bee5eb"},children:"Nouveau"})]})]})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",flexShrink:0,alignItems:"center"},children:[(0,a.jsxs)("button",{onClick:z,onMouseEnter:function(){return D("new")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"Cr√©er un nouveau template",children:[(0,a.jsx)("span",{children:"‚ûï"}),(0,a.jsx)("span",{children:"Nouveau"})]}),(0,a.jsxs)("div",{style:{position:"relative"},"data-predefined-dropdown":!0,children:[(0,a.jsxs)("button",{onClick:function(){return Ee(!ze)},onMouseEnter:function(){return D("predefined")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"Mod√®les pr√©d√©finis",children:[(0,a.jsx)("span",{children:"üé®"}),(0,a.jsx)("span",{children:"Mod√®les Pr√©d√©finis"}),(0,a.jsx)("span",{style:{marginLeft:"4px",fontSize:"12px"},children:"‚ñº"})]}),ze&&(0,a.jsxs)("div",{style:{position:"absolute",top:"100%",right:0,background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1001,minWidth:"280px",maxHeight:"400px",overflowY:"auto"},children:[(0,a.jsx)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e0e0e0",background:"#f8f9fa",fontWeight:"600",fontSize:"14px",color:"#23282d"},children:"üé® Mod√®les Pr√©d√©finis"}),(0,a.jsxs)("div",{style:{padding:"8px 0"},children:[(0,a.jsxs)("div",{style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",gap:"12px"},onClick:function(){window.open("/wp-admin/admin.php?page=pdf-builder-templates","_blank"),Ee(!1)},onMouseEnter:function(e){return e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("span",{style:{fontSize:"20px"},children:"üßæ"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontWeight:"500",color:"#23282d"},children:"Facture Professionnelle"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Template professionnel pour factures"})]})]}),(0,a.jsxs)("div",{style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",gap:"12px"},onClick:function(){window.open("/wp-admin/admin.php?page=pdf-builder-templates","_blank"),Ee(!1)},onMouseEnter:function(e){return e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("span",{style:{fontSize:"20px"},children:"üìã"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontWeight:"500",color:"#23282d"},children:"Devis Commercial"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Template professionnel pour devis"})]})]}),(0,a.jsxs)("div",{style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",gap:"12px"},onClick:function(){window.open("/wp-admin/admin.php?page=pdf-builder-templates","_blank"),Ee(!1)},onMouseEnter:function(e){return e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("span",{style:{fontSize:"20px"},children:"üì¶"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontWeight:"500",color:"#23282d"},children:"Bon de Commande"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Template professionnel pour commandes"})]})]}),(0,a.jsxs)("div",{style:{padding:"12px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:"#007cba",fontWeight:"500"},onClick:function(){window.open("/wp-admin/admin.php?page=pdf-builder-templates","_blank"),Ee(!1)},onMouseEnter:function(e){return e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("span",{style:{fontSize:"16px"},children:"üìö"}),(0,a.jsx)("span",{children:"Voir tous les mod√®les..."})]})]})]})]}),(0,a.jsxs)("button",{onClick:function(){We()},onMouseEnter:function(){return D("preview-image")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"G√©n√©rer un aper√ßu image du PDF",children:[(0,a.jsx)("span",{children:"üì∏"}),(0,a.jsx)("span",{children:"Aper√ßu Image"})]}),(0,a.jsxs)("button",{onClick:function(){De("pdf"),We()},onMouseEnter:function(){return D("preview-pdf")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"Ouvrir le PDF dans un nouvel onglet",children:[(0,a.jsx)("span",{children:"üìÑ"}),(0,a.jsx)("span",{children:"Aper√ßu PDF"})]}),(0,a.jsx)("div",{style:{width:"1px",height:"24px",backgroundColor:"#e0e0e0"}}),(0,a.jsxs)("button",{onClick:function(){return _(!0)},onMouseEnter:function(){return D("json")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"Voir et copier le JSON du canvas",children:[(0,a.jsx)("span",{children:"üìÑ"}),(0,a.jsx)("span",{children:"JSON"})]}),(0,a.jsxs)("button",{onClick:function(){return L(!0)},onMouseEnter:function(){return D("settings")},onMouseLeave:function(){return D(null)},style:g(g({},qe),{},{opacity:S?.6:1,pointerEvents:S?"none":"auto"}),title:"Param√®tres du template",children:[(0,a.jsx)("span",{children:"‚öôÔ∏è"}),(0,a.jsx)("span",{children:"Param√®tres"})]}),(0,a.jsxs)("button",{onClick:f(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,C();case 1:e.n=3;break;case 2:e.p=2,n=e.v,alert("Erreur lors de la sauvegarde: "+(n instanceof Error?n.message:"Erreur inconnue"));case 3:return e.a(2)}},e,null,[[0,2]])})),disabled:O||!T||W,onMouseEnter:function(){return D("save")},onMouseLeave:function(){return D(null)},style:g(g({},Je),{},{opacity:O||!T||W?.6:1,pointerEvents:O||!T||W?"none":"auto"}),title:W?"Chargement du template...":T?I?"Modifier le template":"Enregistrer les modifications":"Aucune modification",children:[(0,a.jsx)("span",{children:O?"‚ü≥":"üíæ"}),(0,a.jsx)("span",{children:O?"Enregistrement...":I?"Modifier":"Enregistrer"})]})]}),A&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,a.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #e0e0e0",paddingBottom:"16px"},children:[(0,a.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1a1a1a"},children:"Param√®tres du template"}),(0,a.jsx)("button",{onClick:function(){return L(!1)},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"4px"},title:"Fermer",children:"√ó"})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#333"},children:"Nom du mod√®le"}),(0,a.jsx)("input",{type:"text",value:$,onChange:function(e){return Q(e.target.value)},style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",backgroundColor:"#ffffff"},placeholder:"Entrez le nom du template"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#333"},children:"Description"}),(0,a.jsx)("textarea",{value:Z,onChange:function(e){return ee(e.target.value)},style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",minHeight:"60px",resize:"vertical"},placeholder:"Description du template..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#333"},children:"√âtiquettes (Tags)"}),(0,a.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px",flexWrap:"wrap"},children:te.map(function(e,n){return(0,a.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",backgroundColor:"#e3f2fd",color:"#1565c0",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:[e,(0,a.jsx)("button",{onClick:function(){return re(te.filter(function(e,t){return t!==n}))},style:{background:"none",border:"none",color:"#1565c0",cursor:"pointer",fontSize:"14px",padding:"0",lineHeight:"1"},title:"Supprimer cette √©tiquette",children:"√ó"})]},n)})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,a.jsx)("input",{type:"text",value:we,onChange:function(e){return ke(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&we.trim()&&(e.preventDefault(),re([].concat(d(te),[we.trim()])),ke(""))},style:{flex:1,padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},placeholder:"Ajouter une √©tiquette..."}),(0,a.jsx)("button",{onClick:function(){we.trim()&&(re([].concat(d(te),[we.trim()])),ke(""))},style:{padding:"8px 12px",border:"1px solid #007bff",borderRadius:"4px",backgroundColor:"#007bff",color:"#ffffff",cursor:"pointer",fontSize:"14px"},children:"Ajouter"})]}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:'Appuyez sur Entr√©e ou cliquez sur "Ajouter" pour ajouter une √©tiquette'})]}),(0,a.jsxs)("div",{style:{borderTop:"1px solid #e0e0e0",paddingTop:"16px",marginTop:"16px"},children:[(0,a.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:"600",color:"#333"},children:"Param√®tres avanc√©s"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#555"},children:"Largeur du canvas (px)"}),(0,a.jsx)("input",{type:"number",value:ie,disabled:!0,style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"3px",fontSize:"12px",backgroundColor:"#f5f5f5",color:"#999",cursor:"not-allowed"}}),(0,a.jsx)("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"},children:"Non modifiable"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#555"},children:"Hauteur du canvas (px)"}),(0,a.jsx)("input",{type:"number",value:se,disabled:!0,style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"3px",fontSize:"12px",backgroundColor:"#f5f5f5",color:"#999",cursor:"not-allowed"}}),(0,a.jsx)("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"},children:"Non modifiable"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#555"},children:"Marge sup√©rieure (px)"}),(0,a.jsx)("input",{type:"number",value:ce,onChange:function(e){return ue(Number(e.target.value))},style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"3px",fontSize:"12px"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#555"},children:"Marge inf√©rieure (px)"}),(0,a.jsx)("input",{type:"number",value:xe,onChange:function(e){return ge(Number(e.target.value))},style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"3px",fontSize:"12px"}})]})]}),(0,a.jsx)("div",{style:{marginTop:"12px"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",fontWeight:"500",color:R.guidesEnabled?"#555":"#999",opacity:R.guidesEnabled?1:.6},children:[(0,a.jsx)("input",{type:"checkbox",checked:be,onChange:function(e){return me(e.target.checked)},disabled:!R.guidesEnabled,style:{margin:0}}),"Afficher les guides d'alignement",!R.guidesEnabled&&(0,a.jsx)("span",{style:{fontSize:"10px",color:"#999",fontStyle:"italic"},children:"(d√©sactiv√© dans les param√®tres)"})]})}),(0,a.jsx)("div",{style:{marginTop:"8px"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",fontWeight:"500",color:"#555"},children:[(0,a.jsx)("input",{type:"checkbox",checked:ve,onChange:function(e){return je(e.target.checked)},style:{margin:0}}),"Mode grille magn√©tique"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#333"},children:"Statut"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[v&&(0,a.jsx)("span",{style:{padding:"4px 8px",backgroundColor:"#e3f2fd",color:"#1565c0",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"Nouveau template"}),T&&(0,a.jsx)("span",{style:{padding:"4px 8px",backgroundColor:"#fff3e0",color:"#f57c00",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"Modifi√©"}),k&&(0,a.jsx)("span",{style:{padding:"4px 8px",backgroundColor:"#f3e5f5",color:"#7b1fa2",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"√âdition existante"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#333"},children:"Informations syst√®me"}),(0,a.jsxs)("div",{style:{fontSize:"13px",color:"#666",lineHeight:"1.5"},children:[(0,a.jsxs)("div",{children:["Template ID: ",n||"N/A"]}),(0,a.jsxs)("div",{children:["Derni√®re modification: ",(new Date).toLocaleString("fr-FR")]}),(0,a.jsxs)("div",{children:["√âtat: ",O?"Enregistrement...":T?"Modifi√©":"Sauvegard√©"]})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"20px"},children:[(0,a.jsx)("button",{onClick:function(){return L(!1)},style:{padding:"8px 16px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f8f8",color:"#333",cursor:"pointer",fontSize:"14px"},children:"Annuler"}),(0,a.jsx)("button",{onClick:function(){E({name:$,description:Z,tags:te,marginTop:ce,marginBottom:xe,showGuides:be,snapToGrid:ve}),L(!1)},style:{padding:"8px 16px",border:"none",borderRadius:"4px",backgroundColor:"#4CAF50",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Sauvegarder"})]})]})]})}),G&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:(0,a.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",padding:"24px",maxWidth:"90vw",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",borderBottom:"1px solid #e0e0e0",paddingBottom:"12px"},children:[(0,a.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1a1a1a"},children:["üìã JSON Brut du Template (ID: ",n||"N/A",")"]}),(0,a.jsx)("button",{onClick:function(){return _(!1)},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"4px"},title:"Fermer",children:"√ó"})]}),(0,a.jsx)("div",{style:{flex:1,overflow:"auto",backgroundColor:"#f5f5f5",borderRadius:"6px",padding:"16px",fontFamily:"'Courier New', monospace",fontSize:"12px",lineHeight:"1.5",color:"#333",whiteSpace:"pre-wrap",wordBreak:"break-word",border:"1px solid #ddd",marginBottom:"16px"},children:JSON.stringify(g(g({},M.template),{},{elements:M.elements}),null,2)}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(g(g({},M.template),{},{elements:M.elements}),null,2)),q(!0),setTimeout(function(){return q(!1)},2e3)},style:{padding:"8px 16px",backgroundColor:"#0073aa",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",opacity:J?.7:1},title:"Copier le JSON",children:J?"‚úÖ Copi√©!":"üìã Copier JSON"}),(0,a.jsx)("button",{onClick:function(){var e=JSON.stringify(g(g({},M.template),{},{elements:M.elements}),null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download="template-".concat(n||"export","-").concat((new Date).getTime(),".json"),o.click(),URL.revokeObjectURL(r)},style:{padding:"8px 16px",backgroundColor:"#10a37f",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},title:"T√©l√©charger le JSON",children:"üíæ T√©l√©charger"}),(0,a.jsx)("button",{onClick:function(){return _(!1)},style:{padding:"8px 16px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f8f8",color:"#333",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Fermer"})]})]})}),Oe&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:(0,a.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",padding:"24px",maxWidth:"90vw",width:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1a1a1a"},children:"Aper√ßu du PDF"}),(0,a.jsx)("button",{onClick:function(){Ie(),Ae()},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Fermer",children:"√ó"})]}),(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#333",marginBottom:"8px"},children:"Format d'export :"}),(0,a.jsx)("div",{style:{display:"flex",gap:"10px"},children:[{value:"png",label:"PNG",icon:"üñºÔ∏è"},{value:"jpg",label:"JPG",icon:"üì∑"},{value:"pdf",label:"PDF",icon:"üìÑ"}].map(function(e){return(0,a.jsxs)("button",{onClick:function(){return De(e.value)},style:{padding:"8px 16px",border:"2px solid ".concat(Be===e.value?"#007cba":"#ddd"),borderRadius:"6px",backgroundColor:Be===e.value?"#f0f8ff":"#fff",color:Be===e.value?"#007cba":"#333",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.label})]},e.value)})})]}),(0,a.jsx)("div",{style:{marginBottom:"20px"},children:(0,a.jsx)("button",{onClick:f(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ne(g(g({},M.template),{},{elements:M.elements}),{format:Be,quality:150});case 1:return e.a(2)}},e)})),disabled:Me,style:{padding:"12px 24px",backgroundColor:Me?"#ccc":"#007cba",color:"#fff",border:"none",borderRadius:"6px",cursor:Me?"not-allowed":"pointer",fontSize:"16px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:Me?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"‚ü≥"}),(0,a.jsx)("span",{children:"G√©n√©ration en cours..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"üé®"}),(0,a.jsx)("span",{children:"G√©n√©rer l'aper√ßu"})]})})}),Pe&&(0,a.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",marginBottom:"20px"},children:[(0,a.jsx)("strong",{children:"Erreur:"})," ",Pe]}),Re&&(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)("img",{src:Re,alt:"Aper√ßu du PDF",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),(0,a.jsx)("div",{style:{marginTop:"10px"},children:(0,a.jsx)("a",{href:Re,download:"apercu-".concat(n||"template",".").concat(Be),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"#fff",textDecoration:"none",borderRadius:"4px",fontSize:"14px",fontWeight:"500"},children:"üíæ T√©l√©charger"})})]})]})})]})})}}]);