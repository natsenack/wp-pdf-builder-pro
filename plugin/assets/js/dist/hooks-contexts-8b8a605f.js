/*! For license information please see hooks-contexts-8b8a605f.js.LICENSE.txt */
"use strict";(this.webpackChunkwp_pdf_builder_pro=this.webpackChunkwp_pdf_builder_pro||[]).push([[347],{339:function(e,t,n){n.d(t,{I7:function(){return y}});var r=n(594);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function u(n,r,o,a){var u=r&&r.prototype instanceof s?r:s,f=Object.create(u.prototype);return i(f,"_invoke",function(n,r,o){var a,i,u,s=0,f=o||[],l=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,u=e,d.n=n,c}};function p(n,r){for(i=n,u=r,t=0;!l&&s&&!o&&t<f.length;t++){var o,a=f[t],p=d.p,v=a[2];n>3?(o=v===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,d.v=r,d.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,i=0))}if(o||n>1)return c;throw l=!0,r}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,v),i=f,u=v;(t=i<2?e:u)||!l;){a||(i?i<3?(i>1&&(d.n=-1),p(i,u)):d.n=u:d.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(l=d.n<0)?u:n.call(r,d))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:l}}}(n,o,a),!0),f}var c={};function s(){}function f(){}function l(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),p=l.prototype=s.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,i(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return f.prototype=l,i(p,"constructor",l),i(l,"constructor",f),f.displayName="GeneratorFunction",i(l,o,"GeneratorFunction"),i(p),i(p,o,"Generator"),i(p,r,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:u,m:v}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,n,r){function a(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},i(e,t,n,r)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,u,"next",e)}function u(e){f(a,r,o,i,u,"throw",e)}i(void 0)})}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,u=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(){var e=d((0,r.useState)(function(){return window.pdfBuilderCanvasSettings||_()}),2),t=e[0],n=e[1],o=d((0,r.useState)(!1),2),i=o[0],u=o[1];return(0,r.useEffect)(function(){var e=!0,t=function(){var t=l(a().m(function t(){var r,o,s,f,l;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!i){t.n=1;break}return t.a(2);case 1:return t.p=1,u(!0),s=(null===(r=window.pdfBuilderData)||void 0===r?void 0:r.ajaxUrl)||"/wp-admin/admin-ajax.php",t.n=2,fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"pdf_builder_get_canvas_settings",nonce:(null===(o=window.pdfBuilderData)||void 0===o?void 0:o.nonce)||""})});case 2:if(f=t.v,e){t.n=3;break}return t.a(2);case 3:return t.n=4,f.json();case 4:(l=t.v).success&&l.data&&(window.pdfBuilderCanvasSettings=c(c({},window.pdfBuilderCanvasSettings),l.data),n(window.pdfBuilderCanvasSettings)),t.n=6;break;case 5:t.p=5,t.v;case 6:return t.p=6,e&&u(!1),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}));return function(){return t.apply(this,arguments)}}(),r=function(){e&&n(window.pdfBuilderCanvasSettings)},o=function(){var n=l(a().m(function n(r){return a().w(function(n){for(;;)switch(n.n){case 0:if("pdfBuilderSettingsUpdated"!==r.key||!e){n.n=1;break}return n.n=1,t();case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}();return window.pdfBuilderCanvasSettings||t(),localStorage.getItem("pdfBuilderSettingsUpdated")&&t(),window.addEventListener("canvasSettingsUpdated",r),window.addEventListener("storage",o),function(){e=!1,window.removeEventListener("canvasSettingsUpdated",r),window.removeEventListener("storage",o)}},[]),t},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=v();return(0,r.useMemo)(function(){return e in n?n[e]:t},[e,n,t])},_=function(){return{default_canvas_width:794,default_canvas_height:1123,default_canvas_unit:"px",default_orientation:"portrait",canvas_background_color:"#ffffff",canvas_show_transparency:!1,container_background_color:"#f8f9fa",container_show_transparency:!1,margin_top:28,margin_right:28,margin_bottom:10,margin_left:10,show_margins:!1,show_grid:!1,grid_size:10,grid_color:"#e0e0e0",snap_to_grid:!1,snap_to_elements:!1,snap_tolerance:5,show_guides:!1,default_zoom:100,zoom_step:25,min_zoom:10,max_zoom:500,zoom_with_wheel:!1,pan_with_mouse:!1,show_resize_handles:!1,handle_size:8,handle_color:"#007cba",enable_rotation:!1,rotation_step:15,multi_select:!1,copy_paste_enabled:!1,export_quality:"print",export_format:"pdf",compress_images:!0,image_quality:85,max_image_size:2048,include_metadata:!0,pdf_author:"PDF Builder Pro",pdf_subject:"",auto_crop:!1,embed_fonts:!0,optimize_for_web:!0,enable_hardware_acceleration:!0,limit_fps:!0,max_fps:60,auto_save_enabled:!0,auto_save_interval:30,auto_save_versions:10,undo_levels:50,redo_levels:50,enable_keyboard_shortcuts:!0,debug_mode:!1,show_fps:!1}}},908:function(e,t,n){n.d(t,{K:function(){return i}});var r=n(594),o=n(75),a=n(339),i=function(){var e=(0,o.nY)(),t=e.state,n=e.dispatch,i=(0,a.I7)("enable_keyboard_shortcuts",!0),u=(0,r.useRef)(t),c=(0,r.useRef)(n);(0,r.useEffect)(function(){u.current=t,c.current=n},[t,n]);var s=(0,r.useCallback)(function(e){var t=e;if(i){var n=e.target;if("INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&"true"!==n.contentEditable){var r=t.ctrlKey,o=t.metaKey,a=t.key,s=t.shiftKey,f=r||o;switch(a.toLowerCase()){case"z":f&&(e.preventDefault(),s?c.current({type:"REDO"}):c.current({type:"UNDO"}));break;case"y":f&&!s&&(e.preventDefault(),c.current({type:"REDO"}));break;case"a":if(f){e.preventDefault();var l=u.current.elements.map(function(e){return e.id});c.current({type:"SET_SELECTION",payload:l})}break;case"delete":case"backspace":u.current.selection.selectedElements.length>0&&(e.preventDefault(),u.current.selection.selectedElements.forEach(function(e){c.current({type:"REMOVE_ELEMENT",payload:e})}),c.current({type:"CLEAR_SELECTION"}));break;case"c":case"d":f&&(e.preventDefault(),u.current.selection.selectedElements.length);break;case"v":f&&e.preventDefault()}}}},[i]);return(0,r.useEffect)(function(){if(i)return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}},[s,i]),{keyboardShortcutsEnabled:i,hasSelection:t.selection.selectedElements.length>0,canUndo:t.history.past.length>0,canRedo:t.history.future.length>0}}}}]);