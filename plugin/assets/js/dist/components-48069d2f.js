"use strict";(this.webpackChunkwp_pdf_builder_pro=this.webpackChunkwp_pdf_builder_pro||[]).push([[513],{262:function(e,n,t){t.d(n,{t:function(){return u}});var r=t(594),o=t(206),i=t(848);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return s(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=function(e){var n=e.items,t=e.position,s=e.onClose,l=e.isVisible,c=(0,r.useRef)(null),d=a((0,r.useState)(null),2),f=d[0],p=d[1],x=a((0,r.useState)(null),2),m=x[0],b=x[1],g=a((0,r.useState)(null),2),h=g[0],y=g[1],v=(0,r.useRef)(null),w=(0,r.useMemo)(function(){var e=t.x,r=t.y;if("undefined"!=typeof window){var o=0;n.forEach(function(e){e.section?o+=14:e.separator?o+=3:o+=18}),o+=2,e+160>window.innerWidth&&(e=window.innerWidth-160-10),r+o>window.innerHeight&&(r=window.innerHeight-o-10),r<0&&(r=10),e<0&&(e=10)}return{x:e,y:r}},[t,n]);if((0,r.useEffect)(function(){return function(){v.current&&clearTimeout(v.current)}},[]),(0,r.useLayoutEffect)(function(){if(m&&c.current){var e=c.current,n=e.querySelector('[data-item-id="'.concat(m,'"]'));if(n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o=t.right-2,i=r.top;o+160>window.innerWidth&&(o=t.left-160+2);i+200>window.innerHeight&&(i=window.innerHeight-200-10),i<0&&(i=10),y(function(e){return{x:o,y:i}})}}else y(null)},[m]),(0,r.useEffect)(function(){if(l){var e=function(e){setTimeout(function(){c.current&&(2!==e.button&&(c.current.contains(e.target)||s()))},10)},n=function(e){c.current&&c.current.contains(e.target)&&e.preventDefault()},t=function(e){"Escape"===e.key&&s()},r=setTimeout(function(){document.addEventListener("mousedown",e),document.addEventListener("contextmenu",n),document.addEventListener("keydown",t)},50);return function(){clearTimeout(r),document.removeEventListener("mousedown",e),document.removeEventListener("contextmenu",n),document.removeEventListener("keydown",t)}}},[l,s]),!l)return null;var S=(0,i.jsx)("div",{ref:c,className:"context-menu",onMouseLeave:function(){v.current&&clearTimeout(v.current),v.current=window.setTimeout(function(){b(null),p(null)},300)},onMouseEnter:function(){v.current&&(clearTimeout(v.current),v.current=null)},style:{position:"fixed",left:"".concat(w.x,"px"),top:"".concat(w.y,"px"),opacity:1,visibility:"visible",pointerEvents:"auto",zIndex:999999,background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)",border:"1px solid #e2e8f0",WebkitBorderRadius:"8px",MozBorderRadius:"8px",msBorderRadius:"8px",OBorderRadius:"8px",borderRadius:"8px",WebkitBoxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)",MozBoxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)",msBoxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)",OBoxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)",minWidth:"120px",maxWidth:"160px",padding:"1px 0",WebkitTransition:"opacity 0.15s ease-in-out",MozTransition:"opacity 0.15s ease-in-out",OTransition:"opacity 0.15s ease-in-out",transition:"opacity 0.15s ease-in-out",WebkitTransformOrigin:"top left",MozTransformOrigin:"top left",msTransformOrigin:"top left",OTransformOrigin:"top left",transformOrigin:"top left"},children:n.map(function(e){return(0,i.jsx)("div",{children:e.section?(0,i.jsx)("div",{className:"context-menu-section",style:{padding:"2px 6px 1px"},children:(0,i.jsx)("div",{className:"context-menu-section-title",style:{fontSize:"8px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",padding:"0px",marginBottom:"0px"},children:e.section})}):e.separator?(0,i.jsx)("div",{className:"context-menu-separator",style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #e2e8f0 20%, #e2e8f0 80%, transparent 100%)",margin:"1px 0",border:"none"}}):(0,i.jsxs)("div",{className:"context-menu-item ".concat(e.disabled?"disabled":""),"data-item-id":e.id,onClick:function(){return function(e){e.disabled||e.separator||!e.action||(e.action(),s())}(e)},onMouseEnter:function(){p(e.id),e.children&&e.children.length>0?b(e.id):b(null)},style:{display:"flex",alignItems:"center",padding:"1px 4px",cursor:e.disabled?"not-allowed":"pointer",userSelect:"none",transition:"all 0.15s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",minHeight:"16px",border:"none",background:f===e.id?"#f1f5f9":"transparent",color:e.disabled?"#94a3b8":"#334155",fontSize:"11px",fontWeight:"500"},children:[e.icon&&(0,i.jsx)("span",{className:"context-menu-item-icon",style:{width:"10px",height:"10px",marginRight:"3px",display:"flex",alignItems:"center",justifyContent:"center",color:e.disabled?"#94a3b8":"#64748b",fontSize:"9px"},children:e.icon}),e.label&&(0,i.jsx)("span",{className:"context-menu-item-text",style:{flex:"1",fontSize:"10px",fontWeight:"500",color:e.disabled?"#94a3b8":"#334155"},children:e.label}),e.shortcut&&(0,i.jsx)("span",{className:"context-menu-item-shortcut",style:{fontSize:"8px",fontWeight:"500",color:e.disabled?"#94a3b8":"#64748b",background:"rgba(148, 163, 184, 0.1)",padding:"0px 1px",borderRadius:"1px",marginLeft:"3px"},children:e.shortcut}),e.children&&e.children.length>0&&(0,i.jsx)("span",{className:"context-menu-submenu-arrow",style:{marginLeft:"4px",color:"#64748b",fontSize:"8px"},children:"▶"})]})},e.id)})});return(0,o.createPortal)((0,i.jsxs)(i.Fragment,{children:[S,function(){if(!m||!h)return null;var e=n.find(function(e){return e.id===m});return e&&e.children?(0,i.jsx)("div",{onMouseEnter:function(){v.current&&(clearTimeout(v.current),v.current=null)},onMouseLeave:function(){v.current&&clearTimeout(v.current),v.current=window.setTimeout(function(){b(null),p(null)},300)},children:(0,i.jsx)(u,{items:e.children,position:h,onClose:function(){return b(null)},isVisible:!0})}):null}()]}),document.body)}},894:function(e,n,t){t.d(n,{x:function(){return a}});t(594);var r=t(848);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=function(e){var n,t=e.state,o=(e.lastSavedAt,e.error,e.onRetry),a=e.progress,s=void 0===a?0:a;e.showProgressBar;if("idle"===t)return null;var u={saving:{bg:"#2196F3",text:"#fff",border:"#1976D2"},saved:{bg:"#4CAF50",text:"#fff",border:"#388E3C"},error:{bg:"#FF9800",text:"#fff",border:"#F57C00"}}[t];return(0,r.jsxs)("div",{style:(n={position:"fixed",top:"50px",right:"20px",padding:"14px 20px",WebkitBorderRadius:"6px",MozBorderRadius:"6px",msBorderRadius:"6px",OBorderRadius:"6px",borderRadius:"6px",background:u.bg,border:"2px solid ".concat(u.border),WebkitBoxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",MozBoxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",msBoxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",OBoxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",fontSize:"14px",fontWeight:"bold",fontFamily:"Arial, sans-serif",color:u.text,zIndex:999999,display:"-webkit-box"},i(i(i(i(i(i(i(i(i(i(n,"display","-webkit-flex"),"display","-moz-box"),"display","-ms-flexbox"),"display","flex"),"WebkitBoxAlign","center"),"WebkitAlignItems","center"),"MozBoxAlign","center"),"msFlexAlign","center"),"alignItems","center"),"WebkitGap","12px"),i(i(i(i(n,"MozGap","12px"),"gap","12px"),"minWidth","200px"),"animation","saving"===t?"pulse 2s infinite":"slideIn 0.3s ease-out")),children:["saving"===t&&(0,r.jsx)("div",{style:{fontSize:"16px",animation:"spin 1s linear infinite"},children:"⟳"}),"saved"===t&&(0,r.jsx)("div",{style:{fontSize:"16px"},children:"✓"}),"error"===t&&(0,r.jsx)("div",{style:{fontSize:"16px"},children:"!"}),(0,r.jsx)("span",{children:function(){switch(t){case"saving":return"Sauvegarde en cours".concat(s>0?" (".concat(Math.round(s),"%)"):"","...");case"saved":return"Sauvegardé ✓";case"error":return"Auto-save temporairement indisponible";default:return""}}()}),"error"===t&&o&&(0,r.jsx)("button",{onClick:o,style:{marginLeft:"auto",padding:"4px 8px",background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.4)",color:"#fff",WebkitBorderRadius:"3px",MozBorderRadius:"3px",msBorderRadius:"3px",OBorderRadius:"3px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Réessayer"}),(0,r.jsx)("style",{children:"\n        @keyframes spin {\n          from { \n            -webkit-transform: rotate(0deg); \n            -moz-transform: rotate(0deg); \n            -ms-transform: rotate(0deg); \n            -o-transform: rotate(0deg); \n            transform: rotate(0deg); \n          }\n          to { \n            -webkit-transform: rotate(360deg); \n            -moz-transform: rotate(360deg); \n            -ms-transform: rotate(360deg); \n            -o-transform: rotate(360deg); \n            transform: rotate(360deg); \n          }\n        }\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.7; }\n        }\n        @keyframes slideIn {\n          from {\n            -webkit-transform: translateX(100px);\n            -moz-transform: translateX(100px);\n            -ms-transform: translateX(100px);\n            -o-transform: translateX(100px);\n            transform: translateX(100px);\n            opacity: 0;\n          }\n          to {\n            -webkit-transform: translateX(0);\n            -moz-transform: translateX(0);\n            -ms-transform: translateX(0);\n            -o-transform: translateX(0);\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      "})]})}}}]);