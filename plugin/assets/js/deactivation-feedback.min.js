!function($){"use strict";$(document).ready(function(){const e="pdf-builder-pro";let t=null;const a=$("body"),i=`<div id="pdf-builder-deactivation-modal"><div class="modal-content"><div class="modal-header"><h2>Nous serions tristes de vous voir partir üò¢</h2><p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.9;">Aidez-nous √† am√©liorer PDF Builder Pro</p></div><div class="modal-body"><p style="margin: 0 0 15px 0; font-size: 14px;">Dites-nous pourquoi vous d√©sactivez le plugin :</p><div class="feedback-group"><label class="feedback-option"><input type="radio" name="deactivation_reason" value="dont_need"><label>Je n'en ai plus besoin</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="not_working"><label>Le plugin ne fonctionne pas correctement</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="slow_performance"><label>Le plugin ralentit mon site</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="confusing"><label>Le plugin est difficile √† utiliser</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="expensive"><label>C'est trop cher pour les fonctionnalit√©s</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="found_alternative"><label>J'ai trouv√© une meilleure alternative</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="temporary"><label>D√©sactivation temporaire</label></label><label class="feedback-option"><input type="radio" name="deactivation_reason" value="autre"><label>Autre raison</label></label></div><div class="email-field"><label for="pdf_builder_feedback_email">Votre email (pour vous recontacter) :</label><input type="email" id="pdf_builder_feedback_email" placeholder="votre@email.com"></div><textarea id="pdf_builder_feedback_message" placeholder="Parlez-nous de votre exp√©rience... (optionnel)"></textarea></div><div class="modal-footer"><button class="skip-button" id="pdf_builder_skip_feedback">Passer et d√©sactiver</button><button class="deactivate-button" id="pdf_builder_send_feedback">Envoyer et d√©sactiver</button></div></div></div>`,o=$("#pdf-builder-deactivation-modal"),n=$("#pdf_builder_skip_feedback"),l=$("#pdf_builder_send_feedback"),s=$("#pdf_builder_feedback_message"),c=$(".email-field");a.append(i),$("input[name=deactivation_reason]").on("change",function(){this.value&&(s.addClass("show"),c.addClass("show"))}),$(document).on("click",'a[href*="action=deactivate"][href*="'+e+'"]',function(e){e.preventDefault(),t=this.href,o.addClass("show"),$("input[name=deactivation_reason]").first().focus()}),n.on("click",function(){t&&(window.location.href=t)}),l.on("click",function(){const e=$("input[name=deactivation_reason]:checked").val(),a=s.val(),i=$("#pdf_builder_feedback_email").val();l.prop("disabled",!0).addClass("loading"),$.ajax({url:pdfBuilderDeactivation.ajaxUrl,type:"POST",data:{action:"pdf_builder_send_deactivation_feedback",nonce:pdfBuilderDeactivation.nonce,reason:e||"autre",message:a,email:i},complete:function(){t&&(window.location.href=t)}})})})}(jQuery);
