<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test PDF Builder Pro</title>
    <link rel="stylesheet" href="../assets/css/pdf-builder-admin.css">
    <link rel="stylesheet" href="../assets/css/pdf-builder-canvas.css">
    <link rel="stylesheet" href="../assets/css/pdf-builder-react.css">
</head>
<body>
    <div id="pdf-builder-test" style="width: 100%; height: 600px; border: 1px solid #ccc;">
        <p>Chargement du PDF Builder...</p>
    </div>

    <script>
        // Simuler les donn√©es WordPress
        window.ajaxurl = 'http://localhost/wp-admin/admin-ajax.php';
        window.rednaoPDFInvoiceParams = {
            URL: 'http://localhost/wp-content/plugins/wp-pdf-builder-pro/',
            IsPr: '',
            Newsletter: 0,
            AdminUrl: 'http://localhost/wp-admin/',
            PAGE_OPTIONS: {
                name: 'Test Template',
                pageId: 1,
                width: 595,
                height: 842
            },
            ALREADY_EDITED: true
        };
    </script>

    <script src="../assets/js/dist/pdf-builder-admin.js"></script>

    <script>
        // Test d'initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üß™ Test du PDF Builder Pro');

            try {
                // Simuler l'initialisation WordPress
                if (window.PDFBuilderPro) {
                    console.log('‚úÖ PDFBuilderPro trouv√©');

                    const testOptions = {
                        templateId: 1,
                        templateName: 'Test Template',
                        isNew: false,
                        initialElements: [
                            {
                                id: 'test-product-table',
                                type: 'product_table',
                                x: 50,
                                y: 50,
                                width: 500,
                                height: 200,
                                columns: {
                                    image: true,
                                    name: true,
                                    sku: true,
                                    quantity: true,
                                    price: true,
                                    total: true
                                },
                                showSubtotal: true,
                                showShipping: true,
                                showTaxes: true,
                                showDiscount: true,
                                showTotal: true,
                                fontSize: 12,
                                borderWidth: 1
                            }
                        ],
                        width: 595,
                        height: 842
                    };

                    window.PDFBuilderPro.init('pdf-builder-test', testOptions);
                    console.log('‚úÖ Initialisation r√©ussie');
                } else {
                    console.error('‚ùå PDFBuilderPro non trouv√©');
                }
            } catch (error) {
                console.error('‚ùå Erreur lors du test:', error);
            }
        });
    </script>
</body>
</html>