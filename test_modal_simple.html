<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Modal Simplifi√©</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { padding: 10px 20px; background: #007cba; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #005a87; }
    </style>
</head>
<body>
    <h1>Test du Modal PDF Builder Simplifi√©</h1>
    <p>Cliquez sur le bouton pour ouvrir le modal de diagnostic.</p>

    <button onclick="testModal()">üß™ Tester le Modal</button>

    <div id="test-results" style="margin-top: 20px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
        <h3>R√©sultats du test:</h3>
        <div id="results-content">En attente...</div>
    </div>

    <!-- Charger les assets compil√©s -->
    <script src="assets/js/dist/vendors.js"></script>
    <script src="assets/js/dist/pdf-builder-admin.js"></script>

    <script>
        function testModal() {
            console.log('üß™ Test du modal d√©marr√©');

            // Simuler les donn√©es n√©cessaires
            window.pdfBuilderTestData = {
                orderId: 123,
                templateElements: [
                    { id: 1, type: 'text', content: 'Test Element 1' },
                    { id: 2, type: 'text', content: 'Test Element 2' }
                ]
            };

            // Appeler la fonction de modal
            if (typeof pdfBuilderShowPreview === 'function') {
                console.log('‚úÖ Fonction pdfBuilderShowPreview trouv√©e');
                pdfBuilderShowPreview(123, 'order');
                document.getElementById('results-content').innerHTML = '‚úÖ Modal ouvert - v√©rifiez s\'il reste ouvert apr√®s chargement';
            } else {
                console.error('‚ùå Fonction pdfBuilderShowPreview non trouv√©e');
                document.getElementById('results-content').innerHTML = '‚ùå Fonction pdfBuilderShowPreview non trouv√©e';
            }
        }

        // Surveiller les logs de console
        const originalLog = console.log;
        console.log = function(...args) {
            originalLog.apply(console, args);
            if (args[0] && args[0].includes('PDF Builder Debug')) {
                document.getElementById('results-content').innerHTML += '<br>üîç ' + args.join(' ');
            }
        };
    </script>
</body>
</html>