<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Positionnement - Debug</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: #f0f0f0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .canvas-wrapper {
            background: white;
            padding: 10px;
            border: 2px solid #333;
        }
        h2 {
            margin-bottom: 10px;
        }
        .pdf-canvas {
            position: relative;
            width: 794px;
            height: 400px;
            background: #ffffff;
            border: 1px solid #ccc;
            overflow: hidden;
        }
        .element {
            position: absolute;
            box-sizing: border-box;
            outline: 2px solid rgba(255, 0, 0, 0.5);
        }
        
        /* TEST 1: Sans padding */
        .test1 .element {
            background: rgba(0, 255, 0, 0.1);
        }
        
        /* TEST 2: Avec padding */
        .test2 .element-inner {
            padding: 12px;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            background: rgba(0, 0, 255, 0.1);
        }
        
        .coords {
            font-size: 12px;
            background: yellow;
            padding: 2px 4px;
            position: absolute;
            z-index: 10;
        }
    </style>
</head>
<body>
    <h1>Test de Positionnement - Diagnostic</h1>
    <p>Les bordures rouges montrent les limites de l'élément. Les zones colorées montrent le contenu.</p>
    
    <div class="container">
        <div class="canvas-wrapper test1">
            <h2>TEST 1: Sans padding (React style)</h2>
            <div class="pdf-canvas">
                <div class="coords" style="left: 100px; top: 150px;">X:100, Y:150</div>
                <div class="element" style="left: 100px; top: 150px; width: 200px; height: 100px;">
                    <div style="padding: 12px;">
                        Contenu avec padding INTERNE
                    </div>
                </div>
            </div>
        </div>
        
        <div class="canvas-wrapper test2">
            <h2>TEST 2: Container avec padding PHP</h2>
            <div class="pdf-canvas">
                <div class="coords" style="left: 100px; top: 150px;">X:100, Y:150</div>
                <div class="element" style="left: 100px; top: 150px; width: 200px; height: 100px;">
                    <div class="element-inner">
                        Contenu avec padding sur div interne (width/height 100%)
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="canvas-wrapper">
            <h2>TEST 3: Logo centré - Padding Method</h2>
            <div class="pdf-canvas">
                <div class="coords" style="left: 297px; top: 50px;">X:297, Y:50</div>
                <!-- Container 200x100 à position 297,50 -->
                <div class="element" style="left: 297px; top: 50px; width: 200px; height: 100px; background: #eee;">
                    <!-- Padding pour centrer image 100x50 -->
                    <div style="padding: 25px 50px; box-sizing: border-box; width: 100%; height: 100%;">
                        <div style="background: blue; width: 100%; height: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="canvas-wrapper">
            <h2>TEST 4: Logo centré  - Absolute Method</h2>
            <div class="pdf-canvas">
                <div class="coords" style="left: 297px; top: 50px;">X:297, Y:50</div>
                <!-- Container 200x100 à position 297,50 -->
                <div class="element" style="left: 297px; top: 50px; width: 200px; height: 100px; background: #eee;">
                    <!-- Image en position absolue -->
                    <div style="position: absolute; left: 50px; top: 25px; width: 100px; height: 50px; background: blue;"></div>
                </div>
            </div>
        </div>
    </div>
    
    <h2 style="margin-top: 30px;">Instructions</h2>
    <ol>
        <li>Les coordonnées jaunes montrent la position attendue</li>
        <li>Les bordures rouges montrent le conteneur de l'élément</li>
        <li>Dans TEST 3 (padding), le contenu bleu est DÉCALÉ visuellement par le padding</li>
        <li>Dans TEST 4 (absolute), le contenu bleu est exactement là où il devrait être</li>
    </ol>
    
    <p style="margin-top: 20px; padding: 10px; background: #ffffcc; border: 2px solid #ff0000;">
        <strong>DIAGNOSTIC:</strong> Si l'aperçu HTML utilise la méthode padding (TEST 3) alors que React utilise direct draw (TEST 4),
        il y aura un décalage visuel même si les positions sont correctes !
    </p>
</body>
</html>
