<!DOCTYPE html>
<html>
<head>
    <title>Template JSON Viewer</title>
</head>
<body>
    <h1>Template ID 1 JSON</h1>
    <pre id="json-output">Chargement...</pre>

    <script>
        async function loadTemplate() {
            try {
                const templateId = '1';
                const response = await fetch(`${window.pdfBuilderData.ajaxUrl}?action=pdf_builder_get_template&template_id=${templateId}&nonce=${window.pdfBuilderData.nonce}`);

                if (!response.ok) {
                    throw new Error(`Erreur HTTP: ${response.status}`);
                }

                const result = await response.json();

                if (!result.success) {
                    document.getElementById('json-output').textContent = `Erreur: ${result.data}`;
                    return;
                }

                // Afficher le JSON format√©
                document.getElementById('json-output').textContent = JSON.stringify(result.data, null, 2);

            } catch (error) {
                document.getElementById('json-output').textContent = `Erreur: ${error.message}`;
            }
        }

        // Charger automatiquement
        loadTemplate();
    </script>
</body>
</html>